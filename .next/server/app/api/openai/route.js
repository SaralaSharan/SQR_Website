(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20],{5521:e=>{"use strict";e.exports=require("node:async_hooks")},5356:e=>{"use strict";e.exports=require("node:buffer")},606:(e,t,r)=>{"use strict";let n,a,s,i;r.r(t),r.d(t,{ComponentMod:()=>iJ,default:()=>iK});var o,l,u,c,d,p,f,h,m,g,y,v,b,_,w,x,S,k,C,E,T,R,A,P,O,I,N,$,j,M={};r.r(M),r.d(M,{POST:()=>iF,runtime:()=>iq});var D={};r.r(D),r.d(D,{patchFetch:()=>iV,routeModule:()=>iZ,serverHooks:()=>iH,workAsyncStorage:()=>iB,workUnitAsyncStorage:()=>iz});var L=r(7694),U=r(7223);r(4332);var q=r(9263);let F=Symbol.for("next.server.action-manifests");async function Z(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}let B=null;async function z(){if("phase-production-build"===process.env.NEXT_PHASE)return;B||(B=Z());let e=await B;if(null==e?void 0:e.register)try{await e.register()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}let H=null;function V(){return H||(H=z()),H}function W(e){return`The edge runtime does not support Node.js '${e}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==r.g.process&&(process.env=r.g.process.env,r.g.process=process),Object.defineProperty(globalThis,"__import_unsupported",{value:function(e){let t=new Proxy(function(){},{get(t,r){if("then"===r)return{};throw Error(W(e))},construct(){throw Error(W(e))},apply(r,n,a){if("function"==typeof a[0])return a[0](t);throw Error(W(e))}});return new Proxy({},{get:()=>t})},enumerable:!1,configurable:!1}),V();var G=r(6398),J=r(9);let K=Symbol("response"),X=Symbol("passThrough"),Y=Symbol("waitUntil");class Q{constructor(e,t){this[X]=!1,this[Y]=t?{kind:"external",function:t}:{kind:"internal",promises:[]}}respondWith(e){this[K]||(this[K]=Promise.resolve(e))}passThroughOnException(){this[X]=!0}waitUntil(e){if("external"===this[Y].kind)return(0,this[Y].function)(e);this[Y].promises.push(e)}}class ee extends Q{constructor(e){var t;super(e.request,null==(t=e.context)?void 0:t.waitUntil),this.sourcePage=e.page}get request(){throw new G.CB({page:this.sourcePage})}respondWith(){throw new G.CB({page:this.sourcePage})}}var et=r(1143),er=r(7581),en=r(2163),ea=r(4742);let es=Symbol("internal response"),ei=new Set([301,302,303,307,308]);function eo(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[n,a]of e.request.headers)t.set("x-middleware-request-"+n,a),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class el extends Response{constructor(e,t={}){super(e,t);let r=this.headers,n=new Proxy(new er.VO(r),{get(e,n,a){switch(n){case"delete":case"set":return(...a)=>{let s=Reflect.apply(e[n],e,a),i=new Headers(r);return s instanceof er.VO&&r.set("x-middleware-set-cookie",s.getAll().map(e=>(0,er.Ud)(e)).join(",")),eo(t,i),s};default:return ea.l.get(e,n,a)}}});this[es]={cookies:n,url:t.url?new en.X(t.url,{headers:(0,J.Cu)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[es].cookies}static json(e,t){let r=Response.json(e,t);return new el(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!ei.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},a=new Headers(null==n?void 0:n.headers);return a.set("Location",(0,J.qU)(e)),new el(null,{...n,headers:a,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,J.qU)(e)),eo(t,r),new el(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),eo(e,t),new el(null,{...e,headers:t})}}function eu(e,t){let r="string"==typeof t?new URL(t):t,n=new URL(e,t),a=r.protocol+"//"+r.host;return n.protocol+"//"+n.host===a?n.toString().replace(a,""):n.toString()}var ec=r(1460);let ed=["__nextFallback","__nextLocale","__nextInferredLocaleFromDefault","__nextDefaultLocale","__nextIsNotFound",ec._A],ep=["__nextDataReq"];var ef=r(1400),eh=r(424),em=r(4196),eg=r(9122),ey=r(1526);class ev{onClose(e){if(this.isClosed)throw Error("Cannot subscribe to a closed CloseController");this.target.addEventListener("close",e),this.listeners++}dispatchClose(){if(this.isClosed)throw Error("Cannot close a CloseController multiple times");this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function eb(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID,previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}r(2670);let e_=Symbol.for("@next/request-context");class ew extends et.J{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw new G.CB({page:this.sourcePage})}respondWith(){throw new G.CB({page:this.sourcePage})}waitUntil(){throw new G.CB({page:this.sourcePage})}}let ex={keys:e=>Array.from(e.keys()),get:(e,t)=>e.get(t)??void 0},eS=(e,t)=>(0,eg.EK)().withPropagatedContext(e.headers,t,ex),ek=!1;async function eC(e){var t;let n,a;!function(){if(!ek&&(ek=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:e,wrapRequestHandler:t}=r(2189);e(),eS=t(eS)}}(),await V();let s=void 0!==self.__BUILD_MANIFEST;e.request.url=(0,q.P)(e.request.url);let i=new en.X(e.request.url,{headers:e.request.headers,nextConfig:e.request.nextConfig});for(let e of[...i.searchParams.keys()]){let t=i.searchParams.getAll(e);(0,J.wN)(e,r=>{for(let e of(i.searchParams.delete(r),t))i.searchParams.append(r,e);i.searchParams.delete(e)})}let o=i.buildId;i.buildId="";let l=e.request.headers["x-nextjs-data"];l&&"/index"===i.pathname&&(i.pathname="/");let u=(0,J.p$)(e.request.headers),c=new Map;if(!s)for(let e of ec.KD){let t=e.toLowerCase(),r=u.get(t);r&&(c.set(t,r),u.delete(t))}let d=new ew({page:e.page,input:(function(e,t){let r="string"==typeof e,n=r?new URL(e):e;for(let e of ed)n.searchParams.delete(e);if(t)for(let e of ep)n.searchParams.delete(e);return r?n.toString():n})(i,!0).toString(),init:{body:e.request.body,headers:u,method:e.request.method,nextConfig:e.request.nextConfig,signal:e.request.signal}});l&&Object.defineProperty(d,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCache&&e.IncrementalCache&&(globalThis.__incrementalCache=new e.IncrementalCache({appDir:!0,fetchCache:!0,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:e.request.headers,requestProtocol:"https",getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:eb()})}));let p=e.request.waitUntil??(null==(t=function(){let e=globalThis[e_];return null==e?void 0:e.get()}())?void 0:t.waitUntil),f=new ee({request:d,page:e.page,context:p?{waitUntil:p}:void 0});if((n=await eS(d,()=>{if("/middleware"===e.page||"/src/middleware"===e.page){let t=f.waitUntil.bind(f),r=new ev;return(0,eg.EK)().trace(ey.rd.execute,{spanName:`middleware ${d.method} ${d.nextUrl.pathname}`,attributes:{"http.target":d.nextUrl.pathname,"http.method":d.method}},async()=>{try{var n,s,i,l;let u=eb(),c=(0,ef.q9)(d,d.nextUrl,void 0,e=>{a=e},u),p=(0,em.X)({page:"/",fallbackRouteParams:null,renderOpts:{cacheLifeProfiles:null==(s=e.request.nextConfig)?void 0:null==(n=s.experimental)?void 0:n.cacheLife,experimental:{isRoutePPREnabled:!1,dynamicIO:!1,authInterrupts:!!(null==(l=e.request.nextConfig)?void 0:null==(i=l.experimental)?void 0:i.authInterrupts)},buildId:o??"",supportsDynamicResponse:!0,waitUntil:t,onClose:r.onClose.bind(r),onAfterTaskError:void 0},requestEndedState:{ended:!1},isPrefetchRequest:d.headers.has(ec._V)});return await U.J.run(p,()=>eh.FP.run(c,e.handler,d,f))}finally{setTimeout(()=>{r.dispatchClose()},0)}})}return e.handler(d,f)}))&&!(n instanceof Response))throw TypeError("Expected an instance of Response to be returned");n&&a&&n.headers.set("set-cookie",a);let h=null==n?void 0:n.headers.get("x-middleware-rewrite");if(n&&h&&!s){let t=new en.X(h,{forceLocale:!0,headers:e.request.headers,nextConfig:e.request.nextConfig});t.host===d.nextUrl.host&&(t.buildId=o||t.buildId,n.headers.set("x-middleware-rewrite",String(t)));let r=eu(String(t),String(i));l&&n.headers.set("x-nextjs-rewrite",r)}let m=null==n?void 0:n.headers.get("Location");if(n&&m&&!s){let t=new en.X(m,{forceLocale:!1,headers:e.request.headers,nextConfig:e.request.nextConfig});n=new Response(n.body,n),t.host===d.nextUrl.host&&(t.buildId=o||t.buildId,n.headers.set("Location",String(t))),l&&(n.headers.delete("Location"),n.headers.set("x-nextjs-redirect",eu(String(t),String(i))))}let g=n||el.next(),y=g.headers.get("x-middleware-override-headers"),v=[];if(y){for(let[e,t]of c)g.headers.set(`x-middleware-request-${e}`,t),v.push(e);v.length>0&&g.headers.set("x-middleware-override-headers",y+","+v.join(","))}return{response:g,waitUntil:("internal"===f[Y].kind?Promise.all(f[Y].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:d.fetchMetrics}}var eE=r(4458),eT=r(275),eR=r(4232);let eA=0,eP="x-vercel-cache-tags",eO="x-vercel-sc-headers",eI="x-vercel-revalidate",eN="x-vercel-cache-item-name",e$=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;async function ej(e,t,r=0){let n=new AbortController,a=setTimeout(()=>{n.abort()},500);return fetch(e,{...t||{},signal:n.signal}).catch(n=>{if(3!==r)return e$&&console.log(`Fetch failed for ${e} retry ${r}`),ej(e,t,r+1);throw n}).finally(()=>{clearTimeout(a)})}class eM{hasMatchingTags(e,t){if(e.length!==t.length)return!1;let r=new Set(e),n=new Set(t);if(r.size!==n.size)return!1;for(let e of r)if(!n.has(e))return!1;return!0}static isAvailable(e){return!!(e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL)}constructor(e){if(this.headers={},this.headers["Content-Type"]="application/json",eO in e._requestHeaders){let t=JSON.parse(e._requestHeaders[eO]);for(let e in t)this.headers[e]=t[e];delete e._requestHeaders[eO]}let t=e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL,r=e._requestHeaders["x-vercel-sc-basepath"]||process.env.SUSPENSE_CACHE_BASEPATH;if(process.env.SUSPENSE_CACHE_AUTH_TOKEN&&(this.headers.Authorization=`Bearer ${process.env.SUSPENSE_CACHE_AUTH_TOKEN}`),t){let e=process.env.SUSPENSE_CACHE_PROTO||"https";this.cacheEndpoint=`${e}://${t}${r||""}`,e$&&console.log("using cache endpoint",this.cacheEndpoint)}else e$&&console.log("no cache endpoint available");e.maxMemoryCacheSize?n||(e$&&console.log("using memory store for fetch cache"),n=new eT.q(e.maxMemoryCacheSize,function({value:e}){var t;if(!e)return 25;if(e.kind===eE.yD.REDIRECT)return JSON.stringify(e.props).length;if(e.kind===eE.yD.IMAGE)throw Error("invariant image should not be incremental-cache");return e.kind===eE.yD.FETCH?JSON.stringify(e.data||"").length:e.kind===eE.yD.APP_ROUTE?e.body.length:e.html.length+((null==(t=JSON.stringify(e.kind===eE.yD.APP_PAGE?e.rscData:e.pageData))?void 0:t.length)||0)})):e$&&console.log("not using memory store for fetch cache")}resetRequestCache(){null==n||n.reset()}async revalidateTag(...e){let[t]=e;if(t="string"==typeof t?[t]:t,e$&&console.log("revalidateTag",t),t.length){if(Date.now()<eA){e$&&console.log("rate limited ",eA);return}for(let e=0;e<Math.ceil(t.length/64);e++){let r=t.slice(64*e,64*e+64);try{let e=await ej(`${this.cacheEndpoint}/v1/suspense-cache/revalidate?tags=${r.map(e=>encodeURIComponent(e)).join(",")}`,{method:"POST",headers:this.headers,next:{internal:!0}});if(429===e.status){let t=e.headers.get("retry-after")||"60000";eA=Date.now()+parseInt(t)}if(!e.ok)throw Error(`Request failed with status ${e.status}.`)}catch(e){console.warn("Failed to revalidate tag",r,e)}}}}async get(...e){var t;let[r,a]=e,{tags:s,softTags:i,kind:o,fetchIdx:l,fetchUrl:u}=a;if(o!==eE.Bs.FETCH)return null;if(Date.now()<eA)return e$&&console.log("rate limited"),null;let c=null==n?void 0:n.get(r),d=(null==c?void 0:null==(t=c.value)?void 0:t.kind)===eE.yD.FETCH&&this.hasMatchingTags(s??[],c.value.tags??[]);if(this.cacheEndpoint&&(!c||!d))try{let e=Date.now(),t=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${r}`,{method:"GET",headers:{...this.headers,[eN]:u,[eP]:(null==s?void 0:s.join(","))||"",[eR.cS]:(null==i?void 0:i.join(","))||""},next:{internal:!0,fetchType:"cache-get",fetchUrl:u,fetchIdx:l}});if(429===t.status){let e=t.headers.get("retry-after")||"60000";eA=Date.now()+parseInt(e)}if(404===t.status)return e$&&console.log(`no fetch cache entry for ${r}, duration: ${Date.now()-e}ms`),null;if(!t.ok)throw console.error(await t.text()),Error(`invalid response from cache ${t.status}`);let a=await t.json();if(!a||a.kind!==eE.yD.FETCH)throw e$&&console.log({cached:a}),Error("invalid cache value");if(a.kind===eE.yD.FETCH)for(let e of(a.tags??=[],s??[]))a.tags.includes(e)||a.tags.push(e);let o=t.headers.get("x-vercel-cache-state"),d=t.headers.get("age");c={value:a,lastModified:"fresh"!==o?Date.now()-eR.qF:Date.now()-1e3*parseInt(d||"0",10)},e$&&console.log(`got fetch cache entry for ${r}, duration: ${Date.now()-e}ms, size: ${Object.keys(a).length}, cache-state: ${o} tags: ${null==s?void 0:s.join(",")} softTags: ${null==i?void 0:i.join(",")}`),c&&(null==n||n.set(r,c))}catch(e){e$&&console.error("Failed to get from fetch-cache",e)}return c||null}async set(...e){let[t,r,a]=e,{fetchCache:s,fetchIdx:i,fetchUrl:o,tags:l}=a;if(s){if(Date.now()<eA){e$&&console.log("rate limited");return}if(null==n||n.set(t,{value:r,lastModified:Date.now()}),this.cacheEndpoint)try{let e=Date.now();null!==r&&"revalidate"in r&&(this.headers[eI]=r.revalidate.toString()),!this.headers[eI]&&null!==r&&"data"in r&&(this.headers["x-vercel-cache-control"]=r.data.headers["cache-control"]);let n=JSON.stringify({...r,tags:void 0});e$&&console.log("set cache",t);let a=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${t}`,{method:"POST",headers:{...this.headers,[eN]:o||"",[eP]:(null==l?void 0:l.join(","))||""},body:n,next:{internal:!0,fetchType:"cache-set",fetchUrl:o,fetchIdx:i}});if(429===a.status){let e=a.headers.get("retry-after")||"60000";eA=Date.now()+parseInt(e)}if(!a.ok)throw e$&&console.log(await a.text()),Error(`invalid response ${a.status}`);e$&&console.log(`successfully set to fetch-cache for ${t}, duration: ${Date.now()-e}ms, size: ${n.length}`)}catch(e){e$&&console.error("Failed to update fetch cache",e)}}}}var eD=r(3602),eL=r.n(eD);let eU={items:{}};class eq{constructor(e){this.fs=e.fs,this.flushToDisk=e.flushToDisk,this.serverDistDir=e.serverDistDir,this.revalidatedTags=e.revalidatedTags,this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE,e.maxMemoryCacheSize?a||(this.debug&&console.log("using memory store for fetch cache"),a=new eT.q(e.maxMemoryCacheSize,function({value:e}){var t;if(!e)return 25;if(e.kind===eE.yD.REDIRECT)return JSON.stringify(e.props).length;if(e.kind===eE.yD.IMAGE)throw Error("invariant image should not be incremental-cache");return e.kind===eE.yD.FETCH?JSON.stringify(e.data||"").length:e.kind===eE.yD.APP_ROUTE?e.body.length:e.html.length+((null==(t=JSON.stringify(e.kind===eE.yD.APP_PAGE?e.rscData:e.pageData))?void 0:t.length)||0)})):this.debug&&console.log("not using memory store for fetch cache")}resetRequestCache(){}async revalidateTag(...e){let[t]=e;if(t="string"==typeof t?[t]:t,this.debug&&console.log("revalidateTag",t),0!==t.length)for(let e of t){let t=eU.items[e]||{};t.revalidatedAt=Date.now(),eU.items[e]=t}}async get(...e){var t,r,n,s;let[i,o]=e,{tags:l,softTags:u,kind:c,isRoutePPREnabled:d,isFallback:p}=o,f=null==a?void 0:a.get(i);if(this.debug&&console.log("get",i,l,c,!!f),(null==f?void 0:null==(t=f.value)?void 0:t.kind)===eE.yD.APP_PAGE||(null==f?void 0:null==(r=f.value)?void 0:r.kind)===eE.yD.PAGES){let e;let t=null==(s=f.value.headers)?void 0:s[eR.VC];if("string"==typeof t&&(e=t.split(",")),(null==e?void 0:e.length)&&e.some(e=>{var t;return(null==eU?void 0:null==(t=eU.items[e])?void 0:t.revalidatedAt)&&(null==eU?void 0:eU.items[e].revalidatedAt)>=((null==f?void 0:f.lastModified)||Date.now())}))return null}else(null==f?void 0:null==(n=f.value)?void 0:n.kind)===eE.yD.FETCH&&[...l||[],...u||[]].some(e=>{var t;return!!this.revalidatedTags.includes(e)||(null==eU?void 0:null==(t=eU.items[e])?void 0:t.revalidatedAt)&&(null==eU?void 0:eU.items[e].revalidatedAt)>=((null==f?void 0:f.lastModified)||Date.now())})&&(f=void 0);return f??null}async set(...e){let[t,r,n]=e,{isFallback:s}=n;if(null==a||a.set(t,{value:r,lastModified:Date.now()}),this.debug&&console.log("set",t),this.flushToDisk&&r){if(r.kind===eE.yD.APP_ROUTE){let e=this.getFilePath(`${t}.body`,eE.Bs.APP_ROUTE);await this.fs.mkdir(eL().dirname(e)),await this.fs.writeFile(e,r.body);let n={headers:r.headers,status:r.status,postponed:void 0,segmentPaths:void 0};await this.fs.writeFile(e.replace(/\.body$/,eR.EP),JSON.stringify(n,null,2))}else if(r.kind===eE.yD.PAGES||r.kind===eE.yD.APP_PAGE){let e=r.kind===eE.yD.APP_PAGE,a=this.getFilePath(`${t}.html`,e?eE.Bs.APP_PAGE:eE.Bs.PAGES);if(await this.fs.mkdir(eL().dirname(a)),await this.fs.writeFile(a,r.html),s||await this.fs.writeFile(this.getFilePath(`${t}${e?n.isRoutePPREnabled?eR.pu:eR.RM:eR.x3}`,e?eE.Bs.APP_PAGE:eE.Bs.PAGES),e?r.rscData:JSON.stringify(r.pageData)),(null==r?void 0:r.kind)===eE.yD.APP_PAGE){let e={headers:r.headers,status:r.status,postponed:r.postponed,segmentPaths:void 0};await this.fs.writeFile(a.replace(/\.html$/,eR.EP),JSON.stringify(e))}}else if(r.kind===eE.yD.FETCH){let e=this.getFilePath(t,eE.Bs.FETCH);await this.fs.mkdir(eL().dirname(e)),await this.fs.writeFile(e,JSON.stringify({...r,tags:n.tags}))}}}getFilePath(e,t){switch(t){case eE.Bs.FETCH:return eL().join(this.serverDistDir,"..","cache","fetch-cache",e);case eE.Bs.PAGES:return eL().join(this.serverDistDir,"pages",e);case eE.Bs.IMAGE:case eE.Bs.APP_PAGE:case eE.Bs.APP_ROUTE:return eL().join(this.serverDistDir,"app",e);default:throw Error(`Unexpected file path kind: ${t}`)}}}var eF=r(8868);let eZ=["(..)(..)","(.)","(..)","(...)"];function eB(e){return void 0!==e.split("/").find(e=>eZ.find(t=>e.startsWith(t)))}let ez=/\/\[[^/]+?\](?=\/|$)/;function eH(e){return eB(e)&&(e=function(e){let t,r,n;for(let a of e.split("/"))if(r=eZ.find(e=>a.startsWith(e))){[t,n]=e.split(r,2);break}if(!t||!r||!n)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,q.Y)(t),r){case"(.)":n="/"===t?`/${n}`:t+"/"+n;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);n=t.split("/").slice(0,-1).concat(n).join("/");break;case"(...)":n="/"+n;break;case"(..)(..)":let a=t.split("/");if(a.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);n=a.slice(0,-2).concat(n).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:n}}(e).interceptedRoute),ez.test(e)}"undefined"!=typeof performance&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class eV extends Error{}function eW(e){return e.replace(/(?:\/index)?\/?$/,"")||"/"}class eG{static #e=this.timings=new Map;constructor(e){this.prerenderManifest=e}get(e){var t,r;let n=eG.timings.get(e);if(void 0!==n||void 0!==(n=null==(t=this.prerenderManifest.routes[e])?void 0:t.initialRevalidateSeconds)||void 0!==(n=null==(r=this.prerenderManifest.dynamicRoutes[e])?void 0:r.fallbackRevalidate))return n}set(e,t){eG.timings.set(e,t)}clear(){eG.timings.clear()}}var eJ=r(2223);class eK{constructor({fs:e,dev:t,dynamicIO:r,flushToDisk:n,fetchCache:a,minimalMode:s,serverDistDir:i,requestHeaders:o,requestProtocol:l,maxMemoryCacheSize:u,getPrerenderManifest:c,fetchCacheKeyPrefix:d,CurCacheHandler:p,allowedRevalidateHeaderKeys:f}){var h,m,g,y;this.locks=new Map;let v=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;this.hasCustomCacheHandler=!!p;let b=Symbol.for("@next/cache-handlers"),_=globalThis;if(p)v&&console.log("using custom cache handler",p.name);else{let t=_[b];(null==t?void 0:t.FetchCache)?p=t.FetchCache:(e&&i&&(v&&console.log("using filesystem cache handler"),p=eq),eM.isAvailable({_requestHeaders:o})&&s&&a&&(v&&console.log("using fetch cache handler"),p=eM))}process.env.__NEXT_TEST_MAX_ISR_CACHE&&(u=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=t,this.hasDynamicIO=r,this.disableForTestmode="true"===process.env.NEXT_PRIVATE_TEST_PROXY,this.minimalMode=s,this.requestHeaders=o,this.requestProtocol=l,this.allowedRevalidateHeaderKeys=f,this.prerenderManifest=c(),this.revalidateTimings=new eG(this.prerenderManifest),this.fetchCacheKeyPrefix=d;let w=[];o[eR.kz]===(null==(m=this.prerenderManifest)?void 0:null==(h=m.preview)?void 0:h.previewModeId)&&(this.isOnDemandRevalidate=!0),s&&"string"==typeof o[eR.vS]&&o[eR.c1]===(null==(y=this.prerenderManifest)?void 0:null==(g=y.preview)?void 0:g.previewModeId)&&(w=o[eR.vS].split(",")),p&&(this.cacheHandler=new p({dev:t,fs:e,flushToDisk:n,serverDistDir:i,revalidatedTags:w,maxMemoryCacheSize:u,_requestHeaders:o,fetchCacheKeyPrefix:d}))}calculateRevalidate(e,t,r,n){if(r)return Math.floor(performance.timeOrigin+performance.now()-1e3);let a=this.revalidateTimings.get(eW(e))??(!n&&1);return"number"==typeof a?1e3*a+t:a}_getPathname(e,t){return t?e:/^\/index(\/|$)/.test(e)&&!eH(e)?"/index"+e:"/"===e?"/index":(0,eF.A)(e)}resetRequestCache(){var e,t;null==(t=this.cacheHandler)||null==(e=t.resetRequestCache)||e.call(t)}async lock(e){let t=()=>Promise.resolve(),r=this.locks.get(e);r&&await r;let n=new Promise(r=>{t=async()=>{r(),this.locks.delete(e)}});return this.locks.set(e,n),t}async revalidateTag(e){var t,r;return null==(r=this.cacheHandler)?void 0:null==(t=r.revalidateTag)?void 0:t.call(r,e)}async generateCacheKey(e,t={}){let r=[],n=new TextEncoder,a=new TextDecoder;if(t.body){if("function"==typeof t.body.getReader){let e=t.body,s=[];try{await e.pipeTo(new WritableStream({write(e){"string"==typeof e?(s.push(n.encode(e)),r.push(e)):(s.push(e),r.push(a.decode(e,{stream:!0})))}})),r.push(a.decode());let i=s.reduce((e,t)=>e+t.length,0),o=new Uint8Array(i),l=0;for(let e of s)o.set(e,l),l+=e.length;t._ogBody=o}catch(e){console.error("Problem reading body",e)}}else if("function"==typeof t.body.keys){let e=t.body;for(let n of(t._ogBody=t.body,new Set([...e.keys()]))){let t=e.getAll(n);r.push(`${n}=${(await Promise.all(t.map(async e=>"string"==typeof e?e:await e.text()))).join(",")}`)}}else if("function"==typeof t.body.arrayBuffer){let e=t.body,n=await e.arrayBuffer();r.push(await e.text()),t._ogBody=new Blob([n],{type:e.type})}else"string"==typeof t.body&&(r.push(t.body),t._ogBody=t.body)}let s="function"==typeof(t.headers||{}).keys?Object.fromEntries(t.headers):Object.assign({},t.headers);"traceparent"in s&&delete s.traceparent;let i=JSON.stringify(["v3",this.fetchCacheKeyPrefix||"",e,t.method,s,t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity,t.cache,r]);{var o;let e=n.encode(i);return o=await crypto.subtle.digest("SHA-256",e),Array.prototype.map.call(new Uint8Array(o),e=>e.toString(16).padStart(2,"0")).join("")}}async get(e,t){var r,n;let a,s;if(this.hasDynamicIO&&t.kind===eE.Bs.FETCH){let t=eJ.e.getStore(),r=t?(0,eh.E0)(t):null;if(r){let t=r.fetch.get(e);if((null==t?void 0:t.kind)===eE.yD.FETCH)return{isStale:!1,value:t,revalidateAfter:!1,isFallback:!1}}}if(this.disableForTestmode||this.dev&&(t.kind!==eE.Bs.FETCH||"no-cache"===this.requestHeaders["cache-control"]))return null;let{isFallback:i}=t;e=this._getPathname(e,t.kind===eE.Bs.FETCH);let o=null,l=t.revalidate,u=await (null==(r=this.cacheHandler)?void 0:r.get(e,t));if((null==u?void 0:null==(n=u.value)?void 0:n.kind)===eE.yD.FETCH){if([...t.tags||[],...t.softTags||[]].some(e=>{var t;return null==(t=this.revalidatedTags)?void 0:t.includes(e)}))return null;l=l||u.value.revalidate;let e=(performance.timeOrigin+performance.now()-(u.lastModified||0))/1e3>l,r=u.value.data;return{isStale:e,value:{kind:eE.yD.FETCH,data:r,revalidate:l},revalidateAfter:performance.timeOrigin+performance.now()+1e3*l,isFallback:i}}let c=this.revalidateTimings.get(eW(e));return(null==u?void 0:u.lastModified)===-1?(a=-1,s=-1*eR.qF):a=!!(!1!==(s=this.calculateRevalidate(e,(null==u?void 0:u.lastModified)||performance.timeOrigin+performance.now(),!!this.dev&&t.kind!==eE.Bs.FETCH,t.isFallback))&&s<performance.timeOrigin+performance.now())||void 0,u&&(o={isStale:a,curRevalidate:c,revalidateAfter:s,value:u.value,isFallback:i}),!u&&this.prerenderManifest.notFoundRoutes.includes(e)&&(o={isStale:a,value:null,curRevalidate:c,revalidateAfter:s,isFallback:i},this.set(e,o.value,t)),o}async set(e,t,r){if(this.hasDynamicIO&&(null==t?void 0:t.kind)===eE.yD.FETCH){let r=eJ.e.getStore(),n=r?(0,eh.fm)(r):null;n&&n.fetch.set(e,t)}if(this.disableForTestmode||this.dev&&!r.fetchCache)return;e=this._getPathname(e,r.fetchCache);let n=JSON.stringify(t).length;if(r.fetchCache&&!this.hasCustomCacheHandler&&n>2097152){if(this.dev)throw Error(`Failed to set Next.js data cache, items over 2MB can not be cached (${n} bytes)`);return}try{var a;void 0===r.revalidate||r.fetchCache||this.revalidateTimings.set(eW(e),r.revalidate),await (null==(a=this.cacheHandler)?void 0:a.set(e,t,r))}catch(t){console.warn("Failed to update prerender cache for",e,t)}}}function eX(e){let{re:t,groups:r}=e;return e=>{let n=t.exec(e);if(!n)return!1;let a=e=>{try{return decodeURIComponent(e)}catch(e){throw new eV("failed to decode param")}},s={};return Object.keys(r).forEach(e=>{let t=r[e],i=n[t.pos];void 0!==i&&(s[e]=~i.indexOf("/")?i.split("/").map(e=>a(e)):t.repeat?[a(i)]:a(i))}),s}}let eY=/[|\\{}()[\]^$+*?.-]/,eQ=/[|\\{}()[\]^$+*?.-]/g;function e0(e){return eY.test(e)?e.replace(eQ,"\\$&"):e}var e1=r(7672);let e2=/\[((?:\[.*\])|.+)\]/;function e4(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function e9(e){let{parameterizedRoute:t,groups:r}=function(e){let t=(0,e1.U)(e).slice(1).split("/"),r={},n=1;return{parameterizedRoute:t.map(e=>{let t=eZ.find(t=>e.startsWith(t)),a=e.match(e2);if(t&&a){let{key:e,optional:s,repeat:i}=e4(a[1]);return r[e]={pos:n++,repeat:i,optional:s},"/"+e0(t)+"([^/]+?)"}if(!a)return"/"+e0(e);{let{key:e,repeat:t,optional:s}=e4(a[1]);return r[e]={pos:n++,repeat:t,optional:s},t?s?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:r}}function e3(e){let{interceptionMarker:t,getSafeRouteKey:r,segment:n,routeKeys:a,keyPrefix:s}=e,{key:i,optional:o,repeat:l}=e4(n),u=i.replace(/\W/g,"");s&&(u=""+s+u);let c=!1;(0===u.length||u.length>30)&&(c=!0),isNaN(parseInt(u.slice(0,1)))||(c=!0),c&&(u=r()),s?a[u]=""+s+i:a[u]=i;let d=t?e0(t):"";return l?o?"(?:/"+d+"(?<"+u+">.+?))?":"/"+d+"(?<"+u+">.+?)":"/"+d+"(?<"+u+">[^/]+?)"}class e6{constructor(e){this.definition=e,eH(e.pathname)&&(this.dynamic=eX(e9(e.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return void 0!==this.dynamic}match(e){let t=this.test(e);return t?{definition:this.definition,params:t.params}:null}test(e){if(this.dynamic){let t=this.dynamic(e);return t?{params:t}:null}return e===this.definition.pathname?{}:null}}let e8=Symbol.for("__next_internal_waitUntil__"),e5=globalThis[e8]||(globalThis[e8]={waitUntilCounter:0,waitUntilResolve:void 0,waitUntilPromise:null});var e7=r(7937),te=r(4088),tt=r(3605);function tr(e){let t={};return e.forEach((e,r)=>{void 0===t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]}),t}function tn(e){return e.replace(/__ESC_COLON_/gi,":")}function ta(e,t){if(!e.includes(":"))return e;for(let r of Object.keys(t))e.includes(":"+r)&&(e=e.replace(RegExp(":"+r+"\\*","g"),":"+r+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+r+"\\?","g"),":"+r+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+r+"\\+","g"),":"+r+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+r+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+r));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,tt.compile)("/"+e,{validate:!1})(t).slice(1)}class ts{constructor(e,t){this.routeModule=e,this.nextConfig=t,this.matcher=new e6(e.definition)}static wrap(e,t){let r=new ts(e,t.nextConfig);return e=>eC({...e,IncrementalCache:eK,handler:r.handler.bind(r)})}async handler(e,t){let{params:n}=(function({page:e,i18n:t,basePath:n,rewrites:a,pageIsDynamic:s,trailingSlash:i,caseSensitive:o}){let l,u,c;return s&&(c=(u=eX(l=function(e,t){let r=function(e,t){let r;let n=(0,e1.U)(e).slice(1).split("/"),a=(r=0,()=>{let e="",t=++r;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),s={};return{namedParameterizedRoute:n.map(e=>{let r=eZ.some(t=>e.startsWith(t)),n=e.match(/\[((?:\[.*\])|.+)\]/);if(r&&n){let[r]=e.split(n[0]);return e3({getSafeRouteKey:a,interceptionMarker:r,segment:n[1],routeKeys:s,keyPrefix:t?eR.h:void 0})}return n?e3({getSafeRouteKey:a,segment:n[1],routeKeys:s,keyPrefix:t?eR.AA:void 0}):"/"+e0(e)}).join(""),routeKeys:s}}(e,t);return{...e9(e),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}(e,!1)))(e)),{handleRewrites:function(l,c){let d={},p=c.pathname,f=a=>{let f=(function(e,t){let r=[],n=(0,tt.pathToRegexp)(e,r,{delimiter:"/",sensitive:"boolean"==typeof(null==t?void 0:t.sensitive)&&t.sensitive,strict:null==t?void 0:t.strict}),a=(0,tt.regexpToFunction)((null==t?void 0:t.regexModifier)?new RegExp(t.regexModifier(n.source),n.flags):n,r);return(e,n)=>{if("string"!=typeof e)return!1;let s=a(e);if(!s)return!1;if(null==t?void 0:t.removeUnnamedParams)for(let e of r)"number"==typeof e.name&&delete s.params[e.name];return{...n,...s.params}}})(a.source+(i?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!o})(c.pathname);if((a.has||a.missing)&&f){let e=function(e,t,n,a){void 0===n&&(n=[]),void 0===a&&(a=[]);let s={},i=n=>{let a;let i=n.key;switch(n.type){case"header":i=i.toLowerCase(),a=e.headers[i];break;case"cookie":if("cookies"in e)a=e.cookies[n.key];else{var o;a=(o=e.headers,function(){let{cookie:e}=o;if(!e)return{};let{parse:t}=r(7800);return t(Array.isArray(e)?e.join("; "):e)})()[n.key]}break;case"query":a=t[i];break;case"host":{let{host:t}=(null==e?void 0:e.headers)||{};a=null==t?void 0:t.split(":",1)[0].toLowerCase()}}if(!n.value&&a)return s[function(e){let t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);(n>64&&n<91||n>96&&n<123)&&(t+=e[r])}return t}(i)]=a,!0;if(a){let e=RegExp("^"+n.value+"$"),t=Array.isArray(a)?a.slice(-1)[0].match(e):a.match(e);if(t)return Array.isArray(t)&&(t.groups?Object.keys(t.groups).forEach(e=>{s[e]=t.groups[e]}):"host"===n.type&&t[0]&&(s.host=t[0])),!0}return!1};return!!n.every(e=>i(e))&&!a.some(e=>i(e))&&s}(l,c.query,a.has,a.missing);e?Object.assign(f,e):f=!1}if(f){let{parsedDestination:r,destQuery:i}=function(e){let t;let r=Object.assign({},e.query);delete r.__nextLocale,delete r.__nextDefaultLocale,delete r.__nextDataReq,delete r.__nextInferredLocaleFromDefault,delete r[ec._A];let n=e.destination;for(let t of Object.keys({...e.params,...r}))n=t?n.replace(RegExp(":"+e0(t),"g"),"__ESC_COLON_"+t):n;let a=function(e){if(e.startsWith("/"))return function(e,t,r){void 0===r&&(r=!0);let n=new URL("http://n"),a=e.startsWith(".")?new URL("http://n"):n,{pathname:s,searchParams:i,search:o,hash:l,href:u,origin:c}=new URL(e,a);if(c!==n.origin)throw Error("invariant: invalid relative URL, router received "+e);return{pathname:s,query:r?tr(i):void 0,search:o,hash:l,href:u.slice(c.length)}}(e);let t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:tr(t.searchParams),search:t.search}}(n),s=a.query,i=tn(""+a.pathname+(a.hash||"")),o=tn(a.hostname||""),l=[],u=[];(0,tt.pathToRegexp)(i,l),(0,tt.pathToRegexp)(o,u);let c=[];l.forEach(e=>c.push(e.name)),u.forEach(e=>c.push(e.name));let d=(0,tt.compile)(i,{validate:!1}),p=(0,tt.compile)(o,{validate:!1});for(let[t,r]of Object.entries(s))Array.isArray(r)?s[t]=r.map(t=>ta(tn(t),e.params)):"string"==typeof r&&(s[t]=ta(tn(r),e.params));let f=Object.keys(e.params).filter(e=>"nextInternalLocale"!==e);if(e.appendParamsToQuery&&!f.some(e=>c.includes(e)))for(let t of f)t in s||(s[t]=e.params[t]);if(eB(i))for(let t of i.split("/")){let r=eZ.find(e=>t.startsWith(e));if(r){"(..)(..)"===r?(e.params["0"]="(..)",e.params["1"]="(..)"):e.params["0"]=r;break}}try{let[r,n]=(t=d(e.params)).split("#",2);a.hostname=p(e.params),a.pathname=r,a.hash=(n?"#":"")+(n||""),delete a.search}catch(e){if(e.message.match(/Expected .*? to not repeat, but got an array/))throw Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match");throw e}return a.query={...r,...a.query},{newUrl:t,destQuery:s,parsedDestination:a}}({appendParamsToQuery:!0,destination:a.destination,params:f,query:c.query});if(r.protocol)return!0;if(Object.assign(d,i,f),Object.assign(c.query,r.query),delete r.query,Object.assign(c,r),p=c.pathname,n&&(p=p.replace(RegExp(`^${n}`),"")||"/"),t){let e=(0,te.d)(p,t.locales);p=e.pathname,c.query.nextInternalLocale=e.detectedLocale||f.nextInternalLocale}if(p===e)return!0;if(s&&u){let e=u(p);if(e)return c.query={...c.query,...e},!0}}return!1};for(let e of a.beforeFiles||[])f(e);if(p!==e){let t=!1;for(let e of a.afterFiles||[])if(t=f(e))break;if(!t&&!(()=>{let t=(0,e1.U)(p||"");return t===(0,e1.U)(e)||(null==u?void 0:u(t))})()){for(let e of a.fallback||[])if(t=f(e))break}}return d},defaultRouteRegex:l,dynamicRouteMatcher:u,defaultRouteMatches:c,getParamsFromRouteMatches:function(e,r,n){return eX(function(){let{groups:e,routeKeys:a}=l;return{re:{exec:s=>{let i=Object.fromEntries(new URLSearchParams(s)),o=t&&n&&i["1"]===n;for(let e of Object.keys(i)){let t=i[e];e!==eR.AA&&e.startsWith(eR.AA)&&(i[e.substring(eR.AA.length)]=t,delete i[e])}let l=Object.keys(a||{}),u=e=>{if(t){let a=Array.isArray(e),s=a?e[0]:e;if("string"==typeof s&&t.locales.some(e=>e.toLowerCase()===s.toLowerCase()&&(n=e,r.locale=n,!0)))return a&&e.splice(0,1),!a||0===e.length}return!1};return l.every(e=>i[e])?l.reduce((t,r)=>{let n=null==a?void 0:a[r];return n&&!u(i[r])&&(t[e[n].pos]=i[r]),t},{}):Object.keys(i).reduce((e,t)=>{if(!u(i[t])){let r=t;return o&&(r=parseInt(t,10)-1+""),Object.assign(e,{[r]:i[t]})}return e},{})}},groups:e}}())(e.headers["x-now-route-matches"])},normalizeDynamicRouteParams:(e,t)=>{var r,n,a;let s;return r=e,n=l,a=c,s=!0,n?{params:r=Object.keys(n.groups).reduce((e,i)=>{let o=r[i];"string"==typeof o&&(o=(0,q.P)(o)),Array.isArray(o)&&(o=o.map(e=>("string"==typeof e&&(e=(0,q.P)(e)),e)));let l=a[i],u=n.groups[i].optional;return((Array.isArray(l)?l.some(e=>Array.isArray(o)?o.some(t=>t.includes(e)):null==o?void 0:o.includes(e)):null==o?void 0:o.includes(l))||void 0===o&&!(u&&t))&&(s=!1),u&&(!o||Array.isArray(o)&&1===o.length&&("index"===o[0]||o[0]===`[[...${i}]]`))&&(o=void 0,delete r[i]),o&&"string"==typeof o&&n.groups[i].repeat&&(o=o.split("/")),o&&(e[i]=o),e},{}),hasValidParams:s}:{params:r,hasValidParams:!1}},normalizeVercelUrl:(e,t,r)=>(function(e,t,r,n,a){if(n&&t&&a){let t=(0,e7.parse)(e.url,!0);for(let e of(delete t.search,Object.keys(t.query))){let n=e!==eR.AA&&e.startsWith(eR.AA),s=e!==eR.h&&e.startsWith(eR.h);(n||s||(r||Object.keys(a.groups)).includes(e))&&delete t.query[e]}e.url=(0,e7.format)(t)}})(e,t,r,s,l),interpolateDynamicPath:(e,t)=>(function(e,t,r){if(!r)return e;for(let n of Object.keys(r.groups)){let a;let{optional:s,repeat:i}=r.groups[n],o=`[${i?"...":""}${n}]`;s&&(o=`[${o}]`);let l=t[n];a=Array.isArray(l)?l.map(e=>e&&encodeURIComponent(e)).join("/"):l?encodeURIComponent(l):"",e=e.replaceAll(o,a)}return e})(e,t,l)}})({pageIsDynamic:this.matcher.isDynamic,page:this.matcher.definition.pathname,basePath:e.nextUrl.basePath,rewrites:{},caseSensitive:!1}).normalizeDynamicRouteParams(tr(e.nextUrl.searchParams)),a=t.waitUntil.bind(t),s=new ev,i={params:n,prerenderManifest:{version:4,routes:{},dynamicRoutes:{},preview:eb(),notFoundRoutes:[]},renderOpts:{supportsDynamicResponse:!0,waitUntil:a,onClose:s.onClose.bind(s),onAfterTaskError:void 0,experimental:{dynamicIO:!1,authInterrupts:!1},buildId:"",cacheLifeProfiles:this.nextConfig.experimental.cacheLife}},o=await this.routeModule.handle(e,i),l=[e5.waitUntilPromise];return i.renderOpts.pendingWaitUntil&&l.push(i.renderOpts.pendingWaitUntil),t.waitUntil(Promise.all(l)),o.body?o=new Response(function(e,t){let r=new TransformStream({flush:()=>t()});return e.pipeThrough(r)}(o.body,()=>s.dispatchClose()),{status:o.status,statusText:o.statusText,headers:o.headers}):setTimeout(()=>s.dispatchClose(),0),o}}var ti=r(5954),to=r(4139),tl=r(3113),tu=r(3307),tc="vercel.ai.error",td=Symbol.for(tc),tp=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[o]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,tc)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}toJSON(){return{name:this.name,message:this.message}}};o=td;var tf=tp,th="AI_APICallError",tm=`vercel.ai.error.${th}`,tg=Symbol.for(tm),ty=class extends tf{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:a,responseBody:s,cause:i,isRetryable:o=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:th,message:e,cause:i}),this[l]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=a,this.responseBody=s,this.isRetryable=o,this.data=u}static isInstance(e){return tf.hasMarker(e,tm)}static isAPICallError(e){return e instanceof Error&&e.name===th&&"string"==typeof e.url&&"object"==typeof e.requestBodyValues&&(null==e.statusCode||"number"==typeof e.statusCode)&&(null==e.responseHeaders||"object"==typeof e.responseHeaders)&&(null==e.responseBody||"string"==typeof e.responseBody)&&(null==e.cause||"object"==typeof e.cause)&&"boolean"==typeof e.isRetryable&&(null==e.data||"object"==typeof e.data)}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};l=tg;var tv="AI_EmptyResponseBodyError",tb=`vercel.ai.error.${tv}`,t_=Symbol.for(tb),tw=class extends tf{constructor({message:e="Empty response body"}={}){super({name:tv,message:e}),this[u]=!0}static isInstance(e){return tf.hasMarker(e,tb)}static isEmptyResponseBodyError(e){return e instanceof Error&&e.name===tv}};function tx(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}u=t_;var tS="AI_InvalidArgumentError",tk=`vercel.ai.error.${tS}`,tC=Symbol.for(tk),tE=class extends tf{constructor({message:e,cause:t,argument:r}){super({name:tS,message:e,cause:t}),this[c]=!0,this.argument=r}static isInstance(e){return tf.hasMarker(e,tk)}};c=tC;var tT="AI_InvalidPromptError",tR=`vercel.ai.error.${tT}`,tA=Symbol.for(tR),tP=class extends tf{constructor({prompt:e,message:t,cause:r}){super({name:tT,message:`Invalid prompt: ${t}`,cause:r}),this[d]=!0,this.prompt=e}static isInstance(e){return tf.hasMarker(e,tR)}static isInvalidPromptError(e){return e instanceof Error&&e.name===tT&&null!=prompt}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};d=tA;var tO="AI_InvalidResponseDataError",tI=`vercel.ai.error.${tO}`,tN=Symbol.for(tI),t$=class extends tf{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:tO,message:t}),this[p]=!0,this.data=e}static isInstance(e){return tf.hasMarker(e,tI)}static isInvalidResponseDataError(e){return e instanceof Error&&e.name===tO&&null!=e.data}toJSON(){return{name:this.name,message:this.message,stack:this.stack,data:this.data}}};p=tN;var tj="AI_JSONParseError",tM=`vercel.ai.error.${tj}`,tD=Symbol.for(tM),tL=class extends tf{constructor({text:e,cause:t}){super({name:tj,message:`JSON parsing failed: Text: ${e}.
Error message: ${tx(t)}`,cause:t}),this[f]=!0,this.text=e}static isInstance(e){return tf.hasMarker(e,tM)}static isJSONParseError(e){return e instanceof Error&&e.name===tj&&"text"in e&&"string"==typeof e.text}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};f=tD;var tU="AI_LoadAPIKeyError",tq=`vercel.ai.error.${tU}`,tF=Symbol.for(tq),tZ=class extends tf{constructor({message:e}){super({name:tU,message:e}),this[h]=!0}static isInstance(e){return tf.hasMarker(e,tq)}static isLoadAPIKeyError(e){return e instanceof Error&&e.name===tU}};h=tF,Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError");var tB="AI_NoSuchModelError",tz=`vercel.ai.error.${tB}`,tH=Symbol.for(tz),tV=class extends tf{constructor({errorName:e=tB,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[m]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return tf.hasMarker(e,tz)}static isNoSuchModelError(e){return e instanceof Error&&e.name===tB&&"string"==typeof e.modelId&&"string"==typeof e.modelType}toJSON(){return{name:this.name,message:this.message,stack:this.stack,modelId:this.modelId,modelType:this.modelType}}};m=tH;var tW="AI_TooManyEmbeddingValuesForCallError",tG=`vercel.ai.error.${tW}`,tJ=Symbol.for(tG),tK=class extends tf{constructor(e){super({name:tW,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[g]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return tf.hasMarker(e,tG)}static isTooManyEmbeddingValuesForCallError(e){return e instanceof Error&&e.name===tW&&"provider"in e&&"string"==typeof e.provider&&"modelId"in e&&"string"==typeof e.modelId&&"maxEmbeddingsPerCall"in e&&"number"==typeof e.maxEmbeddingsPerCall&&"values"in e&&Array.isArray(e.values)}toJSON(){return{name:this.name,message:this.message,stack:this.stack,provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:this.values}}};g=tJ;var tX="AI_TypeValidationError",tY=`vercel.ai.error.${tX}`,tQ=Symbol.for(tY),t0=class e extends tf{constructor({value:e,cause:t}){super({name:tX,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${tx(t)}`,cause:t}),this[y]=!0,this.value=e}static isInstance(e){return tf.hasMarker(e,tY)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}static isTypeValidationError(e){return e instanceof Error&&e.name===tX}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};y=tQ;var t1="AI_UnsupportedFunctionalityError",t2=`vercel.ai.error.${t1}`,t4=Symbol.for(t2),t9=class extends tf{constructor({functionality:e}){super({name:t1,message:`'${e}' functionality not supported.`}),this[v]=!0,this.functionality=e}static isInstance(e){return tf.hasMarker(e,t2)}static isUnsupportedFunctionalityError(e){return e instanceof Error&&e.name===t1&&"string"==typeof e.functionality}toJSON(){return{name:this.name,message:this.message,stack:this.stack,functionality:this.functionality}}};function t3(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(t3):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&t3(t)))}v=t4;let t6=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n},t8=[239,187,191];class t5 extends TransformStream{constructor(){let e;super({start(t){e=function(e){let t,r,n,a,s,i,o;return l(),{feed:function(l){var u;r=r?r+l:l,t&&(u=r,t8.every((e,t)=>u.charCodeAt(t)===e))&&(r=r.slice(t8.length)),t=!1;let c=r.length,d=0,p=!1;for(;d<c;){let t;p&&("\n"===r[d]&&++d,p=!1);let l=-1,u=a;for(let e=n;l<0&&e<c;++e)":"===(t=r[e])&&u<0?u=e-d:"\r"===t?(p=!0,l=e-d):"\n"===t&&(l=e-d);if(l<0){n=c-d,a=u;break}n=0,a=-1,function(t,r,n,a){if(0===a){o.length>0&&(e({type:"event",id:s,event:i||void 0,data:o.slice(0,-1)}),o="",s=void 0),i=void 0;return}let l=n<0,u=t.slice(r,r+(l?a:n)),c=0;c=l?a:" "===t[r+n+1]?n+2:n+1;let d=r+c,p=a-c,f=t.slice(d,d+p).toString();if("data"===u)o+=f?"".concat(f,"\n"):"\n";else if("event"===u)i=f;else if("id"!==u||f.includes("\0")){if("retry"===u){let t=parseInt(f,10);Number.isNaN(t)||e({type:"reconnect-interval",value:t})}}else s=f}(r,d,u,l),d+=l+1}d===c?r="":d>0&&(r=r.slice(d))},reset:l};function l(){t=!0,r="",n=0,a=-1,s=void 0,i=void 0,o=""}}(e=>{"event"===e.type&&t.enqueue(e)})},transform(t){e.feed(t)}})}}function t7(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function re(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}var rt=({prefix:e,size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=t6(r,t);if(null==e)return a;if(r.includes(n))throw new tE({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`},rr=rt();function rn(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}var ra=Symbol.for("vercel.ai.validator");function rs({value:e,schema:t}){let r="object"==typeof t&&null!==t&&ra in t&&!0===t[ra]&&"validate"in t?t:{[ra]:!0,validate:e=>{let r=t.safeParse(e);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}};try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:t0.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:t0.wrap({value:e,cause:t})}}}function ri({text:e,schema:t}){try{let r=tu.parse(e);if(null==t)return{success:!0,value:r};return rs({value:r,schema:t})}catch(t){return{success:!1,error:tL.isJSONParseError(t)?t:new tL({text:e,cause:t})}}}function ro(e){try{return tu.parse(e),!0}catch(e){return!1}}var rl=()=>globalThis.fetch,ru=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:s,fetch:i})=>rc({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:s,fetch:i}),rc=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:s,fetch:i=rl()})=>{try{let o=await i(e,{method:"POST",headers:Object.fromEntries(Object.entries(t).filter(([e,t])=>null!=t)),body:r.content,signal:s}),l=re(o);if(!o.ok){let t;try{t=await a({response:o,url:e,requestBodyValues:r.values})}catch(t){if(rn(t)||ty.isAPICallError(t))throw t;throw new ty({message:"Failed to process error response",cause:t,statusCode:o.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:o,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(rn(t)||ty.isAPICallError(t)))throw t;throw new ty({message:"Failed to process successful response",cause:t,statusCode:o.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(rn(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new ty({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},rd=e=>async({response:t})=>{let r=re(t);if(null==t.body)throw new tw({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new t5).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(ri({text:t,schema:e}))}}))}},rp=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),s=ri({text:a,schema:e}),i=re(t);if(!s.success)throw new ty({message:"Invalid JSON response",cause:s.error,statusCode:t.status,responseHeaders:i,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:i,value:s.value}},{btoa:rf,atob:rh}=globalThis;function rm(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return rf(t)}let rg=Symbol("Let zodToJsonSchema decide on which parser to use"),ry={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},rv=e=>"string"==typeof e?{...ry,name:e}:{...ry,...e},rb=e=>{let t=rv(e),r=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}};!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(b||(b={})),(_||(_={})).mergeShapes=(e,t)=>({...e,...t});let r_=b.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rw=e=>{switch(typeof e){case"undefined":return r_.undefined;case"string":return r_.string;case"number":return isNaN(e)?r_.nan:r_.number;case"boolean":return r_.boolean;case"function":return r_.function;case"bigint":return r_.bigint;case"symbol":return r_.symbol;case"object":if(Array.isArray(e))return r_.array;if(null===e)return r_.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return r_.promise;if("undefined"!=typeof Map&&e instanceof Map)return r_.map;if("undefined"!=typeof Set&&e instanceof Set)return r_.set;if("undefined"!=typeof Date&&e instanceof Date)return r_.date;return r_.object;default:return r_.unknown}},rx=b.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class rS extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){let r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof rS))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,b.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}rS.create=e=>new rS(e);let rk=(e,t)=>{let r;switch(e.code){case rx.invalid_type:r=e.received===r_.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case rx.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,b.jsonStringifyReplacer)}`;break;case rx.unrecognized_keys:r=`Unrecognized key(s) in object: ${b.joinValues(e.keys,", ")}`;break;case rx.invalid_union:r="Invalid input";break;case rx.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${b.joinValues(e.options)}`;break;case rx.invalid_enum_value:r=`Invalid enum value. Expected ${b.joinValues(e.options)}, received '${e.received}'`;break;case rx.invalid_arguments:r="Invalid function arguments";break;case rx.invalid_return_type:r="Invalid function return type";break;case rx.invalid_date:r="Invalid date";break;case rx.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:b.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case rx.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case rx.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case rx.custom:r="Invalid input";break;case rx.invalid_intersection_types:r="Intersection results could not be merged";break;case rx.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case rx.not_finite:r="Number must be finite";break;default:r=t.defaultError,b.assertNever(e)}return{message:r}},rC=rk;function rE(){return rC}let rT=e=>{let{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],i={...a,path:s};if(void 0!==a.message)return{...a,path:s,message:a.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(i,{data:t,defaultError:o}).message;return{...a,path:s,message:o}};function rR(e,t){let r=rE(),n=rT({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===rk?void 0:rk].filter(e=>!!e)});e.common.issues.push(n)}class rA{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return rP;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return rA.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:a}=n;if("aborted"===t.status||"aborted"===a.status)return rP;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||n.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let rP=Object.freeze({status:"aborted"}),rO=e=>({status:"dirty",value:e}),rI=e=>({status:"valid",value:e}),rN=e=>"aborted"===e.status,r$=e=>"dirty"===e.status,rj=e=>"valid"===e.status,rM=e=>"undefined"!=typeof Promise&&e instanceof Promise;function rD(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function rL(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(w||(w={}));class rU{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let rq=(e,t)=>{if(rj(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new rS(e.common.issues);return this._error=t,this._error}}};function rF(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{var s,i;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:a.defaultError}:void 0===a.data?{message:null!==(s=null!=o?o:n)&&void 0!==s?s:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(i=null!=o?o:r)&&void 0!==i?i:a.defaultError}},description:a}}class rZ{get description(){return this._def.description}_getType(e){return rw(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:rw(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new rA,ctx:{common:e.parent.common,data:e.data,parsedType:rw(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(rM(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rw(e)},a=this._parseSync({data:e,path:n.path,parent:n});return rq(n,a)}"~validate"(e){var t,r;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rw(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:n});return rj(t)?{value:t.value}:{issues:n.common.issues}}catch(e){(null===(r=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(e=>rj(e)?{value:e.value}:{issues:n.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rw(e)},n=this._parse({data:e,path:r.path,parent:r});return rq(r,await (rM(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let a=e(t),s=()=>n.addIssue({code:rx.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(s(),!1)):!!a||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new nE({schema:this,typeName:k.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return nT.create(this,this._def)}nullable(){return nR.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return nu.create(this)}promise(){return nC.create(this,this._def)}or(e){return nd.create([this,e],this._def)}and(e){return nh.create(this,e,this._def)}transform(e){return new nE({...rF(this._def),schema:this,typeName:k.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new nA({...rF(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:k.ZodDefault})}brand(){return new nN({typeName:k.ZodBranded,type:this,...rF(this._def)})}catch(e){return new nP({...rF(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:k.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return n$.create(this,e)}readonly(){return nj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let rB=/^c[^\s-]{8,}$/i,rz=/^[0-9a-z]+$/,rH=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rW=/^[a-z0-9_-]{21}$/i,rG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rJ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rK=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,r0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,r1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,r2=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,r4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",r9=RegExp(`^${r4}$`);function r3(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function r6(e){let t=`${r4}T${r3(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class r8 extends rZ{_parse(e){var t,r,n,a;let i;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==r_.string){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.string,received:t.parsedType}),rP}let o=new rA;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(rR(i=this._getOrReturnCtx(e,i),{code:rx.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("max"===l.kind)e.data.length>l.value&&(rR(i=this._getOrReturnCtx(e,i),{code:rx.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("length"===l.kind){let t=e.data.length>l.value,r=e.data.length<l.value;(t||r)&&(i=this._getOrReturnCtx(e,i),t?rR(i,{code:rx.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):r&&rR(i,{code:rx.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),o.dirty())}else if("email"===l.kind)rK.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{validation:"email",code:rx.invalid_string,message:l.message}),o.dirty());else if("emoji"===l.kind)s||(s=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),s.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{validation:"emoji",code:rx.invalid_string,message:l.message}),o.dirty());else if("uuid"===l.kind)rV.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{validation:"uuid",code:rx.invalid_string,message:l.message}),o.dirty());else if("nanoid"===l.kind)rW.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{validation:"nanoid",code:rx.invalid_string,message:l.message}),o.dirty());else if("cuid"===l.kind)rB.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{validation:"cuid",code:rx.invalid_string,message:l.message}),o.dirty());else if("cuid2"===l.kind)rz.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{validation:"cuid2",code:rx.invalid_string,message:l.message}),o.dirty());else if("ulid"===l.kind)rH.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{validation:"ulid",code:rx.invalid_string,message:l.message}),o.dirty());else if("url"===l.kind)try{new URL(e.data)}catch(t){rR(i=this._getOrReturnCtx(e,i),{validation:"url",code:rx.invalid_string,message:l.message}),o.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{validation:"regex",code:rx.invalid_string,message:l.message}),o.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(rR(i=this._getOrReturnCtx(e,i),{code:rx.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),o.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(rR(i=this._getOrReturnCtx(e,i),{code:rx.invalid_string,validation:{startsWith:l.value},message:l.message}),o.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(rR(i=this._getOrReturnCtx(e,i),{code:rx.invalid_string,validation:{endsWith:l.value},message:l.message}),o.dirty()):"datetime"===l.kind?r6(l).test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{code:rx.invalid_string,validation:"datetime",message:l.message}),o.dirty()):"date"===l.kind?r9.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{code:rx.invalid_string,validation:"date",message:l.message}),o.dirty()):"time"===l.kind?RegExp(`^${r3(l)}$`).test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{code:rx.invalid_string,validation:"time",message:l.message}),o.dirty()):"duration"===l.kind?rJ.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{validation:"duration",code:rx.invalid_string,message:l.message}),o.dirty()):"ip"===l.kind?(t=e.data,("v4"===(r=l.version)||!r)&&rX.test(t)||("v6"===r||!r)&&rQ.test(t)||(rR(i=this._getOrReturnCtx(e,i),{validation:"ip",code:rx.invalid_string,message:l.message}),o.dirty())):"jwt"===l.kind?!function(e,t){if(!rG.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));if("object"!=typeof a||null===a||!a.typ||!a.alg||t&&a.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,l.alg)&&(rR(i=this._getOrReturnCtx(e,i),{validation:"jwt",code:rx.invalid_string,message:l.message}),o.dirty()):"cidr"===l.kind?(n=e.data,("v4"===(a=l.version)||!a)&&rY.test(n)||("v6"===a||!a)&&r0.test(n)||(rR(i=this._getOrReturnCtx(e,i),{validation:"cidr",code:rx.invalid_string,message:l.message}),o.dirty())):"base64"===l.kind?r1.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{validation:"base64",code:rx.invalid_string,message:l.message}),o.dirty()):"base64url"===l.kind?r2.test(e.data)||(rR(i=this._getOrReturnCtx(e,i),{validation:"base64url",code:rx.invalid_string,message:l.message}),o.dirty()):b.assertNever(l);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:rx.invalid_string,...w.errToObj(r)})}_addCheck(e){return new r8({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...w.errToObj(e)})}url(e){return this._addCheck({kind:"url",...w.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...w.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...w.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...w.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...w.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...w.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...w.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...w.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...w.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...w.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...w.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...w.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...w.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...w.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...w.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...w.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...w.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...w.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...w.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...w.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...w.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...w.errToObj(t)})}nonempty(e){return this.min(1,w.errToObj(e))}trim(){return new r8({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r8({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r8({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}r8.create=e=>{var t;return new r8({checks:[],typeName:k.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...rF(e)})};class r5 extends rZ{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==r_.number){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.number,received:t.parsedType}),rP}let r=new rA;for(let n of this._def.checks)"int"===n.kind?b.isInteger(e.data)||(rR(t=this._getOrReturnCtx(e,t),{code:rx.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(rR(t=this._getOrReturnCtx(e,t),{code:rx.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(rR(t=this._getOrReturnCtx(e,t),{code:rx.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}(e.data,n.value)&&(rR(t=this._getOrReturnCtx(e,t),{code:rx.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(rR(t=this._getOrReturnCtx(e,t),{code:rx.not_finite,message:n.message}),r.dirty()):b.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,w.toString(t))}gt(e,t){return this.setLimit("min",e,!1,w.toString(t))}lte(e,t){return this.setLimit("max",e,!0,w.toString(t))}lt(e,t){return this.setLimit("max",e,!1,w.toString(t))}setLimit(e,t,r,n){return new r5({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:w.toString(n)}]})}_addCheck(e){return new r5({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:w.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:w.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:w.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:w.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:w.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:w.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:w.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:w.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:w.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&b.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}r5.create=e=>new r5({checks:[],typeName:k.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...rF(e)});class r7 extends rZ{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==r_.bigint)return this._getInvalidInput(e);let r=new rA;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(rR(t=this._getOrReturnCtx(e,t),{code:rx.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(rR(t=this._getOrReturnCtx(e,t),{code:rx.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(rR(t=this._getOrReturnCtx(e,t),{code:rx.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):b.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.bigint,received:t.parsedType}),rP}gte(e,t){return this.setLimit("min",e,!0,w.toString(t))}gt(e,t){return this.setLimit("min",e,!1,w.toString(t))}lte(e,t){return this.setLimit("max",e,!0,w.toString(t))}lt(e,t){return this.setLimit("max",e,!1,w.toString(t))}setLimit(e,t,r,n){return new r7({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:w.toString(n)}]})}_addCheck(e){return new r7({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:w.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:w.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:w.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:w.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:w.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}r7.create=e=>{var t;return new r7({checks:[],typeName:k.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...rF(e)})};class ne extends rZ{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==r_.boolean){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.boolean,received:t.parsedType}),rP}return rI(e.data)}}ne.create=e=>new ne({typeName:k.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...rF(e)});class nt extends rZ{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==r_.date){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.date,received:t.parsedType}),rP}if(isNaN(e.data.getTime()))return rR(this._getOrReturnCtx(e),{code:rx.invalid_date}),rP;let r=new rA;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(rR(t=this._getOrReturnCtx(e,t),{code:rx.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(rR(t=this._getOrReturnCtx(e,t),{code:rx.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):b.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new nt({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:w.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:w.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}nt.create=e=>new nt({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:k.ZodDate,...rF(e)});class nr extends rZ{_parse(e){if(this._getType(e)!==r_.symbol){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.symbol,received:t.parsedType}),rP}return rI(e.data)}}nr.create=e=>new nr({typeName:k.ZodSymbol,...rF(e)});class nn extends rZ{_parse(e){if(this._getType(e)!==r_.undefined){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.undefined,received:t.parsedType}),rP}return rI(e.data)}}nn.create=e=>new nn({typeName:k.ZodUndefined,...rF(e)});class na extends rZ{_parse(e){if(this._getType(e)!==r_.null){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.null,received:t.parsedType}),rP}return rI(e.data)}}na.create=e=>new na({typeName:k.ZodNull,...rF(e)});class ns extends rZ{constructor(){super(...arguments),this._any=!0}_parse(e){return rI(e.data)}}ns.create=e=>new ns({typeName:k.ZodAny,...rF(e)});class ni extends rZ{constructor(){super(...arguments),this._unknown=!0}_parse(e){return rI(e.data)}}ni.create=e=>new ni({typeName:k.ZodUnknown,...rF(e)});class no extends rZ{_parse(e){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.never,received:t.parsedType}),rP}}no.create=e=>new no({typeName:k.ZodNever,...rF(e)});class nl extends rZ{_parse(e){if(this._getType(e)!==r_.undefined){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.void,received:t.parsedType}),rP}return rI(e.data)}}nl.create=e=>new nl({typeName:k.ZodVoid,...rF(e)});class nu extends rZ{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==r_.array)return rR(t,{code:rx.invalid_type,expected:r_.array,received:t.parsedType}),rP;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&(rR(t,{code:e?rx.too_big:rx.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(rR(t,{code:rx.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(rR(t,{code:rx.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new rU(t,e,t.path,r)))).then(e=>rA.mergeArray(r,e));let a=[...t.data].map((e,r)=>n.type._parseSync(new rU(t,e,t.path,r)));return rA.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new nu({...this._def,minLength:{value:e,message:w.toString(t)}})}max(e,t){return new nu({...this._def,maxLength:{value:e,message:w.toString(t)}})}length(e,t){return new nu({...this._def,exactLength:{value:e,message:w.toString(t)}})}nonempty(e){return this.min(1,e)}}nu.create=(e,t)=>new nu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:k.ZodArray,...rF(t)});class nc extends rZ{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=b.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==r_.object){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.object,received:t.parsedType}),rP}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof no&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||s.push(e);let i=[];for(let e of a){let t=n[e],a=r.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new rU(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof no){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)i.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(rR(r,{code:rx.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new rU(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of i){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>rA.mergeObjectSync(t,e)):rA.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return w.errToObj,new nc({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,a,s,i;let o=null!==(s=null===(a=(n=this._def).errorMap)||void 0===a?void 0:a.call(n,t,r).message)&&void 0!==s?s:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=w.errToObj(e).message)&&void 0!==i?i:o}:{message:o}}}:{}})}strip(){return new nc({...this._def,unknownKeys:"strip"})}passthrough(){return new nc({...this._def,unknownKeys:"passthrough"})}extend(e){return new nc({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nc({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:k.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new nc({...this._def,catchall:e})}pick(e){let t={};return b.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new nc({...this._def,shape:()=>t})}omit(e){let t={};return b.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new nc({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof nc){let r={};for(let n in t.shape){let a=t.shape[n];r[n]=nT.create(e(a))}return new nc({...t._def,shape:()=>r})}return t instanceof nu?new nu({...t._def,type:e(t.element)}):t instanceof nT?nT.create(e(t.unwrap())):t instanceof nR?nR.create(e(t.unwrap())):t instanceof nm?nm.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return b.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new nc({...this._def,shape:()=>t})}required(e){let t={};return b.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof nT;)e=e._def.innerType;t[r]=e}}),new nc({...this._def,shape:()=>t})}keyof(){return nx(b.objectKeys(this.shape))}}nc.create=(e,t)=>new nc({shape:()=>e,unknownKeys:"strip",catchall:no.create(),typeName:k.ZodObject,...rF(t)}),nc.strictCreate=(e,t)=>new nc({shape:()=>e,unknownKeys:"strict",catchall:no.create(),typeName:k.ZodObject,...rF(t)}),nc.lazycreate=(e,t)=>new nc({shape:e,unknownKeys:"strip",catchall:no.create(),typeName:k.ZodObject,...rF(t)});class nd extends rZ{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new rS(e.ctx.common.issues));return rR(t,{code:rx.invalid_union,unionErrors:r}),rP});{let e;let n=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=n.map(e=>new rS(e));return rR(t,{code:rx.invalid_union,unionErrors:a}),rP}}get options(){return this._def.options}}nd.create=(e,t)=>new nd({options:e,typeName:k.ZodUnion,...rF(t)});let np=e=>{if(e instanceof n_)return np(e.schema);if(e instanceof nE)return np(e.innerType());if(e instanceof nw)return[e.value];if(e instanceof nS)return e.options;if(e instanceof nk)return b.objectValues(e.enum);if(e instanceof nA)return np(e._def.innerType);if(e instanceof nn)return[void 0];else if(e instanceof na)return[null];else if(e instanceof nT)return[void 0,...np(e.unwrap())];else if(e instanceof nR)return[null,...np(e.unwrap())];else if(e instanceof nN)return np(e.unwrap());else if(e instanceof nj)return np(e.unwrap());else if(e instanceof nP)return np(e._def.innerType);else return[]};class nf extends rZ{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==r_.object)return rR(t,{code:rx.invalid_type,expected:r_.object,received:t.parsedType}),rP;let r=this.discriminator,n=t.data[r],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(rR(t,{code:rx.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),rP)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=np(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(n.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,r)}}return new nf({typeName:k.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...rF(r)})}}class nh extends rZ{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(rN(e)||rN(n))return rP;let a=function e(t,r){let n=rw(t),a=rw(r);if(t===r)return{valid:!0,data:t};if(n===r_.object&&a===r_.object){let n=b.objectKeys(r),a=b.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of a){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1};s[n]=a.data}return{valid:!0,data:s}}if(n===r_.array&&a===r_.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let a=0;a<t.length;a++){let s=e(t[a],r[a]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}return n===r_.date&&a===r_.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return a.valid?((r$(e)||r$(n))&&t.dirty(),{status:t.value,value:a.data}):(rR(r,{code:rx.invalid_intersection_types}),rP)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}nh.create=(e,t,r)=>new nh({left:e,right:t,typeName:k.ZodIntersection,...rF(r)});class nm extends rZ{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==r_.array)return rR(r,{code:rx.invalid_type,expected:r_.array,received:r.parsedType}),rP;if(r.data.length<this._def.items.length)return rR(r,{code:rx.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rP;!this._def.rest&&r.data.length>this._def.items.length&&(rR(r,{code:rx.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new rU(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>rA.mergeArray(t,e)):rA.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new nm({...this._def,rest:e})}}nm.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new nm({items:e,typeName:k.ZodTuple,rest:null,...rF(t)})};class ng extends rZ{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==r_.object)return rR(r,{code:rx.invalid_type,expected:r_.object,received:r.parsedType}),rP;let n=[],a=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:a._parse(new rU(r,e,r.path,e)),value:s._parse(new rU(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?rA.mergeObjectAsync(t,n):rA.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new ng(t instanceof rZ?{keyType:e,valueType:t,typeName:k.ZodRecord,...rF(r)}:{keyType:r8.create(),valueType:e,typeName:k.ZodRecord,...rF(t)})}}class ny extends rZ{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==r_.map)return rR(r,{code:rx.invalid_type,expected:r_.map,received:r.parsedType}),rP;let n=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:n._parse(new rU(r,e,r.path,[s,"key"])),value:a._parse(new rU(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return rP;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return rP;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}ny.create=(e,t,r)=>new ny({valueType:t,keyType:e,typeName:k.ZodMap,...rF(r)});class nv extends rZ{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==r_.set)return rR(r,{code:rx.invalid_type,expected:r_.set,received:r.parsedType}),rP;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(rR(r,{code:rx.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(rR(r,{code:rx.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let a=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return rP;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let i=[...r.data.values()].map((e,t)=>a._parse(new rU(r,e,r.path,t)));return r.common.async?Promise.all(i).then(e=>s(e)):s(i)}min(e,t){return new nv({...this._def,minSize:{value:e,message:w.toString(t)}})}max(e,t){return new nv({...this._def,maxSize:{value:e,message:w.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}nv.create=(e,t)=>new nv({valueType:e,minSize:null,maxSize:null,typeName:k.ZodSet,...rF(t)});class nb extends rZ{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==r_.function)return rR(t,{code:rx.invalid_type,expected:r_.function,received:t.parsedType}),rP;function r(e,r){return rT({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rE(),rk].filter(e=>!!e),issueData:{code:rx.invalid_arguments,argumentsError:r}})}function n(e,r){return rT({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rE(),rk].filter(e=>!!e),issueData:{code:rx.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof nC){let e=this;return rI(async function(...t){let i=new rS([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw i.addIssue(r(t,e)),i}),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,a).catch(e=>{throw i.addIssue(n(l,e)),i})})}{let e=this;return rI(function(...t){let i=e._def.args.safeParse(t,a);if(!i.success)throw new rS([r(t,i.error)]);let o=Reflect.apply(s,this,i.data),l=e._def.returns.safeParse(o,a);if(!l.success)throw new rS([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new nb({...this._def,args:nm.create(e).rest(ni.create())})}returns(e){return new nb({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new nb({args:e||nm.create([]).rest(ni.create()),returns:t||ni.create(),typeName:k.ZodFunction,...rF(r)})}}class n_ extends rZ{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}n_.create=(e,t)=>new n_({getter:e,typeName:k.ZodLazy,...rF(t)});class nw extends rZ{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return rR(t,{received:t.data,code:rx.invalid_literal,expected:this._def.value}),rP}return{status:"valid",value:e.data}}get value(){return this._def.value}}function nx(e,t){return new nS({values:e,typeName:k.ZodEnum,...rF(t)})}nw.create=(e,t)=>new nw({value:e,typeName:k.ZodLiteral,...rF(t)});class nS extends rZ{constructor(){super(...arguments),x.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return rR(t,{expected:b.joinValues(r),received:t.parsedType,code:rx.invalid_type}),rP}if(rD(this,x,"f")||rL(this,x,new Set(this._def.values),"f"),!rD(this,x,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return rR(t,{received:t.data,code:rx.invalid_enum_value,options:r}),rP}return rI(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return nS.create(e,{...this._def,...t})}exclude(e,t=this._def){return nS.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}x=new WeakMap,nS.create=nx;class nk extends rZ{constructor(){super(...arguments),S.set(this,void 0)}_parse(e){let t=b.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==r_.string&&r.parsedType!==r_.number){let e=b.objectValues(t);return rR(r,{expected:b.joinValues(e),received:r.parsedType,code:rx.invalid_type}),rP}if(rD(this,S,"f")||rL(this,S,new Set(b.getValidEnumValues(this._def.values)),"f"),!rD(this,S,"f").has(e.data)){let e=b.objectValues(t);return rR(r,{received:r.data,code:rx.invalid_enum_value,options:e}),rP}return rI(e.data)}get enum(){return this._def.values}}S=new WeakMap,nk.create=(e,t)=>new nk({values:e,typeName:k.ZodNativeEnum,...rF(t)});class nC extends rZ{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==r_.promise&&!1===t.common.async?(rR(t,{code:rx.invalid_type,expected:r_.promise,received:t.parsedType}),rP):rI((t.parsedType===r_.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}nC.create=(e,t)=>new nC({type:e,typeName:k.ZodPromise,...rF(t)});class nE extends rZ{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===k.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{rR(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){let e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return rP;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?rP:"dirty"===n.status||"dirty"===t.value?rO(n.value):n});{if("aborted"===t.value)return rP;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?rP:"dirty"===n.status||"dirty"===t.value?rO(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?rP:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?rP:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>rj(e)?Promise.resolve(n.transform(e.value,a)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!rj(e))return e;let s=n.transform(e.value,a);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}}b.assertNever(n)}}nE.create=(e,t,r)=>new nE({schema:e,typeName:k.ZodEffects,effect:t,...rF(r)}),nE.createWithPreprocess=(e,t,r)=>new nE({schema:t,effect:{type:"preprocess",transform:e},typeName:k.ZodEffects,...rF(r)});class nT extends rZ{_parse(e){return this._getType(e)===r_.undefined?rI(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nT.create=(e,t)=>new nT({innerType:e,typeName:k.ZodOptional,...rF(t)});class nR extends rZ{_parse(e){return this._getType(e)===r_.null?rI(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nR.create=(e,t)=>new nR({innerType:e,typeName:k.ZodNullable,...rF(t)});class nA extends rZ{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===r_.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}nA.create=(e,t)=>new nA({innerType:e,typeName:k.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...rF(t)});class nP extends rZ{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return rM(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new rS(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new rS(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nP.create=(e,t)=>new nP({innerType:e,typeName:k.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...rF(t)});class nO extends rZ{_parse(e){if(this._getType(e)!==r_.nan){let t=this._getOrReturnCtx(e);return rR(t,{code:rx.invalid_type,expected:r_.nan,received:t.parsedType}),rP}return{status:"valid",value:e.data}}}nO.create=e=>new nO({typeName:k.ZodNaN,...rF(e)});let nI=Symbol("zod_brand");class nN extends rZ{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class n$ extends rZ{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?rP:"dirty"===e.status?(t.dirty(),rO(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?rP:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new n$({in:e,out:t,typeName:k.ZodPipeline})}}class nj extends rZ{_parse(e){let t=this._def.innerType._parse(e),r=e=>(rj(e)&&(e.value=Object.freeze(e.value)),e);return rM(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function nM(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function nD(e,t={},r){return e?ns.create().superRefine((n,a)=>{var s,i;let o=e(n);if(o instanceof Promise)return o.then(e=>{var s,i;if(!e){let e=nM(t,n),o=null===(i=null!==(s=e.fatal)&&void 0!==s?s:r)||void 0===i||i;a.addIssue({code:"custom",...e,fatal:o})}});if(!o){let e=nM(t,n),o=null===(i=null!==(s=e.fatal)&&void 0!==s?s:r)||void 0===i||i;a.addIssue({code:"custom",...e,fatal:o})}}):ns.create()}nj.create=(e,t)=>new nj({innerType:e,typeName:k.ZodReadonly,...rF(t)});let nL={object:nc.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(k||(k={}));let nU=r8.create,nq=r5.create,nF=nO.create,nZ=r7.create,nB=ne.create,nz=nt.create,nH=nr.create,nV=nn.create,nW=na.create,nG=ns.create,nJ=ni.create,nK=no.create,nX=nl.create,nY=nu.create,nQ=nc.create,n0=nc.strictCreate,n1=nd.create,n2=nf.create,n4=nh.create,n9=nm.create,n3=ng.create,n6=ny.create,n8=nv.create,n5=nb.create,n7=n_.create,ae=nw.create,at=nS.create,ar=nk.create,an=nC.create,aa=nE.create,as=nT.create,ai=nR.create,ao=nE.createWithPreprocess,al=n$.create;var au=Object.freeze({__proto__:null,defaultErrorMap:rk,setErrorMap:function(e){rC=e},getErrorMap:rE,makeIssue:rT,EMPTY_PATH:[],addIssueToContext:rR,ParseStatus:rA,INVALID:rP,DIRTY:rO,OK:rI,isAborted:rN,isDirty:r$,isValid:rj,isAsync:rM,get util(){return b},get objectUtil(){return _},ZodParsedType:r_,getParsedType:rw,ZodType:rZ,datetimeRegex:r6,ZodString:r8,ZodNumber:r5,ZodBigInt:r7,ZodBoolean:ne,ZodDate:nt,ZodSymbol:nr,ZodUndefined:nn,ZodNull:na,ZodAny:ns,ZodUnknown:ni,ZodNever:no,ZodVoid:nl,ZodArray:nu,ZodObject:nc,ZodUnion:nd,ZodDiscriminatedUnion:nf,ZodIntersection:nh,ZodTuple:nm,ZodRecord:ng,ZodMap:ny,ZodSet:nv,ZodFunction:nb,ZodLazy:n_,ZodLiteral:nw,ZodEnum:nS,ZodNativeEnum:nk,ZodPromise:nC,ZodEffects:nE,ZodTransformer:nE,ZodOptional:nT,ZodNullable:nR,ZodDefault:nA,ZodCatch:nP,ZodNaN:nO,BRAND:nI,ZodBranded:nN,ZodPipeline:n$,ZodReadonly:nj,custom:nD,Schema:rZ,ZodSchema:rZ,late:nL,get ZodFirstPartyTypeKind(){return k},coerce:{string:e=>r8.create({...e,coerce:!0}),number:e=>r5.create({...e,coerce:!0}),boolean:e=>ne.create({...e,coerce:!0}),bigint:e=>r7.create({...e,coerce:!0}),date:e=>nt.create({...e,coerce:!0})},any:nG,array:nY,bigint:nZ,boolean:nB,date:nz,discriminatedUnion:n2,effect:aa,enum:at,function:n5,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>nD(t=>t instanceof e,t),intersection:n4,lazy:n7,literal:ae,map:n6,nan:nF,nativeEnum:ar,never:nK,null:nW,nullable:ai,number:nq,object:nQ,oboolean:()=>nB().optional(),onumber:()=>nq().optional(),optional:as,ostring:()=>nU().optional(),pipeline:al,preprocess:ao,promise:an,record:n3,set:n8,strictObject:n0,string:nU,symbol:nH,transformer:aa,tuple:n9,undefined:nV,union:n1,unknown:nJ,void:nX,NEVER:rP,ZodIssueCode:rx,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:rS});function ac(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function ad(e,t,r,n,a){e[t]=r,ac(e,t,n,a)}function ap(e,t){return aP(e.type._def,t)}let af=(e,t)=>aP(e.innerType._def,t),ah=(e,t)=>{let r={type:"integer",format:"unix-time"};if("openApi3"===t.target)return r;for(let n of e.checks)switch(n.kind){case"min":ad(r,"minimum",n.value,n.message,t);break;case"max":ad(r,"maximum",n.value,n.message,t)}return r},am=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e,ag={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===i&&(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function ay(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":ad(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":ad(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":a_(r,"email",n.message,t);break;case"format:idn-email":a_(r,"idn-email",n.message,t);break;case"pattern:zod":aw(r,ag.email,n.message,t)}break;case"url":a_(r,"uri",n.message,t);break;case"uuid":a_(r,"uuid",n.message,t);break;case"regex":aw(r,n.regex,n.message,t);break;case"cuid":aw(r,ag.cuid,n.message,t);break;case"cuid2":aw(r,ag.cuid2,n.message,t);break;case"startsWith":aw(r,RegExp(`^${av(n.value,t)}`),n.message,t);break;case"endsWith":aw(r,RegExp(`${av(n.value,t)}$`),n.message,t);break;case"datetime":a_(r,"date-time",n.message,t);break;case"date":a_(r,"date",n.message,t);break;case"time":a_(r,"time",n.message,t);break;case"duration":a_(r,"duration",n.message,t);break;case"length":ad(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t),ad(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":aw(r,RegExp(av(n.value,t)),n.message,t);break;case"ip":"v6"!==n.version&&a_(r,"ipv4",n.message,t),"v4"!==n.version&&a_(r,"ipv6",n.message,t);break;case"base64url":aw(r,ag.base64url,n.message,t);break;case"jwt":aw(r,ag.jwt,n.message,t);break;case"cidr":"v6"!==n.version&&aw(r,ag.ipv4Cidr,n.message,t),"v4"!==n.version&&aw(r,ag.ipv6Cidr,n.message,t);break;case"emoji":aw(r,ag.emoji(),n.message,t);break;case"ulid":aw(r,ag.ulid,n.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":a_(r,"binary",n.message,t);break;case"contentEncoding:base64":ad(r,"contentEncoding","base64",n.message,t);break;case"pattern:zod":aw(r,ag.base64,n.message,t)}break;case"nanoid":aw(r,ag.nanoid,n.message,t)}return r}function av(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let r=0;r<e.length;r++)ab.has(e[r])||(t+="\\"),t+=e[r];return t}(e):e}let ab=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function a_(e,t,r,n){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):ad(e,"format",t,r,n)}function aw(e,t,r,n){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:ax(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):ad(e,"pattern",ax(t,n),r,n)}function ax(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,a="",s=!1,i=!1,o=!1;for(let e=0;e<n.length;e++){if(s){a+=n[e],s=!1;continue}if(r.i){if(i){if(n[e].match(/[a-z]/)){o?(a+=n[e],a+=`${n[e-2]}-${n[e]}`.toUpperCase(),o=!1):"-"===n[e+1]&&n[e+2]?.match(/[a-z]/)?(a+=n[e],o=!0):a+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){a+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(r.m){if("^"===n[e]){a+=`(^|(?<=[\r
]))`;continue}if("$"===n[e]){a+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===n[e]){a+=i?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}a+=n[e],"\\"===n[e]?s=!0:i&&"]"===n[e]?i=!1:i||"["!==n[e]||(i=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return a}function aS(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===k.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:aP(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",n]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:aP(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===k.ZodString&&e.keyType._def.checks?.length){let{type:n,...a}=ay(e.keyType._def,t);return{...r,propertyNames:a}}if(e.keyType?._def.typeName===k.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===k.ZodBranded&&e.keyType._def.type._def.typeName===k.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...a}=ap(e.keyType._def,t);return{...r,propertyNames:a}}return r}let ak={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},aC=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>aP(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0},aE=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return aP(e.innerType._def,t);let r=aP(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}},aT=(e,t)=>{if("input"===t.pipeStrategy)return aP(e.in._def,t);if("output"===t.pipeStrategy)return aP(e.out._def,t);let r=aP(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=aP(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(e=>void 0!==e)}},aR=(e,t)=>aP(e.innerType._def,t),aA=(e,t,r)=>{switch(t){case k.ZodString:return ay(e,r);case k.ZodNumber:return function(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",ac(r,"type",n.message,t);break;case"min":"jsonSchema7"===t.target?n.inclusive?ad(r,"minimum",n.value,n.message,t):ad(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),ad(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?ad(r,"maximum",n.value,n.message,t):ad(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),ad(r,"maximum",n.value,n.message,t));break;case"multipleOf":ad(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case k.ZodObject:return function(e,t){let r="openAi"===t.target,n={type:"object",...Object.entries(e.shape()).reduce((e,[n,a])=>{if(void 0===a||void 0===a._def)return e;let s=a.isOptional();s&&r&&(a instanceof nT&&(a=a._def.innerType),a.isNullable()||(a=a.nullable()),s=!1);let i=aP(a._def,{...t,currentPath:[...t.currentPath,"properties",n],propertyPath:[...t.currentPath,"properties",n]});return void 0===i?e:{properties:{...e.properties,[n]:i},required:s?e.required:[...e.required,n]}},{properties:{},required:[]}),additionalProperties:"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:aP(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:aP(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0};return n.required.length||delete n.required,n}(e,r);case k.ZodBigInt:return function(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":"jsonSchema7"===t.target?n.inclusive?ad(r,"minimum",n.value,n.message,t):ad(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),ad(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?ad(r,"maximum",n.value,n.message,t):ad(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),ad(r,"maximum",n.value,n.message,t));break;case"multipleOf":ad(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case k.ZodBoolean:return{type:"boolean"};case k.ZodDate:return function e(t,r,n){let a=n??r.dateStrategy;if(Array.isArray(a))return{anyOf:a.map((n,a)=>e(t,r,n))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return ah(t,r)}}(e,r);case k.ZodUndefined:return{not:{}};case k.ZodNull:return"openApi3"===r.target?{enum:["null"],nullable:!0}:{type:"null"};case k.ZodArray:return function(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==k.ZodAny&&(r.items=aP(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&ad(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&ad(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(ad(r,"minItems",e.exactLength.value,e.exactLength.message,t),ad(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}(e,r);case k.ZodUnion:case k.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return aC(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(e=>e._def.typeName in ak&&(!e._def.checks||!e._def.checks.length))){let e=r.reduce((e,t)=>{let r=ak[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(r.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=r.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===r.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:r.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(r.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:r.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return aC(e,t)}(e,r);case k.ZodIntersection:return function(e,t){let r=[aP(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),aP(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),n="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,a=[];return r.forEach(e=>{if(am(e))a.push(...e.allOf),void 0===e.unevaluatedProperties&&(n=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}else n=void 0;a.push(t)}}),a.length?{allOf:a,...n}:void 0}(e,r);case k.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,r)=>aP(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:aP(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,r)=>aP(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,r);case k.ZodRecord:return aS(e,r);case k.ZodLiteral:return function(e,t){let r=typeof e.value;return"bigint"!==r&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===r?"integer":r,enum:[e.value]}:{type:"bigint"===r?"integer":r,const:e.value}}(e,r);case k.ZodEnum:return{type:"string",enum:Array.from(e.values)};case k.ZodNativeEnum:return function(e){let t=e.values,r=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),n=Array.from(new Set(r.map(e=>typeof e)));return{type:1===n.length?"string"===n[0]?"string":"number":["string","number"],enum:r}}(e);case k.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:ak[e.innerType._def.typeName],nullable:!0}:{type:[ak[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let r=aP(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}let r=aP(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}(e,r);case k.ZodOptional:return aE(e,r);case k.ZodMap:return function(e,t){return"record"===t.mapStrategy?aS(e,t):{type:"array",maxItems:125,items:{type:"array",items:[aP(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},aP(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,r);case k.ZodSet:return function(e,t){let r={type:"array",uniqueItems:!0,items:aP(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&ad(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&ad(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}(e,r);case k.ZodLazy:return()=>e.getter()._def;case k.ZodPromise:return aP(e.type._def,r);case k.ZodNaN:case k.ZodNever:return{not:{}};case k.ZodEffects:return function(e,t){return"input"===t.effectStrategy?aP(e.schema._def,t):{}}(e,r);case k.ZodAny:case k.ZodUnknown:return{};case k.ZodDefault:return function(e,t){return{...aP(e.innerType._def,t),default:e.defaultValue()}}(e,r);case k.ZodBranded:return ap(e,r);case k.ZodReadonly:return aR(e,r);case k.ZodCatch:return af(e,r);case k.ZodPipeline:return aT(e,r);case k.ZodFunction:case k.ZodVoid:case k.ZodSymbol:default:return}};function aP(e,t,r=!1){let n=t.seen.get(e);if(t.override){let a=t.override?.(e,t,n,r);if(a!==rg)return a}if(n&&!r){let e=aO(n,t);if(void 0!==e)return e}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let s=aA(e,e.typeName,t),i="function"==typeof s?aP(s(),t):s;if(i&&aN(e,t,i),t.postProcess){let r=t.postProcess(i,e,t);return a.jsonSchema=i,r}return a.jsonSchema=i,i}let aO=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:aI(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},aI=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},aN=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),a$=(e,t)=>{let r=rb(t),n="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,n])=>({...e,[t]:aP(n._def,{...r,currentPath:[...r.basePath,r.definitionPath,t]},!0)??{}}),{}):void 0,a="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,s=aP(e._def,void 0===a?r:{...r,currentPath:[...r.basePath,r.definitionPath,a]},!1)??{},i="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==i&&(s.title=i);let o=void 0===a?n?{...s,[r.definitionPath]:n}:s:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:{...n,[a]:s}};return"jsonSchema7"===r.target?o.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===r.target||"openAi"===r.target)&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===r.target&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};var aj={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},aM={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},aD={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},aL={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},aU={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},aq={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},aF={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},aZ={code:"7",name:"tool_calls",parse:e=>{if(null==e||"object"!=typeof e||!("tool_calls"in e)||"object"!=typeof e.tool_calls||null==e.tool_calls||!Array.isArray(e.tool_calls)||e.tool_calls.some(e=>null==e||"object"!=typeof e||!("id"in e)||"string"!=typeof e.id||!("type"in e)||"string"!=typeof e.type||!("function"in e)||null==e.function||"object"!=typeof e.function||!("arguments"in e.function)||"string"!=typeof e.function.name||"string"!=typeof e.function.arguments))throw Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},aB={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},az={code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},aH={code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},aV={code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},aW={code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},aG={code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},aJ={code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},aK=[aj,aM,aD,aL,aU,aq,aF,aZ,aB,az,aH,aV,aW,aG,aJ],aX={[aj.code]:aj,[aM.code]:aM,[aD.code]:aD,[aL.code]:aL,[aU.code]:aU,[aq.code]:aq,[aF.code]:aF,[aZ.code]:aZ,[aB.code]:aB,[az.code]:az,[aH.code]:aH,[aV.code]:aV,[aW.code]:aW,[aG.code]:aG,[aJ.code]:aJ};aj.name,aj.code,aM.name,aM.code,aD.name,aD.code,aL.name,aL.code,aU.name,aU.code,aq.name,aq.code,aF.name,aF.code,aZ.name,aZ.code,aB.name,aB.code,az.name,az.code,aH.name,aH.code,aV.name,aV.code,aW.name,aW.code,aG.name,aG.code,aJ.name,aJ.code;var aY=aK.map(e=>e.code),aQ=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let r=e.slice(0,t);if(!aY.includes(r))throw Error(`Failed to parse stream string. Invalid code ${r}.`);let n=JSON.parse(e.slice(t+1));return aX[r].parse(n)};function a0(e,t){let r=aK.find(t=>t.name===e);if(!r)throw Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}var a1=Symbol.for("vercel.ai.schema");function a2(e){return"object"==typeof e&&null!==e&&a1 in e&&!0===e[a1]&&"jsonSchema"in e&&"validate"in e?e:function(e,{validate:t}={}){return{[a1]:!0,_type:void 0,[ra]:!0,jsonSchema:e,validate:t}}(a$(e),{validate:t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}var a4=r(3537),a9=r(184),a3=Object.defineProperty,a6=(e,t)=>{for(var r in t)a3(e,r,{get:t[r],enumerable:!0})};async function a8(e){return void 0===e?Promise.resolve():new Promise(t=>setTimeout(t,e))}var a5="AI_RetryError",a7=`vercel.ai.error.${a5}`,se=Symbol.for(a7),st=class extends tf{constructor({message:e,reason:t,errors:r}){super({name:a5,message:e}),this[C]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return tf.hasMarker(e,a7)}static isRetryError(e){return e instanceof Error&&e.name===a5&&"string"==typeof e.reason&&Array.isArray(e.errors)}toJSON(){return{name:this.name,message:this.message,reason:this.reason,lastError:this.lastError,errors:this.errors}}};C=se;var sr=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2}={})=>async n=>sn(n,{maxRetries:e,delayInMs:t,backoffFactor:r});async function sn(e,{maxRetries:t,delayInMs:r,backoffFactor:n},a=[]){try{return await e()}catch(l){if(rn(l)||0===t)throw l;let s=null==l?"unknown error":"string"==typeof l?l:l instanceof Error?l.message:JSON.stringify(l),i=[...a,l],o=i.length;if(o>t)throw new st({message:`Failed after ${o} attempts. Last error: ${s}`,reason:"maxRetriesExceeded",errors:i});if(l instanceof Error&&ty.isAPICallError(l)&&!0===l.isRetryable&&o<=t)return await a8(r),sn(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n},i);if(1===o)throw l;throw new st({message:`Failed after ${o} attempts with non-retryable error: '${s}'`,reason:"errorNotRetryable",errors:i})}}function sa({operationId:e,telemetry:t}){return{"operation.name":`${e}${(null==t?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":null==t?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":null==t?void 0:t.functionId}}var ss={startSpan:()=>si,startActiveSpan:(e,t,r,n)=>"function"==typeof t?t(si):"function"==typeof r?r(si):"function"==typeof n?n(si):void 0},si={spanContext:()=>so,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},so={traceId:"",spanId:"",traceFlags:0};function sl({name:e,tracer:t,attributes:r,fn:n,endWhenDone:a=!0}){return t.startActiveSpan(e,{attributes:r},async e=>{try{let t=await n(e);return a&&e.end(),t}catch(t){try{t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:a9.s.ERROR,message:t.message})):e.setStatus({code:a9.s.ERROR})}finally{e.end()}throw t}})}function su({telemetry:e,attributes:t}){return(null==e?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((t,[r,n])=>{if(void 0===n)return t;if("object"==typeof n&&"input"in n&&"function"==typeof n.input){if((null==e?void 0:e.recordInputs)===!1)return t;let a=n.input();return void 0===a?t:{...t,[r]:a}}if("object"==typeof n&&"output"in n&&"function"==typeof n.output){if((null==e?void 0:e.recordOutputs)===!1)return t;let a=n.output();return void 0===a?t:{...t,[r]:a}}return{...t,[r]:n}},{})}var sc="AI_DownloadError",sd=`vercel.ai.error.${sc}`,sp=Symbol.for(sd),sf=class extends tf{constructor({url:e,statusCode:t,statusText:r,cause:n,message:a=null==n?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:sc,message:a,cause:n}),this[E]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return tf.hasMarker(e,sd)}static isDownloadError(e){return e instanceof Error&&e.name===sc&&"string"==typeof e.url&&(null==e.statusCode||"number"==typeof e.statusCode)&&(null==e.statusText||"string"==typeof e.statusText)}toJSON(){return{name:this.name,message:this.message,url:this.url,statusCode:this.statusCode,statusText:this.statusText,cause:this.cause}}};async function sh({url:e,fetchImplementation:t=fetch}){var r;let n=e.toString();try{let e=await t(n);if(!e.ok)throw new sf({url:n,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mimeType:null!=(r=e.headers.get("content-type"))?r:void 0}}catch(e){if(sf.isInstance(e))throw e;throw new sf({url:n,cause:e})}}E=sp;var sm=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}],sg="AI_InvalidDataContentError",sy=`vercel.ai.error.${sg}`,sv=Symbol.for(sy),sb=class extends tf{constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:sg,message:r,cause:t}),this[T]=!0,this.content=e}static isInstance(e){return tf.hasMarker(e,sy)}static isInvalidDataContentError(e){return e instanceof Error&&e.name===sg&&null!=e.content}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,content:this.content}}};T=sv;var s_=au.union([au.string(),au.instanceof(Uint8Array),au.instanceof(ArrayBuffer),au.custom(e=>{var t,r;return null!=(r=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&r},{message:"Must be a Buffer"})]);function sw(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)try{return function(e){let t=rh(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}(e)}catch(t){throw new sb({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new sb({content:e})}var sx="AI_InvalidMessageRoleError",sS=`vercel.ai.error.${sx}`,sk=Symbol.for(sS),sC=class extends tf{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:sx,message:t}),this[R]=!0,this.role=e}static isInstance(e){return tf.hasMarker(e,sS)}static isInvalidMessageRoleError(e){return e instanceof Error&&e.name===sx&&"string"==typeof e.role}toJSON(){return{name:this.name,message:this.message,stack:this.stack,role:this.role}}};async function sE({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:r=()=>!1,downloadImplementation:n=sh}){let a=await sT(e.messages,n,t,r);return[...null!=e.system?[{role:"system",content:e.system}]:[],...e.messages.map(e=>(function(e,t){let r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":if("string"==typeof e.content)return{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata};return{role:"user",content:e.content.map(e=>(function(e,t){let r,n,a;if("text"===e.type)return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let s=e.mimeType,i=e.type;switch(i){case"image":r=e.image;break;case"file":r=e.data;break;default:throw Error(`Unsupported part type: ${i}`)}try{n="string"==typeof r?new URL(r):r}catch(e){n=r}if(n instanceof URL){if("data:"===n.protocol){let{mimeType:e,base64Content:t}=function(e){try{let[t,r]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:r}}catch(e){return{mimeType:void 0,base64Content:void 0}}}(n.toString());if(null==e||null==t)throw Error(`Invalid data URL format in part ${i}`);s=e,a=sw(t)}else{let e=t[n.toString()];e?(a=e.data,null!=s||(s=e.mimeType)):a=n}}else a=sw(n);switch(i){case"image":return null==s&&a instanceof Uint8Array&&(s=function(e){for(let{bytes:t,mimeType:r}of sm)if(e.length>=t.length&&t.every((t,r)=>e[r]===t))return r}(a)),{type:"image",image:a,mimeType:s,providerMetadata:e.experimental_providerMetadata};case"file":var o;if(null==s)throw Error("Mime type is missing for file part");return{type:"file",data:a instanceof Uint8Array?"string"==typeof(o=a)?o:o instanceof ArrayBuffer?rm(new Uint8Array(o)):rm(o):a,mimeType:s,providerMetadata:e.experimental_providerMetadata}}})(e,t)).filter(e=>"text"!==e.type||""!==e.text),providerMetadata:e.experimental_providerMetadata};case"assistant":if("string"==typeof e.content)return{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata};return{role:"assistant",content:e.content.filter(e=>"text"!==e.type||""!==e.text).map(e=>{let{experimental_providerMetadata:t,...r}=e;return{...r,providerMetadata:t}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result,content:e.experimental_content,isError:e.isError,providerMetadata:e.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:throw new sC({role:r})}})(e,a))]}async function sT(e,t,r,n){let a=e.filter(e=>"user"===e.role).map(e=>e.content).filter(e=>Array.isArray(e)).flat().filter(e=>"image"===e.type||"file"===e.type).filter(e=>!("image"===e.type&&!0===r)).map(e=>"image"===e.type?e.image:e.data).map(e=>"string"==typeof e&&(e.startsWith("http:")||e.startsWith("https:"))?new URL(e):e).filter(e=>e instanceof URL).filter(e=>!n(e));return Object.fromEntries((await Promise.all(a.map(async e=>({url:e,data:await t({url:e})})))).map(({url:e,data:t})=>[e.toString(),t]))}R=sk;var sR="AI_InvalidArgumentError",sA=`vercel.ai.error.${sR}`,sP=Symbol.for(sA),sO=class extends tf{constructor({parameter:e,value:t,message:r}){super({name:sR,message:`Invalid argument for parameter ${e}: ${r}`}),this[A]=!0,this.parameter=e,this.value=t}static isInstance(e){return tf.hasMarker(e,sA)}static isInvalidArgumentError(e){return e instanceof Error&&e.name===sR&&"string"==typeof e.parameter&&"string"==typeof e.value}toJSON(){return{name:this.name,message:this.message,stack:this.stack,parameter:this.parameter,value:this.value}}};A=sP;var sI=au.lazy(()=>au.union([au.null(),au.string(),au.number(),au.boolean(),au.record(au.string(),sI),au.array(sI)])),sN=au.record(au.string(),au.record(au.string(),sI)),s$=au.array(au.union([au.object({type:au.literal("text"),text:au.string()}),au.object({type:au.literal("image"),data:au.string(),mimeType:au.string().optional()})])),sj=au.object({type:au.literal("text"),text:au.string(),experimental_providerMetadata:sN.optional()}),sM=au.object({type:au.literal("image"),image:au.union([s_,au.instanceof(URL)]),mimeType:au.string().optional(),experimental_providerMetadata:sN.optional()}),sD=au.object({type:au.literal("file"),data:au.union([s_,au.instanceof(URL)]),mimeType:au.string(),experimental_providerMetadata:sN.optional()}),sL=au.object({type:au.literal("tool-call"),toolCallId:au.string(),toolName:au.string(),args:au.unknown()}),sU=au.object({type:au.literal("tool-result"),toolCallId:au.string(),toolName:au.string(),result:au.unknown(),content:s$.optional(),isError:au.boolean().optional(),experimental_providerMetadata:sN.optional()}),sq=au.object({role:au.literal("system"),content:au.string(),experimental_providerMetadata:sN.optional()}),sF=au.object({role:au.literal("user"),content:au.union([au.string(),au.array(au.union([sj,sM,sD]))]),experimental_providerMetadata:sN.optional()}),sZ=au.object({role:au.literal("assistant"),content:au.union([au.string(),au.array(au.union([sj,sL]))]),experimental_providerMetadata:sN.optional()}),sB=au.object({role:au.literal("tool"),content:au.array(sU),experimental_providerMetadata:sN.optional()}),sz=au.union([sq,sF,sZ,sB]);function sH(e){return"object"==typeof e&&null!==e&&("function"===e.role||"data"===e.role||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":"object"==typeof e&&null!==e&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":"object"==typeof e&&null!==e&&"role"in e&&"content"in e&&"string"==typeof e.content&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}var sV="AI_MessageConversionError",sW=`vercel.ai.error.${sV}`,sG=Symbol.for(sW),sJ=class extends tf{constructor({originalMessage:e,message:t}){super({name:sV,message:t}),this[P]=!0,this.originalMessage=e}static isInstance(e){return tf.hasMarker(e,sW)}};P=sG;function sK(e,{contentType:t,dataStreamVersion:r}){var n;let a=new Headers(null!=(n=null==e?void 0:e.headers)?n:{});return a.has("Content-Type")||a.set("Content-Type",t),void 0!==r&&a.set("X-Vercel-AI-Data-Stream",r),a}var sX="AI_NoObjectGeneratedError",sY=`vercel.ai.error.${sX}`,sQ=Symbol.for(sY),s0=class extends tf{constructor({message:e="No object generated."}={}){super({name:sX,message:e}),this[O]=!0}static isInstance(e){return tf.hasMarker(e,sY)}static isNoObjectGeneratedError(e){return e instanceof Error&&e.name===sX}toJSON(){return{name:this.name,cause:this.cause,message:this.message,stack:this.stack}}};function s1(e,t){let r=e.pipeThrough(new TransformStream(t));return r[Symbol.asyncIterator]=()=>{let e=r.getReader();return{async next(){let{done:t,value:r}=await e.read();return t?{done:!0,value:void 0}:{done:!1,value:r}}}},r}O=sQ;function s2(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}rt({prefix:"aiobj",size:24});function s4(){var e,t;return null!=(t=null==(e=null==globalThis?void 0:globalThis.performance)?void 0:e.now())?t:Date.now()}function s9(e,{contentType:t,dataStreamVersion:r}){let n={};if((null==e?void 0:e.headers)!=null)for(let[t,r]of Object.entries(e.headers))n[t]=r;return null==n["Content-Type"]&&(n["Content-Type"]=t),void 0!==r&&(n["X-Vercel-AI-Data-Stream"]=r),n}function s3({response:e,status:t,statusText:r,headers:n,stream:a}){e.writeHead(null!=t?t:200,r,n);let s=a.getReader();(async()=>{try{for(;;){let{done:t,value:r}=await s.read();if(t)break;e.write(r)}}catch(e){throw e}finally{e.end()}})()}rt({prefix:"aiobj",size:24});var s6="AI_InvalidToolArgumentsError",s8=`vercel.ai.error.${s6}`,s5=Symbol.for(s8),s7=class extends tf{constructor({toolArgs:e,toolName:t,cause:r,message:n=`Invalid arguments for tool ${t}: ${tx(r)}`}){super({name:s6,message:n,cause:r}),this[I]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return tf.hasMarker(e,s8)}static isInvalidToolArgumentsError(e){return e instanceof Error&&e.name===s6&&"string"==typeof e.toolName&&"string"==typeof e.toolArgs}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,toolName:this.toolName,toolArgs:this.toolArgs}}};I=s5;var ie="AI_NoSuchToolError",it=`vercel.ai.error.${ie}`,ir=Symbol.for(it),ia=class extends tf{constructor({toolName:e,availableTools:t,message:r=`Model tried to call unavailable tool '${e}'. ${void 0===t?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:ie,message:r}),this[N]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return tf.hasMarker(e,it)}static isNoSuchToolError(e){return e instanceof Error&&e.name===ie&&"toolName"in e&&void 0!=e.toolName&&"string"==typeof e.name}toJSON(){return{name:this.name,message:this.message,stack:this.stack,toolName:this.toolName,availableTools:this.availableTools}}};N=ir;var is=/^([\s\S]*?)(\s+)(\S*)$/;function ii(e,t){let r,n;let a=e.getReader(),s=t.getReader(),i=!1,o=!1;async function l(e){try{null==r&&(r=a.read());let t=await r;r=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}async function u(e){try{null==n&&(n=s.read());let t=await n;n=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}return new ReadableStream({async pull(e){try{if(i){await u(e);return}if(o){await l(e);return}null==r&&(r=a.read()),null==n&&(n=s.read());let{result:t,reader:c}=await Promise.race([r.then(e=>({result:e,reader:a})),n.then(e=>({result:e,reader:s}))]);t.done||e.enqueue(t.value),c===a?(r=void 0,t.done&&(await u(e),i=!0)):(n=void 0,t.done&&(o=!0,await l(e)))}catch(t){e.error(t)}},cancel(){a.cancel(),s.cancel()}})}rt({prefix:"aitxt",size:24});var io=rt({prefix:"aitxt",size:24});async function il({model:e,tools:t,toolChoice:r,system:n,prompt:a,messages:s,maxRetries:i,abortSignal:o,headers:l,maxToolRoundtrips:u=0,maxSteps:c=null!=u?u+1:1,experimental_continueSteps:d=!1,experimental_telemetry:p,experimental_providerMetadata:f,experimental_toolCallStreaming:h=!1,experimental_activeTools:m,onChunk:g,onFinish:y,onStepFinish:v,_internal:{now:b=s4,generateId:_=io,currentDate:w=()=>new Date}={},...x}){if(c<1)throw new sO({parameter:"maxSteps",value:c,message:"maxSteps must be at least 1"});let S=function({model:e,settings:t,telemetry:r,headers:n}){var a;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((e,[t,r])=>(e[`ai.settings.${t}`]=r,e),{}),...Object.entries(null!=(a=null==r?void 0:r.metadata)?a:{}).reduce((e,[t,r])=>(e[`ai.telemetry.metadata.${t}`]=r,e),{}),...Object.entries(null!=n?n:{}).reduce((e,[t,r])=>(void 0!==r&&(e[`ai.request.headers.${t}`]=r),e),{})}}({model:e,telemetry:p,headers:l,settings:{...x,maxRetries:i}}),k=function({isEnabled:e=!1,tracer:t}={}){return e?t||a4.u.getTracer("ai"):ss}(p),C=function({prompt:e,tools:t}){if(null==e.prompt&&null==e.messages)throw new tP({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new tP({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!=typeof e.system)throw new tP({prompt:e,message:"system must be a string"});if(null!=e.prompt){if("string"!=typeof e.prompt)throw new tP({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(null!=e.messages){let r=function(e){if(!Array.isArray(e))return"other";if(0===e.length)return"messages";let t=e.map(sH);return t.some(e=>"has-ui-specific-parts"===e)?"ui-messages":t.every(e=>"has-core-specific-parts"===e||"message"===e)?"messages":"other"}(e.messages);if("other"===r)throw new tP({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let n="ui-messages"===r?function(e,t){var r;let n=null!=(r=null==t?void 0:t.tools)?r:{},a=[];for(let t of e){let{role:e,content:r,toolInvocations:s,experimental_attachments:i}=t;switch(e){case"system":a.push({role:"system",content:r});break;case"user":a.push({role:"user",content:i?[{type:"text",text:r},...function(e){var t,r,n;let a=[];for(let s of e){let e;try{e=new URL(s.url)}catch(e){throw Error(`Invalid URL: ${s.url}`)}switch(e.protocol){case"http:":case"https:":if(null==(t=s.contentType)?void 0:t.startsWith("image/"))a.push({type:"image",image:e});else{if(!s.contentType)throw Error("If the attachment is not an image, it must specify a content type");a.push({type:"file",data:e,mimeType:s.contentType})}break;case"data:":{let e,t,i;try{[e,t]=s.url.split(","),i=e.split(";")[0].split(":")[1]}catch(e){throw Error(`Error processing data URL: ${s.url}`)}if(null==i||null==t)throw Error(`Invalid data URL format: ${s.url}`);if(null==(r=s.contentType)?void 0:r.startsWith("image/"))a.push({type:"image",image:sw(t)});else if(null==(n=s.contentType)?void 0:n.startsWith("text/"))a.push({type:"text",text:function(e){try{return new TextDecoder().decode(e)}catch(e){throw Error("Error decoding Uint8Array to text")}}(sw(t))});else{if(!s.contentType)throw Error("If the attachment is not an image or text, it must specify a content type");a.push({type:"file",data:t,mimeType:s.contentType})}break}default:throw Error(`Unsupported URL protocol: ${e.protocol}`)}}return a}(i)]:r});break;case"assistant":if(null==s){a.push({role:"assistant",content:r});break}a.push({role:"assistant",content:[{type:"text",text:r},...s.map(({toolCallId:e,toolName:t,args:r})=>({type:"tool-call",toolCallId:e,toolName:t,args:r}))]}),a.push({role:"tool",content:s.map(e=>{if(!("result"in e))throw new sJ({originalMessage:t,message:"ToolInvocation must have a result: "+JSON.stringify(e)});let{toolCallId:r,toolName:a,result:s}=e,i=n[a];return(null==i?void 0:i.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:r,toolName:a,result:i.experimental_toToolResultContent(s),experimental_content:i.experimental_toToolResultContent(s)}:{type:"tool-result",toolCallId:r,toolName:a,result:s}})});break;case"function":case"data":case"tool":break;default:throw new sJ({originalMessage:t,message:`Unsupported role: ${e}`})}}return a}(e.messages,{tools:t}):e.messages,a=rs({value:n,schema:au.array(sz)});if(!a.success)throw new tP({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:a.error});return{type:"messages",messages:n,system:e.system}}throw Error("unreachable")}({prompt:{system:n,prompt:a,messages:s},tools:t});return sl({name:"ai.streamText",attributes:su({telemetry:p,attributes:{...sa({operationId:"ai.streamText",telemetry:p}),...S,"ai.prompt":{input:()=>JSON.stringify({system:n,prompt:a,messages:s})},"ai.settings.maxSteps":c}}),tracer:k,endWhenDone:!1,fn:async n=>{let a=sr({maxRetries:i}),s=async({responseMessages:n})=>{let s=0===n.length?C.type:"messages",i=await sE({prompt:{type:s,system:C.system,messages:[...C.messages,...n]},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl}),u={type:"regular",...function({tools:e,toolChoice:t,activeTools:r}){return null!=e&&Object.keys(e).length>0?{tools:(null!=r?Object.entries(e).filter(([e])=>r.includes(e)):Object.entries(e)).map(([e,t])=>{let r=t.type;switch(r){case void 0:case"function":return{type:"function",name:e,description:t.description,parameters:a2(t.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:e,id:t.id,args:t.args};default:throw Error(`Unsupported tool type: ${r}`)}}),toolChoice:null==t?{type:"auto"}:"string"==typeof t?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}({tools:t,toolChoice:r,activeTools:m})},{result:{stream:c,warnings:d,rawResponse:g,request:y},doStreamSpan:v,startTimestampMs:_}=await a(()=>sl({name:"ai.streamText.doStream",attributes:su({telemetry:p,attributes:{...sa({operationId:"ai.streamText.doStream",telemetry:p}),...S,"ai.prompt.format":{input:()=>s},"ai.prompt.messages":{input:()=>JSON.stringify(i)},"ai.prompt.tools":{input:()=>{var e;return null==(e=u.tools)?void 0:e.map(e=>JSON.stringify(e))}},"ai.prompt.toolChoice":{input:()=>null!=u.toolChoice?JSON.stringify(u.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":x.frequencyPenalty,"gen_ai.request.max_tokens":x.maxTokens,"gen_ai.request.presence_penalty":x.presencePenalty,"gen_ai.request.stop_sequences":x.stopSequences,"gen_ai.request.temperature":x.temperature,"gen_ai.request.top_k":x.topK,"gen_ai.request.top_p":x.topP}}),tracer:k,endWhenDone:!1,fn:async t=>({startTimestampMs:b(),doStreamSpan:t,result:await e.doStream({mode:u,...function({maxTokens:e,temperature:t,topP:r,topK:n,presencePenalty:a,frequencyPenalty:s,stopSequences:i,seed:o,maxRetries:l}){if(null!=e){if(!Number.isInteger(e))throw new sO({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new sO({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(null!=t&&"number"!=typeof t)throw new sO({parameter:"temperature",value:t,message:"temperature must be a number"});if(null!=r&&"number"!=typeof r)throw new sO({parameter:"topP",value:r,message:"topP must be a number"});if(null!=n&&"number"!=typeof n)throw new sO({parameter:"topK",value:n,message:"topK must be a number"});if(null!=a&&"number"!=typeof a)throw new sO({parameter:"presencePenalty",value:a,message:"presencePenalty must be a number"});if(null!=s&&"number"!=typeof s)throw new sO({parameter:"frequencyPenalty",value:s,message:"frequencyPenalty must be a number"});if(null!=o&&!Number.isInteger(o))throw new sO({parameter:"seed",value:o,message:"seed must be an integer"});if(null!=l){if(!Number.isInteger(l))throw new sO({parameter:"maxRetries",value:l,message:"maxRetries must be an integer"});if(l<0)throw new sO({parameter:"maxRetries",value:l,message:"maxRetries must be >= 0"})}return{maxTokens:e,temperature:null!=t?t:0,topP:r,topK:n,presencePenalty:a,frequencyPenalty:s,stopSequences:null!=i&&i.length>0?i:void 0,seed:o,maxRetries:null!=l?l:2}}(x),inputFormat:s,prompt:i,providerMetadata:f,abortSignal:o,headers:l})})}));return{result:{stream:function({tools:e,generatorStream:t,toolCallStreaming:r,tracer:n,telemetry:a,abortSignal:s}){let i,o=null,l=new ReadableStream({start(e){o=e}}),u={},c=new Set,d=!1;function p(){d&&0===c.size&&(null!=i&&o.enqueue(i),o.close())}let f=new TransformStream({transform(t,l){let d=t.type;switch(d){case"text-delta":case"response-metadata":case"error":l.enqueue(t);break;case"tool-call-delta":r&&(u[t.toolCallId]||(l.enqueue({type:"tool-call-streaming-start",toolCallId:t.toolCallId,toolName:t.toolName}),u[t.toolCallId]=!0),l.enqueue({type:"tool-call-delta",toolCallId:t.toolCallId,toolName:t.toolName,argsTextDelta:t.argsTextDelta}));break;case"tool-call":{let r=t.toolName;if(null==e){o.enqueue({type:"error",error:new ia({toolName:t.toolName})});break}let i=e[r];if(null==i){o.enqueue({type:"error",error:new ia({toolName:t.toolName,availableTools:Object.keys(e)})});break}try{let r=function({toolCall:e,tools:t}){let r=e.toolName;if(null==t)throw new ia({toolName:e.toolName});let n=t[r];if(null==n)throw new ia({toolName:e.toolName,availableTools:Object.keys(t)});let a=a2(n.parameters),s=""===e.args.trim()?rs({value:{},schema:a}):ri({text:e.args,schema:a});if(!1===s.success)throw new s7({toolName:r,toolArgs:e.args,cause:s.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:r,args:s.value}}({toolCall:t,tools:e});if(l.enqueue(r),null!=i.execute){let e=rr();c.add(e),sl({name:"ai.toolCall",attributes:su({telemetry:a,attributes:{...sa({operationId:"ai.toolCall",telemetry:a}),"ai.toolCall.name":r.toolName,"ai.toolCall.id":r.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(r.args)}}}),tracer:n,fn:async t=>i.execute(r.args,{abortSignal:s}).then(n=>{o.enqueue({...r,type:"tool-result",result:n}),c.delete(e),p();try{t.setAttributes(su({telemetry:a,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(n)}}}))}catch(e){}},t=>{o.enqueue({type:"error",error:t}),c.delete(e),p()})})}}catch(e){o.enqueue({type:"error",error:e})}break}case"finish":var f;i={type:"finish",finishReason:t.finishReason,logprobs:t.logprobs,usage:{promptTokens:(f=t.usage).promptTokens,completionTokens:f.completionTokens,totalTokens:f.promptTokens+f.completionTokens},experimental_providerMetadata:t.providerMetadata};break;default:throw Error(`Unhandled chunk type: ${d}`)}},flush(){d=!0,p()}});return new ReadableStream({start:async e=>Promise.all([t.pipeThrough(f).pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){}})),l.pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){e.close()}}))])})}({tools:t,generatorStream:c,toolCallStreaming:h,tracer:k,telemetry:p,abortSignal:o}),warnings:d,request:null!=y?y:{},rawResponse:g},doStreamSpan:v,startTimestampMs:_}},{result:{stream:u,warnings:E,rawResponse:T,request:R},doStreamSpan:A,startTimestampMs:P}=await s({responseMessages:[]});return new iu({stream:u,warnings:E,rawResponse:T,request:R,onChunk:g,onFinish:y,onStepFinish:v,rootSpan:n,doStreamSpan:A,telemetry:p,startTimestampMs:P,maxSteps:c,continueSteps:d,startStep:s,modelId:e.modelId,now:b,currentDate:w,generateId:_,tools:t})}})}var iu=class{constructor({stream:e,warnings:t,rawResponse:r,request:n,onChunk:a,onFinish:s,onStepFinish:i,rootSpan:o,doStreamSpan:l,telemetry:u,startTimestampMs:c,maxSteps:d,continueSteps:p,startStep:f,modelId:h,now:m,currentDate:g,generateId:y,tools:v}){this.warnings=t,this.rawResponse=r;let{resolve:b,promise:_}=s2();this.usage=_;let{resolve:w,promise:x}=s2();this.finishReason=x;let{resolve:S,promise:k}=s2();this.text=k;let{resolve:C,promise:E}=s2();this.toolCalls=E;let{resolve:T,promise:R}=s2();this.toolResults=R;let{resolve:A,promise:P}=s2();this.steps=P;let{resolve:O,promise:I}=s2();this.experimental_providerMetadata=I;let{resolve:N,promise:$}=s2();this.request=$;let{resolve:j,promise:M}=s2();this.response=M;let{resolve:D,promise:L}=s2();this.responseMessages=L;let{stream:U,addStream:q,close:F}=function(){let e=[],t=null,r=!1,n=async()=>{if(r&&0===e.length){null==t||t.close();return}if(0!==e.length)try{let{value:a,done:s}=await e[0].read();s?(e.shift(),e.length>0?await n():r&&(null==t||t.close())):null==t||t.enqueue(a)}catch(n){null==t||t.error(n),e.shift(),r&&0===e.length&&(null==t||t.close())}};return{stream:new ReadableStream({start(e){t=e},pull:n,async cancel(){for(let t of e)await t.cancel();e=[],r=!0}}),addStream:t=>{if(r)throw Error("Cannot add inner stream: outer stream is closed");e.push(t.getReader())},close:()=>{r=!0,0===e.length&&(null==t||t.close())}}}();this.originalStream=U;let Z=[],B=this;!function e({stream:n,startTimestamp:l,doStreamSpan:c,currentStep:_,responseMessages:x,usage:k={promptTokens:0,completionTokens:0,totalTokens:0},stepType:E,previousStepText:R="",stepRequest:P,hasLeadingWhitespace:I}){let $,M;let L=[],U=[],z="unknown",H={promptTokens:0,completionTokens:0,totalTokens:0},V=!0,W="",G="continue"===E?R:"",J={id:y(),timestamp:g(),modelId:h},K="",X=!1,Y=!0,Q=!1;async function ee({controller:e,chunk:t}){e.enqueue(t),W+=t.textDelta,G+=t.textDelta,X=!0,Q=t.textDelta.trimEnd()!==t.textDelta,await (null==a?void 0:a({chunk:t}))}q(n.pipeThrough(new TransformStream({async transform(e,t){var r,n,s;if(V){let e=m()-l;V=!1,c.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":e,"ai.stream.msToFirstChunk":e}),c.setAttributes({"ai.response.msToFirstChunk":e,"ai.stream.msToFirstChunk":e})}if("text-delta"===e.type&&0===e.textDelta.length)return;let i=e.type;switch(i){case"text-delta":if(p){let r=Y&&I?e.textDelta.trimStart():e.textDelta;if(0===r.length)break;Y=!1;let n=function(e){let t=e.match(is);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}(K+=r);null!=n&&(K=n.suffix,await ee({controller:t,chunk:{type:"text-delta",textDelta:n.prefix+n.whitespace}}))}else await ee({controller:t,chunk:e});break;case"tool-call":t.enqueue(e),L.push(e),await (null==a?void 0:a({chunk:e}));break;case"tool-result":t.enqueue(e),U.push(e),await (null==a?void 0:a({chunk:e}));break;case"response-metadata":J={id:null!=(r=e.id)?r:J.id,timestamp:null!=(n=e.timestamp)?n:J.timestamp,modelId:null!=(s=e.modelId)?s:J.modelId};break;case"finish":{H=e.usage,z=e.finishReason,$=e.experimental_providerMetadata,M=e.logprobs;let t=m()-l;c.addEvent("ai.stream.finish"),c.setAttributes({"ai.response.msToFinish":t,"ai.response.avgCompletionTokensPerSecond":1e3*H.completionTokens/t});break}case"tool-call-streaming-start":case"tool-call-delta":t.enqueue(e),await (null==a?void 0:a({chunk:e}));break;case"error":t.enqueue(e),z="error";break;default:throw Error(`Unknown chunk type: ${i}`)}},async flush(n){var a;let l=L.length>0?JSON.stringify(L):void 0,h="done";_+1<d&&(p&&"length"===z&&0===L.length?h="continue":L.length>0&&U.length===L.length&&(h="tool-result")),p&&K.length>0&&("continue"!==h||"continue"===E&&!X)&&(await ee({controller:n,chunk:{type:"text-delta",textDelta:K}}),K="");try{c.setAttributes(su({telemetry:u,attributes:{"ai.response.finishReason":z,"ai.response.text":{output:()=>W},"ai.response.toolCalls":{output:()=>l},"ai.response.id":J.id,"ai.response.model":J.modelId,"ai.response.timestamp":J.timestamp.toISOString(),"ai.usage.promptTokens":H.promptTokens,"ai.usage.completionTokens":H.completionTokens,"ai.finishReason":z,"ai.result.text":{output:()=>W},"ai.result.toolCalls":{output:()=>l},"gen_ai.response.finish_reasons":[z],"gen_ai.response.id":J.id,"gen_ai.response.model":J.modelId,"gen_ai.usage.input_tokens":H.promptTokens,"gen_ai.usage.output_tokens":H.completionTokens}}))}catch(e){}finally{c.end()}if(n.enqueue({type:"step-finish",finishReason:z,usage:H,experimental_providerMetadata:$,logprobs:M,response:{...J},isContinued:"continue"===h}),"continue"===E){let e=x[x.length-1];"string"==typeof e.content?e.content+=W:e.content.push({text:W,type:"text"})}else x.push(...function({text:e="",tools:t,toolCalls:r,toolResults:n}){let a=[];return a.push({role:"assistant",content:[{type:"text",text:e},...r]}),n.length>0&&a.push({role:"tool",content:n.map(e=>{let r=t[e.toolName];return(null==r?void 0:r.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:r.experimental_toToolResultContent(e.result),experimental_content:r.experimental_toToolResultContent(e.result)}:{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result}})}),a}({text:W,tools:null!=v?v:{},toolCalls:L,toolResults:U}));let m={stepType:E,text:W,toolCalls:L,toolResults:U,finishReason:z,usage:H,warnings:B.warnings,logprobs:M,request:P,rawResponse:B.rawResponse,response:{...J,headers:null==(a=B.rawResponse)?void 0:a.headers,messages:JSON.parse(JSON.stringify(x))},experimental_providerMetadata:$,isContinued:"continue"===h};Z.push(m),await (null==i?void 0:i(m));let g={promptTokens:k.promptTokens+H.promptTokens,completionTokens:k.completionTokens+H.completionTokens,totalTokens:k.totalTokens+H.totalTokens};if("done"!==h){let{result:t,doStreamSpan:r,startTimestampMs:n}=await f({responseMessages:x});B.warnings=t.warnings,B.rawResponse=t.rawResponse,e({stream:t.stream,startTimestamp:n,doStreamSpan:r,currentStep:_+1,responseMessages:x,usage:g,stepType:h,previousStepText:G,stepRequest:t.request,hasLeadingWhitespace:Q});return}try{n.enqueue({type:"finish",finishReason:z,usage:g,experimental_providerMetadata:$,logprobs:M,response:{...J}}),F(),o.setAttributes(su({telemetry:u,attributes:{"ai.response.finishReason":z,"ai.response.text":{output:()=>G},"ai.response.toolCalls":{output:()=>l},"ai.usage.promptTokens":g.promptTokens,"ai.usage.completionTokens":g.completionTokens,"ai.finishReason":z,"ai.result.text":{output:()=>G},"ai.result.toolCalls":{output:()=>l}}})),b(g),w(z),S(G),C(L),O($),T(U),N(P),j({...J,headers:null==r?void 0:r.headers,messages:x}),A(Z),D(x),await (null==s?void 0:s({finishReason:z,logprobs:M,usage:g,text:G,toolCalls:L,toolResults:U,request:P,rawResponse:r,response:{...J,headers:null==r?void 0:r.headers,messages:x},warnings:t,experimental_providerMetadata:$,steps:Z,responseMessages:x}))}catch(e){n.error(e)}finally{o.end()}}})))}({stream:e,startTimestamp:c,doStreamSpan:l,currentStep:0,responseMessages:[],usage:void 0,stepType:"initial",stepRequest:n,hasLeadingWhitespace:!1})}teeStream(){let[e,t]=this.originalStream.tee();return this.originalStream=t,e}get textStream(){return s1(this.teeStream(),{transform(e,t){"text-delta"===e.type?t.enqueue(e.textDelta):"error"===e.type&&t.error(e.error)}})}get fullStream(){return s1(this.teeStream(),{transform(e,t){t.enqueue(e)}})}toAIStream(e={}){return this.toDataStreamInternal({callbacks:e})}toDataStreamInternal({callbacks:e={},getErrorMessage:t=()=>"",sendUsage:r=!0}={}){let n="",a=new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(t,r){if(r.enqueue(t),"text-delta"===t.type){let r=t.textDelta;n+=r,e.onToken&&await e.onToken(r),e.onText&&await e.onText(r)}},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}}),s=new TransformStream({transform:async(e,n)=>{let a=e.type;switch(a){case"text-delta":n.enqueue(a0("text",e.textDelta));break;case"tool-call-streaming-start":n.enqueue(a0("tool_call_streaming_start",{toolCallId:e.toolCallId,toolName:e.toolName}));break;case"tool-call-delta":n.enqueue(a0("tool_call_delta",{toolCallId:e.toolCallId,argsTextDelta:e.argsTextDelta}));break;case"tool-call":n.enqueue(a0("tool_call",{toolCallId:e.toolCallId,toolName:e.toolName,args:e.args}));break;case"tool-result":n.enqueue(a0("tool_result",{toolCallId:e.toolCallId,result:e.result}));break;case"error":n.enqueue(a0("error",t(e.error)));break;case"step-finish":n.enqueue(a0("finish_step",{finishReason:e.finishReason,usage:r?{promptTokens:e.usage.promptTokens,completionTokens:e.usage.completionTokens}:void 0,isContinued:e.isContinued}));break;case"finish":n.enqueue(a0("finish_message",{finishReason:e.finishReason,usage:r?{promptTokens:e.usage.promptTokens,completionTokens:e.usage.completionTokens}:void 0}));break;default:throw Error(`Unknown chunk type: ${a}`)}}});return this.fullStream.pipeThrough(a).pipeThrough(s).pipeThrough(new TextEncoderStream)}pipeAIStreamToResponse(e,t){return this.pipeDataStreamToResponse(e,t)}pipeDataStreamToResponse(e,t){let r=null==t?void 0:"init"in t?t.init:{headers:"headers"in t?t.headers:void 0,status:"status"in t?t.status:void 0,statusText:"statusText"in t?t.statusText:void 0},n=null==t?void 0:"data"in t?t.data:void 0,a=null==t?void 0:"getErrorMessage"in t?t.getErrorMessage:void 0,s=null==t?void 0:"sendUsage"in t?t.sendUsage:void 0;s3({response:e,status:null==r?void 0:r.status,statusText:null==r?void 0:r.statusText,headers:s9(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:n,getErrorMessage:a,sendUsage:s})})}pipeTextStreamToResponse(e,t){s3({response:e,status:null==t?void 0:t.status,statusText:null==t?void 0:t.statusText,headers:s9(t,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toAIStreamResponse(e){return this.toDataStreamResponse(e)}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:null==e?void 0:e.getErrorMessage,sendUsage:null==e?void 0:e.sendUsage});return(null==e?void 0:e.data)?ii(null==e?void 0:e.data.stream,t):t}toDataStreamResponse(e){var t;let r=null==e?void 0:"init"in e?e.init:{headers:"headers"in e?e.headers:void 0,status:"status"in e?e.status:void 0,statusText:"statusText"in e?e.statusText:void 0},n=null==e?void 0:"data"in e?e.data:void 0,a=null==e?void 0:"getErrorMessage"in e?e.getErrorMessage:void 0,s=null==e?void 0:"sendUsage"in e?e.sendUsage:void 0;return new Response(this.toDataStream({data:n,getErrorMessage:a,sendUsage:s}),{status:null!=(t=null==r?void 0:r.status)?t:200,statusText:null==r?void 0:r.statusText,headers:sK(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:null!=(t=null==e?void 0:e.status)?t:200,headers:sK(e,{contentType:"text/plain; charset=utf-8"})})}},ic="AI_NoSuchProviderError",id=`vercel.ai.error.${ic}`;function ip(e){let t=new TextEncoder,r="",n=e||{};return new TransformStream({async start(){n.onStart&&await n.onStart()},async transform(e,a){let s="string"==typeof e?e:e.content;a.enqueue(t.encode(s)),r+=s,n.onToken&&await n.onToken(s),n.onText&&"string"==typeof e&&await n.onText(e)},async flush(){let e="experimental_onFunctionCall"in n;n.onCompletion&&await n.onCompletion(r),n.onFinal&&!e&&await n.onFinal(r)}})}$=Symbol.for(id);function ih(){let e=new TextEncoder,t=new TextDecoder;return new TransformStream({transform:async(r,n)=>{let a=t.decode(r);n.enqueue(e.encode(a0("text",a)))}})}new TextDecoder("utf-8");function im(e,t){return ig(e,t)}function ig(e,t){return e.pipeThrough(new TransformStream({transform:async(e,t)=>{var r;if("string"==typeof e){t.enqueue(e);return}if("event"in e){"on_chat_model_stream"===e.event&&iv(null==(r=e.data)?void 0:r.chunk,t);return}iv(e,t)}})).pipeThrough(ip(t)).pipeThrough(ih())}function iy(e,t){var r;let n=ig(e,null==t?void 0:t.callbacks),a=null==t?void 0:t.data,s=null==t?void 0:t.init;return new Response(a?ii(a.stream,n):n,{status:null!=(r=null==s?void 0:s.status)?r:200,statusText:null==s?void 0:s.statusText,headers:sK(s,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function iv(e,t){if("string"==typeof e.content)t.enqueue(e.content);else for(let r of e.content)"text"===r.type&&t.enqueue(r.text)}function ib(e,t){return(function(e){let t;let r=e[Symbol.asyncIterator](),n=(t=!0,e=>(t&&(e=e.trimStart())&&(t=!1),e));return new ReadableStream({async pull(e){var t;let{value:a,done:s}=await r.next();if(s){e.close();return}let i=n(null!=(t=a.delta)?t:"");i&&e.enqueue(i)}})})(e).pipeThrough(ip(t)).pipeThrough(ih())}function i_(e,t={}){var r;let{init:n,data:a,callbacks:s}=t,i=ib(e,s);return new Response(a?ii(a.stream,i):i,{status:null!=(r=null==n?void 0:n.status)?r:200,statusText:null==n?void 0:n.statusText,headers:sK(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}a6({},{toAIStream:()=>im,toDataStream:()=>ig,toDataStreamResponse:()=>iy}),a6({},{toDataStream:()=>ib,toDataStreamResponse:()=>i_});function iw(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.content)?void 0:t.map(({token:e,logprob:t,top_logprobs:r})=>({token:e,logprob:t,topLogprobs:r?r.map(({token:e,logprob:t})=>({token:e,logprob:t})):[]})))?r:void 0}function ix(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}Symbol("internal_openai_fn_messages"),Response;var iS=au.object({error:au.object({message:au.string(),type:au.string().nullish(),param:au.any().nullish(),code:au.union([au.string(),au.number()]).nullish()})}),ik=(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:s})=>{let i=await n.text(),o=re(n);if(""===i.trim())return{responseHeaders:o,value:new ty({message:n.statusText,url:a,requestBodyValues:s,statusCode:n.status,responseHeaders:o,responseBody:i,isRetryable:null==r?void 0:r(n)})};try{let l=function({text:e,schema:t}){try{let r=tu.parse(e);if(null==t)return r;return function({value:e,schema:t}){let r=rs({value:e,schema:t});if(!r.success)throw t0.wrap({value:e,cause:r.error});return r.value}({value:r,schema:t})}catch(t){if(tL.isJSONParseError(t)||t0.isTypeValidationError(t))throw t;throw new tL({text:e,cause:t})}}({text:i,schema:e});return{responseHeaders:o,value:new ty({message:t(l),url:a,requestBodyValues:s,statusCode:n.status,responseHeaders:o,responseBody:i,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:o,value:new ty({message:n.statusText,url:a,requestBodyValues:s,statusCode:n.status,responseHeaders:o,responseBody:i,isRetryable:null==r?void 0:r(n)})}}})({errorSchema:iS,errorToMessage:e=>e.error.message});function iC({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}var iE=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get supportsStructuredOutputs(){return!0===this.settings.structuredOutputs}get defaultObjectGenerationMode(){return this.modelId.startsWith("gpt-4o-audio-preview")?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:a,topK:s,frequencyPenalty:i,presencePenalty:o,stopSequences:l,responseFormat:u,seed:c,providerMetadata:d}){var p,f,h,m,g,y,v,b,_;let w=e.type,x=[];null!=s&&x.push({type:"unsupported-setting",setting:"topK"}),null!=u&&"json"===u.type&&null!=u.schema&&x.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});let S=this.settings.useLegacyFunctionCalling;if(S&&!0===this.settings.parallelToolCalls)throw new t9({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(S&&!0===this.settings.structuredOutputs)throw new t9({functionality:"structuredOutputs with useLegacyFunctionCalling"});let k={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:!0===this.settings.logprobs||"number"==typeof this.settings.logprobs||void 0,top_logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:r,temperature:n,top_p:a,frequency_penalty:i,presence_penalty:o,stop:l,seed:c,max_completion_tokens:null!=(f=null==(p=null==d?void 0:d.openai)?void 0:p.maxCompletionTokens)?f:void 0,store:null!=(m=null==(h=null==d?void 0:d.openai)?void 0:h.store)?m:void 0,metadata:null!=(y=null==(g=null==d?void 0:d.openai)?void 0:g.metadata)?y:void 0,prediction:null!=(b=null==(v=null==d?void 0:d.openai)?void 0:v.prediction)?b:void 0,response_format:(null==u?void 0:u.type)==="json"?{type:"json_object"}:void 0,messages:function({prompt:e,useLegacyFunctionCalling:t=!1}){let r=[];for(let{role:n,content:a}of e)switch(n){case"system":r.push({role:"system",content:a});break;case"user":if(1===a.length&&"text"===a[0].type){r.push({role:"user",content:a[0].text});break}r.push({role:"user",content:a.map(e=>{var t,r,n;switch(e.type){case"text":return{type:"text",text:e.text};case"image":return{type:"image_url",image_url:{url:e.image instanceof URL?e.image.toString():`data:${null!=(t=e.mimeType)?t:"image/jpeg"};base64,${rm(e.image)}`,detail:null==(n=null==(r=e.providerMetadata)?void 0:r.openai)?void 0:n.imageDetail}};case"file":if(e.data instanceof URL)throw new t9({functionality:"'File content parts with URL data' functionality not supported."});switch(e.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:e.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:e.data,format:"mp3"}};default:throw new t9({functionality:`File content part type ${e.mimeType} in user messages`})}}})});break;case"assistant":{let e="",n=[];for(let t of a)switch(t.type){case"text":e+=t.text;break;case"tool-call":n.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.args)}});break;default:throw Error(`Unsupported part: ${t}`)}if(t){if(n.length>1)throw new t9({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});r.push({role:"assistant",content:e,function_call:n.length>0?n[0].function:void 0})}else r.push({role:"assistant",content:e,tool_calls:n.length>0?n:void 0});break}case"tool":for(let e of a)t?r.push({role:"function",name:e.toolName,content:JSON.stringify(e.result)}):r.push({role:"tool",tool_call_id:e.toolCallId,content:JSON.stringify(e.result)});break;default:throw Error(`Unsupported role: ${n}`)}return r}({prompt:t,useLegacyFunctionCalling:S})};switch(iP(this.modelId)&&(k.temperature=void 0,k.top_p=void 0,k.frequency_penalty=void 0,k.presence_penalty=void 0),w){case"regular":{let{tools:t,tool_choice:r,functions:n,function_call:a,toolWarnings:s}=function({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:r=!1}){var n;let a=(null==(n=e.tools)?void 0:n.length)?e.tools:void 0,s=[];if(null==a)return{tools:void 0,tool_choice:void 0,toolWarnings:s};let i=e.toolChoice;if(t){let e=[];for(let t of a)"provider-defined"===t.type?s.push({type:"unsupported-tool",tool:t}):e.push({name:t.name,description:t.description,parameters:t.parameters});if(null==i)return{functions:e,function_call:void 0,toolWarnings:s};switch(i.type){case"auto":case"none":case void 0:return{functions:e,function_call:void 0,toolWarnings:s};case"required":throw new t9({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:e,function_call:{name:i.toolName},toolWarnings:s}}}let o=[];for(let e of a)"provider-defined"===e.type?s.push({type:"unsupported-tool",tool:e}):o.push({type:"function",function:{name:e.name,description:e.description,parameters:e.parameters,strict:!0===r||void 0}});if(null==i)return{tools:o,tool_choice:void 0,toolWarnings:s};let l=i.type;switch(l){case"auto":case"none":case"required":return{tools:o,tool_choice:l,toolWarnings:s};case"tool":return{tools:o,tool_choice:{type:"function",function:{name:i.toolName}},toolWarnings:s};default:throw new t9({functionality:`Unsupported tool choice type: ${l}`})}}({mode:e,useLegacyFunctionCalling:S,structuredOutputs:this.settings.structuredOutputs});return{args:{...k,tools:t,tool_choice:r,functions:n,function_call:a},warnings:[...x,...s]}}case"object-json":return{args:{...k,response_format:!0===this.settings.structuredOutputs&&null!=e.schema?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:null!=(_=e.name)?_:"response",description:e.description}}:{type:"json_object"}},warnings:x};case"object-tool":return{args:S?{...k,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...k,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:!0===this.settings.structuredOutputs||void 0}}]},warnings:x};default:throw Error(`Unsupported type: ${w}`)}}async doGenerate(e){var t,r,n,a,s,i,o,l,u,c,d,p,f,h,m,g,y,v;let b;let{args:_,warnings:w}=this.getArgs(e),{responseHeaders:x,value:S}=await ru({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:t7(this.config.headers(),e.headers),body:_,failedResponseHandler:ik,successfulResponseHandler:rp(iR),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:k,...C}=_,E=S.choices[0];return((null==(r=null==(t=S.usage)?void 0:t.completion_tokens_details)?void 0:r.reasoning_tokens)!=null||(null==(a=null==(n=S.usage)?void 0:n.prompt_tokens_details)?void 0:a.cached_tokens)!=null)&&(b={openai:{}},(null==(i=null==(s=S.usage)?void 0:s.completion_tokens_details)?void 0:i.reasoning_tokens)!=null&&(b.openai.reasoningTokens=null==(l=null==(o=S.usage)?void 0:o.completion_tokens_details)?void 0:l.reasoning_tokens),(null==(c=null==(u=S.usage)?void 0:u.prompt_tokens_details)?void 0:c.cached_tokens)!=null&&(b.openai.cachedPromptTokens=null==(p=null==(d=S.usage)?void 0:d.prompt_tokens_details)?void 0:p.cached_tokens)),{text:null!=(f=E.message.content)?f:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&E.message.function_call?[{toolCallType:"function",toolCallId:rr(),toolName:E.message.function_call.name,args:E.message.function_call.arguments}]:null==(h=E.message.tool_calls)?void 0:h.map(e=>{var t;return{toolCallType:"function",toolCallId:null!=(t=e.id)?t:rr(),toolName:e.function.name,args:e.function.arguments}}),finishReason:ix(E.finish_reason),usage:{promptTokens:null!=(g=null==(m=S.usage)?void 0:m.prompt_tokens)?g:NaN,completionTokens:null!=(v=null==(y=S.usage)?void 0:y.completion_tokens)?v:NaN},rawCall:{rawPrompt:k,rawSettings:C},rawResponse:{headers:x},request:{body:JSON.stringify(_)},response:iC(S),warnings:w,logprobs:iw(E.logprobs),providerMetadata:b}}async doStream(e){let t,r;if(iP(this.modelId)){let t=await this.doGenerate(e);return{stream:new ReadableStream({start(e){if(e.enqueue({type:"response-metadata",...t.response}),t.text&&e.enqueue({type:"text-delta",textDelta:t.text}),t.toolCalls)for(let r of t.toolCalls)e.enqueue({type:"tool-call",...r});e.enqueue({type:"finish",finishReason:t.finishReason,usage:t.usage,logprobs:t.logprobs,providerMetadata:t.providerMetadata}),e.close()}}),rawCall:t.rawCall,rawResponse:t.rawResponse,warnings:t.warnings}}let{args:n,warnings:a}=this.getArgs(e),s={...n,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},{responseHeaders:i,value:o}=await ru({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:t7(this.config.headers(),e.headers),body:s,failedResponseHandler:ik,successfulResponseHandler:rd(iA),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:l,...u}=n,c=[],d="unknown",p={promptTokens:void 0,completionTokens:void 0},f=!0,{useLegacyFunctionCalling:h}=this.settings;return{stream:o.pipeThrough(new TransformStream({transform(e,n){var a,s,i,o,l,u,m,g,y,v,b,_,w,x,S,k;if(!e.success){d="error",n.enqueue({type:"error",error:e.error});return}let C=e.value;if("error"in C){d="error",n.enqueue({type:"error",error:C.error});return}f&&(f=!1,n.enqueue({type:"response-metadata",...iC(C)})),null!=C.usage&&(p={promptTokens:null!=(a=C.usage.prompt_tokens)?a:void 0,completionTokens:null!=(s=C.usage.completion_tokens)?s:void 0},(null==(i=C.usage.prompt_tokens_details)?void 0:i.cached_tokens)!=null&&(r={openai:{cachedPromptTokens:null==(o=C.usage.prompt_tokens_details)?void 0:o.cached_tokens}}));let E=C.choices[0];if((null==E?void 0:E.finish_reason)!=null&&(d=ix(E.finish_reason)),(null==E?void 0:E.delta)==null)return;let T=E.delta;null!=T.content&&n.enqueue({type:"text-delta",textDelta:T.content});let R=iw(null==E?void 0:E.logprobs);(null==R?void 0:R.length)&&(void 0===t&&(t=[]),t.push(...R));let A=h&&null!=T.function_call?[{type:"function",id:rr(),function:T.function_call,index:0}]:T.tool_calls;if(null!=A)for(let e of A){let t=e.index;if(null==c[t]){if("function"!==e.type)throw new t$({data:e,message:"Expected 'function' type."});if(null==e.id)throw new t$({data:e,message:"Expected 'id' to be a string."});if((null==(l=e.function)?void 0:l.name)==null)throw new t$({data:e,message:"Expected 'function.name' to be a string."});c[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(u=e.function.arguments)?u:""}};let r=c[t];(null==(m=r.function)?void 0:m.name)!=null&&(null==(g=r.function)?void 0:g.arguments)!=null&&(r.function.arguments.length>0&&n.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:r.id,toolName:r.function.name,argsTextDelta:r.function.arguments}),ro(r.function.arguments)&&n.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(y=r.id)?y:rr(),toolName:r.function.name,args:r.function.arguments}));continue}let r=c[t];(null==(v=e.function)?void 0:v.arguments)!=null&&(r.function.arguments+=null!=(_=null==(b=e.function)?void 0:b.arguments)?_:""),n.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:r.id,toolName:r.function.name,argsTextDelta:null!=(w=e.function.arguments)?w:""}),(null==(x=r.function)?void 0:x.name)!=null&&(null==(S=r.function)?void 0:S.arguments)!=null&&ro(r.function.arguments)&&n.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(k=r.id)?k:rr(),toolName:r.function.name,args:r.function.arguments})}},flush(e){var n,a;e.enqueue({type:"finish",finishReason:d,logprobs:t,usage:{promptTokens:null!=(n=p.promptTokens)?n:NaN,completionTokens:null!=(a=p.completionTokens)?a:NaN},...null!=r?{providerMetadata:r}:{}})}})),rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:i},request:{body:JSON.stringify(s)},warnings:a}}},iT=au.object({prompt_tokens:au.number().nullish(),completion_tokens:au.number().nullish(),prompt_tokens_details:au.object({cached_tokens:au.number().nullish()}).nullish(),completion_tokens_details:au.object({reasoning_tokens:au.number().nullish()}).nullish()}).nullish(),iR=au.object({id:au.string().nullish(),created:au.number().nullish(),model:au.string().nullish(),choices:au.array(au.object({message:au.object({role:au.literal("assistant").nullish(),content:au.string().nullish(),function_call:au.object({arguments:au.string(),name:au.string()}).nullish(),tool_calls:au.array(au.object({id:au.string().nullish(),type:au.literal("function"),function:au.object({name:au.string(),arguments:au.string()})})).nullish()}),index:au.number(),logprobs:au.object({content:au.array(au.object({token:au.string(),logprob:au.number(),top_logprobs:au.array(au.object({token:au.string(),logprob:au.number()}))})).nullable()}).nullish(),finish_reason:au.string().nullish()})),usage:iT}),iA=au.union([au.object({id:au.string().nullish(),created:au.number().nullish(),model:au.string().nullish(),choices:au.array(au.object({delta:au.object({role:au.enum(["assistant"]).nullish(),content:au.string().nullish(),function_call:au.object({name:au.string().optional(),arguments:au.string().optional()}).nullish(),tool_calls:au.array(au.object({index:au.number(),id:au.string().nullish(),type:au.literal("function").optional(),function:au.object({name:au.string().nullish(),arguments:au.string().nullish()})})).nullish()}).nullish(),logprobs:au.object({content:au.array(au.object({token:au.string(),logprob:au.number(),top_logprobs:au.array(au.object({token:au.string(),logprob:au.number()}))})).nullable()}).nullish(),finish_reason:au.string().nullable().optional(),index:au.number()})),usage:iT}),iS]);function iP(e){return e.startsWith("o1-")}function iO(e){return null==e?void 0:e.tokens.map((t,r)=>({token:t,logprob:e.token_logprobs[r],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[r]).map(([e,t])=>({token:e,logprob:t})):[]}))}var iI=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:r,maxTokens:n,temperature:a,topP:s,topK:i,frequencyPenalty:o,presencePenalty:l,stopSequences:u,responseFormat:c,seed:d}){var p;let f=e.type,h=[];null!=i&&h.push({type:"unsupported-setting",setting:"topK"}),null!=c&&"text"!==c.type&&h.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:m,stopSequences:g}=function({prompt:e,inputFormat:t,user:r="user",assistant:n="assistant"}){if("prompt"===t&&1===e.length&&"user"===e[0].role&&1===e[0].content.length&&"text"===e[0].content[0].type)return{prompt:e[0].content[0].text};let a="";for(let{role:t,content:s}of("system"===e[0].role&&(a+=`${e[0].content}

`,e=e.slice(1)),e))switch(t){case"system":throw new tP({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let e=s.map(e=>{switch(e.type){case"text":return e.text;case"image":throw new t9({functionality:"images"})}}).join("");a+=`${r}:
${e}

`;break}case"assistant":{let e=s.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new t9({functionality:"tool-call messages"})}}).join("");a+=`${n}:
${e}

`;break}case"tool":throw new t9({functionality:"tool messages"});default:throw Error(`Unsupported role: ${t}`)}return{prompt:a+=`${n}:
`,stopSequences:[`
${r}:`]}}({prompt:r,inputFormat:t}),y=[...null!=g?g:[],...null!=u?u:[]],v={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:a,top_p:s,frequency_penalty:o,presence_penalty:l,seed:d,prompt:m,stop:y.length>0?y:void 0};switch(f){case"regular":if(null==(p=e.tools)?void 0:p.length)throw new t9({functionality:"tools"});if(e.toolChoice)throw new t9({functionality:"toolChoice"});return{args:v,warnings:h};case"object-json":throw new t9({functionality:"object-json mode"});case"object-tool":throw new t9({functionality:"object-tool mode"});default:throw Error(`Unsupported type: ${f}`)}}async doGenerate(e){let{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:a}=await ru({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:t7(this.config.headers(),e.headers),body:t,failedResponseHandler:ik,successfulResponseHandler:rp(iN),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:s,...i}=t,o=a.choices[0];return{text:o.text,usage:{promptTokens:a.usage.prompt_tokens,completionTokens:a.usage.completion_tokens},finishReason:ix(o.finish_reason),logprobs:iO(o.logprobs),rawCall:{rawPrompt:s,rawSettings:i},rawResponse:{headers:n},response:iC(a),warnings:r,request:{body:JSON.stringify(t)}}}async doStream(e){let t;let{args:r,warnings:n}=this.getArgs(e),a={...r,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},{responseHeaders:s,value:i}=await ru({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:t7(this.config.headers(),e.headers),body:a,failedResponseHandler:ik,successfulResponseHandler:rd(i$),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...l}=r,u="unknown",c={promptTokens:Number.NaN,completionTokens:Number.NaN},d=!0;return{stream:i.pipeThrough(new TransformStream({transform(e,r){if(!e.success){u="error",r.enqueue({type:"error",error:e.error});return}let n=e.value;if("error"in n){u="error",r.enqueue({type:"error",error:n.error});return}d&&(d=!1,r.enqueue({type:"response-metadata",...iC(n)})),null!=n.usage&&(c={promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens});let a=n.choices[0];(null==a?void 0:a.finish_reason)!=null&&(u=ix(a.finish_reason)),(null==a?void 0:a.text)!=null&&r.enqueue({type:"text-delta",textDelta:a.text});let s=iO(null==a?void 0:a.logprobs);(null==s?void 0:s.length)&&(void 0===t&&(t=[]),t.push(...s))},flush(e){e.enqueue({type:"finish",finishReason:u,logprobs:t,usage:c})}})),rawCall:{rawPrompt:o,rawSettings:l},rawResponse:{headers:s},warnings:n,request:{body:JSON.stringify(a)}}}},iN=au.object({id:au.string().nullish(),created:au.number().nullish(),model:au.string().nullish(),choices:au.array(au.object({text:au.string(),finish_reason:au.string(),logprobs:au.object({tokens:au.array(au.string()),token_logprobs:au.array(au.number()),top_logprobs:au.array(au.record(au.string(),au.number())).nullable()}).nullish()})),usage:au.object({prompt_tokens:au.number(),completion_tokens:au.number()})}),i$=au.union([au.object({id:au.string().nullish(),created:au.number().nullish(),model:au.string().nullish(),choices:au.array(au.object({text:au.string(),finish_reason:au.string().nullish(),index:au.number(),logprobs:au.object({tokens:au.array(au.string()),token_logprobs:au.array(au.number()),top_logprobs:au.array(au.record(au.string(),au.number())).nullable()}).nullish()})),usage:au.object({prompt_tokens:au.number(),completion_tokens:au.number()}).nullish()}),iS]),ij=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return null!=(e=this.settings.maxEmbeddingsPerCall)?e:2048}get supportsParallelCalls(){var e;return null==(e=this.settings.supportsParallelCalls)||e}async doEmbed({values:e,headers:t,abortSignal:r}){if(e.length>this.maxEmbeddingsPerCall)throw new tK({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:n,value:a}=await ru({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:t7(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:ik,successfulResponseHandler:rp(iM),abortSignal:r,fetch:this.config.fetch});return{embeddings:a.data.map(e=>e.embedding),usage:a.usage?{tokens:a.usage.prompt_tokens}:void 0,rawResponse:{headers:n}}}},iM=au.object({data:au.array(au.object({embedding:au.array(au.number())})),usage:au.object({prompt_tokens:au.number()}).nullish()});function iD(e={}){var t,r,n,a,s;let i=null!=(r=null==(s=null!=(t=e.baseURL)?t:e.baseUrl)?void 0:s.replace(/\/$/,""))?r:"https://api.openai.com/v1",o=null!=(n=e.compatibility)?n:"compatible",l=null!=(a=e.name)?a:"openai",u=()=>({Authorization:`Bearer ${function({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new tZ({message:`${n} API key must be a string.`});if("undefined"==typeof process)throw new tZ({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[t]))throw new tZ({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new tZ({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),c=(t,r={})=>new iE(t,r,{provider:`${l}.chat`,url:({path:e})=>`${i}${e}`,headers:u,compatibility:o,fetch:e.fetch}),d=(t,r={})=>new iI(t,r,{provider:`${l}.completion`,url:({path:e})=>`${i}${e}`,headers:u,compatibility:o,fetch:e.fetch}),p=(t,r={})=>new ij(t,r,{provider:`${l}.embedding`,url:({path:e})=>`${i}${e}`,headers:u,fetch:e.fetch}),f=(e,t)=>{if(new.target)throw Error("The OpenAI model function cannot be called with the new keyword.");return"gpt-3.5-turbo-instruct"===e?d(e,t):c(e,t)},h=function(e,t){return f(e,t)};return h.languageModel=f,h.chat=c,h.completion=d,h.embedding=p,h.textEmbedding=p,h.textEmbeddingModel=p,h}iD({compatibility:"strict"});let iL={role:"system",content:`You are an AI assistant for SQR, a platform specializing in recruitment, hiring solutions, and career development. Here are the key features and offerings of SQR:
  
    **Key Features Include:**
    - **Efficient Job Matching**: AI-powered matching to connect job seekers with relevant opportunities.
    - **Seamless Hiring Process**: End-to-end recruitment solutions for hiring managers and businesses.
    - **Candidate Engagement Tools**: Improve communication and retention for top talent.
    - **Quality Talent Acquisition**: Advanced screening and vetting to ensure top-quality hires.
    - **Career Growth Resources**: Guidance and tools to help job seekers enhance their careers.
    - **Transparent Hiring**: Data-driven insights to improve hiring decisions.
  
    **Our Services:**
    - **For Job Seekers**: Access to a wide range of job listings, resume-building tools, and career guidance.
    - **For Hiring Managers**: AI-driven candidate recommendations, automated screening, and seamless interview scheduling.
    - **For Companies**: Tailored recruitment strategies, employer branding solutions, and workforce analytics.
    - **Partnership Opportunities**: Collaborate with SQR to improve hiring efficiency and access premium talent.
  
    **Our Core Values:**
    - **Integrity**: Committed to fair and ethical hiring practices.
    - **Customer Commitment**: Dedicated to providing the best job search and hiring experience.
    - **Quality & Transparency**: Ensuring high standards in recruitment and career development.
  
    **Answer user queries about SQR's features, services, pricing, and capabilities only.** Do not answer questions unrelated to SQR. If a question is outside this scope, respond with:
  
    *"I'm sorry, I can only answer questions related to SQR, its features, hiring solutions, and career development. Please visit our website for more information."*
  
    **Please format responses using Markdown.** Use **bold**, *italics*, \`code\`, lists, and other Markdown features where appropriate. Ensure responses are structured, clear, and easy to read.
    `},iU=iD({apiKey:process.env.OPENAI_API_KEY||"",compatibility:"strict"}),iq="edge";async function iF(e){let{messages:t}=await e.json(),r=await il({model:iU("gpt-4o-mini"),messages:[iL,...t],temperature:1});return r?.toDataStreamResponse()}let iZ=new ti.AppRouteRouteModule({definition:{kind:to.A.APP_ROUTE,page:"/api/openai/route",pathname:"/api/openai",filename:"route",bundlePath:"app/api/openai/route"},resolvedPagePath:"/Users/saralask/Desktop/SquareResults/Prototype2/futuristic-interactive-showcase/app/api/openai/route.ts",nextConfigOutput:"",userland:M}),{workAsyncStorage:iB,workUnitAsyncStorage:iz,serverHooks:iH}=iZ;function iV(){return(0,tl.V5)({workAsyncStorage:iB,workUnitAsyncStorage:iz})}let iW=null==(j=self.__RSC_MANIFEST)?void 0:j["/api/openai/route"],iG=(e=>e?JSON.parse(e):void 0)(self.__RSC_SERVER_MANIFEST);iW&&iG&&function({page:e,clientReferenceManifest:t,serverActionsManifest:r,serverModuleMap:n}){var a;let s=null==(a=globalThis[F])?void 0:a.clientReferenceManifestsPerPage;globalThis[F]={clientReferenceManifestsPerPage:{...s,[(0,q.Y)(e)]:t},serverActionsManifest:r,serverModuleMap:n}}({page:"/api/openai/route",clientReferenceManifest:iW,serverActionsManifest:iG,serverModuleMap:function({serverActionsManifest:e}){return new Proxy({},{get:(t,r)=>{var n;let a;let s=e.edge[r].workers,i=U.J.getStore();if(!(a=i?s[n=i.page,(0,L.m)(n,"app")?n:"app"+n]:Object.values(s).at(0)))return;let{moduleId:o,async:l}=a;return{id:o,name:r,chunks:[],async:l}}})}({serverActionsManifest:iG})});let iJ=D,iK=ts.wrap(iZ,{nextConfig:{env:{},webpack:null,eslint:{ignoreDuringBuilds:!1},typescript:{ignoreBuildErrors:!1,tsconfigPath:"tsconfig.json"},distDir:".next",cleanDistDir:!0,assetPrefix:"",cacheMaxMemorySize:0x3200000,configOrigin:"next.config.ts",useFileSystemPublicRoutes:!0,generateEtags:!0,pageExtensions:["tsx","ts","jsx","js"],poweredByHeader:!0,compress:!0,images:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",remotePatterns:[],unoptimized:!1},devIndicators:{appIsrStatus:!0,buildActivity:!0,buildActivityPosition:"bottom-right"},onDemandEntries:{maxInactiveAge:6e4,pagesBufferLength:5},amp:{canonicalBase:""},basePath:"",sassOptions:{},trailingSlash:!1,i18n:null,productionBrowserSourceMaps:!1,excludeDefaultMomentLocales:!0,serverRuntimeConfig:{},publicRuntimeConfig:{},reactProductionProfiling:!1,reactStrictMode:null,reactMaxHeadersLength:6e3,httpAgentOptions:{keepAlive:!0},logging:{},expireTime:31536e3,staticPageGenerationTimeout:60,modularizeImports:{"@mui/icons-material":{transform:"@mui/icons-material/{{member}}"},lodash:{transform:"lodash/{{member}}"}},outputFileTracingRoot:"/Users/saralask/Desktop/SquareResults/Prototype2/futuristic-interactive-showcase",experimental:{cacheLife:{default:{stale:300,revalidate:900,expire:0xfffffffe},seconds:{stale:0,revalidate:1,expire:60},minutes:{stale:300,revalidate:60,expire:3600},hours:{stale:300,revalidate:3600,expire:86400},days:{stale:300,revalidate:86400,expire:604800},weeks:{stale:300,revalidate:604800,expire:2592e3},max:{stale:300,revalidate:2592e3,expire:0xfffffffe}},cacheHandlers:{},cssChunking:!0,multiZoneDraftMode:!1,appNavFailHandling:!1,prerenderEarlyExit:!0,serverMinification:!0,serverSourceMaps:!1,linkNoTouchStart:!1,caseSensitiveRoutes:!1,clientSegmentCache:!1,preloadEntriesOnStart:!0,clientRouterFilter:!0,clientRouterFilterRedirects:!1,fetchCacheKeyPrefix:"",middlewarePrefetch:"flexible",optimisticClientCache:!0,manualClientBasePath:!1,cpus:7,memoryBasedWorkersCount:!1,imgOptConcurrency:null,imgOptTimeoutInSeconds:7,imgOptMaxInputPixels:0xfff8001,imgOptSequentialRead:null,isrFlushToDisk:!0,workerThreads:!1,optimizeCss:!1,nextScriptWorkers:!1,scrollRestoration:!1,externalDir:!1,disableOptimizedLoading:!1,gzipSize:!0,craCompat:!1,esmExternals:!0,fullySpecified:!1,swcTraceProfiling:!1,forceSwcTransforms:!1,largePageDataBytes:128e3,turbo:{root:"/Users/saralask/Desktop/SquareResults/Prototype2/futuristic-interactive-showcase"},typedRoutes:!1,typedEnv:!1,parallelServerCompiles:!1,parallelServerBuildTraces:!1,ppr:!1,authInterrupts:!1,reactOwnerStack:!1,webpackMemoryOptimizations:!1,optimizeServerReact:!0,useEarlyImport:!1,staleTimes:{dynamic:0,static:300},serverComponentsHmrCache:!0,staticGenerationMaxConcurrency:8,staticGenerationMinPagesPerWorker:25,dynamicIO:!1,inlineCss:!1,optimizePackageImports:["lucide-react","date-fns","lodash-es","ramda","antd","react-bootstrap","ahooks","@ant-design/icons","@headlessui/react","@headlessui-float/react","@heroicons/react/20/solid","@heroicons/react/24/solid","@heroicons/react/24/outline","@visx/visx","@tremor/react","rxjs","@mui/material","@mui/icons-material","recharts","react-use","effect","@effect/schema","@effect/platform","@effect/platform-node","@effect/platform-browser","@effect/platform-bun","@effect/sql","@effect/sql-mssql","@effect/sql-mysql2","@effect/sql-pg","@effect/sql-squlite-node","@effect/sql-squlite-bun","@effect/sql-squlite-wasm","@effect/sql-squlite-react-native","@effect/rpc","@effect/rpc-http","@effect/typeclass","@effect/experimental","@effect/opentelemetry","@material-ui/core","@material-ui/icons","@tabler/icons-react","mui-core","react-icons/ai","react-icons/bi","react-icons/bs","react-icons/cg","react-icons/ci","react-icons/di","react-icons/fa","react-icons/fa6","react-icons/fc","react-icons/fi","react-icons/gi","react-icons/go","react-icons/gr","react-icons/hi","react-icons/hi2","react-icons/im","react-icons/io","react-icons/io5","react-icons/lia","react-icons/lib","react-icons/lu","react-icons/md","react-icons/pi","react-icons/ri","react-icons/rx","react-icons/si","react-icons/sl","react-icons/tb","react-icons/tfi","react-icons/ti","react-icons/vsc","react-icons/wi"]},bundlePagesRouterDependencies:!1,configFile:"/Users/saralask/Desktop/SquareResults/Prototype2/futuristic-interactive-showcase/next.config.ts",configFileName:"next.config.ts"}})},6487:()=>{},8335:()=>{},1508:(e,t,r)=>{"use strict";r.d(t,{_:()=>f});var n=r(7069),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return i},s=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},i=function(){function e(){}return e.prototype.active=function(){return n.l},e.prototype.with=function(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];return t.call.apply(t,s([r],a(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),o=r(4383),l=r(8923),u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return i},c=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},d="context",p=new i,f=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,o.$G)(d,e,l.K.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return(n=this._getContextManager()).with.apply(n,c([e,t,r],u(a),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,o.mS)(d)||p},e.prototype.disable=function(){this._getContextManager().disable(),(0,o.kv)(d,l.K.instance())},e}()},8923:(e,t,r)=>{"use strict";r.d(t,{K:()=>d});var n=r(4383),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return i},s=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},i=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o("verbose",this._namespace,e)},e}();function o(e,t,r){var i=(0,n.mS)("diag");if(i)return r.unshift(t),i[e].apply(i,s([],a(r),!1))}var l=r(7745),u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return i},c=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},d=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=(0,n.mS)("diag");if(a)return a[e].apply(a,c([],u(t),!1))}}var t=this;t.setLogger=function(e,r){if(void 0===r&&(r={logLevel:l.u.INFO}),e===t){var a,s,i,o=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(a=o.stack)&&void 0!==a?a:o.message),!1}"number"==typeof r&&(r={logLevel:r});var u=(0,n.mS)("diag"),c=function(e,t){function r(r,n){var a=t[r];return"function"==typeof a&&e>=n?a.bind(t):function(){}}return e<l.u.NONE?e=l.u.NONE:e>l.u.ALL&&(e=l.u.ALL),t=t||{},{error:r("error",l.u.ERROR),warn:r("warn",l.u.WARN),info:r("info",l.u.INFO),debug:r("debug",l.u.DEBUG),verbose:r("verbose",l.u.VERBOSE)}}(null!==(s=r.logLevel)&&void 0!==s?s:l.u.INFO,e);if(u&&!r.suppressOverrideMessage){var d=null!==(i=Error().stack)&&void 0!==i?i:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+d),c.warn("Current logger will overwrite one already registered from "+d)}return(0,n.$G)("diag",c,t,!0)},t.disable=function(){(0,n.kv)("diag",t)},t.createComponentLogger=function(e){return new i(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},7069:(e,t,r)=>{"use strict";function n(e){return Symbol.for(e)}r.d(t,{l:()=>a,n:()=>n});var a=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var a=new e(r._currentContext);return a._currentContext.set(t,n),a},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}},7745:(e,t,r)=>{"use strict";var n;r.d(t,{u:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}))},5005:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>g,DiagLogLevel:()=>y.u,INVALID_SPANID:()=>X.w9,INVALID_SPAN_CONTEXT:()=>X.dM,INVALID_TRACEID:()=>X.RH,ProxyTracer:()=>q.y,ProxyTracerProvider:()=>F.n,ROOT_CONTEXT:()=>h.l,SamplingDecision:()=>a,SpanKind:()=>s,SpanStatusCode:()=>Z.s,TraceFlags:()=>B.X,ValueType:()=>n,baggageEntryMetadataFromString:()=>f,context:()=>Q,createContextKey:()=>h.n,createNoopMeter:()=>D,createTraceState:()=>J,default:()=>em,defaultTextMapGetter:()=>L,defaultTextMapSetter:()=>U,diag:()=>ee,isSpanContextValid:()=>K.YA,isValidSpanId:()=>K.wN,isValidTraceId:()=>K.hX,metrics:()=>ea,propagation:()=>ef,trace:()=>eh.u});var n,a,s,i=r(8923),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return i},l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=o(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var s=new e(this._entries);try{for(var i=l(n),o=i.next();!o.done;o=i.next()){var u=o.value;s._entries.delete(u)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),c=Symbol("BaggageEntryMetadata"),d=i.K.instance();function p(e){return void 0===e&&(e={}),new u(new Map(Object.entries(e)))}function f(e){return"string"!=typeof e&&(d.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:c,toString:function(){return e}}}var h=r(7069),m=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],g=function(){for(var e=0;e<m.length;e++)this[m[e].n]=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}(m[e].c)},y=r(7745),v=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),b=function(){function e(){}return e.prototype.createGauge=function(e,t){return O},e.prototype.createHistogram=function(e,t){return I},e.prototype.createCounter=function(e,t){return P},e.prototype.createUpDownCounter=function(e,t){return N},e.prototype.createObservableGauge=function(e,t){return j},e.prototype.createObservableCounter=function(e,t){return $},e.prototype.createObservableUpDownCounter=function(e,t){return M},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),_=function(){},w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.add=function(e,t){},t}(_),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.add=function(e,t){},t}(_),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.record=function(e,t){},t}(_),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.record=function(e,t){},t}(_),C=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(C),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(C),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(C),A=new b,P=new w,O=new S,I=new k,N=new x,$=new E,j=new T,M=new R;function D(){return A}!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(n||(n={}));var L={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},U={set:function(e,t,r){null!=e&&(e[t]=r)}},q=r(3165),F=r(1218);!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(a||(a={})),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(s||(s={}));var Z=r(184),B=r(5681),z="[_0-9a-z-*/]",H=RegExp("^(?:[a-z]"+z+"{0,255}|"+("[a-z0-9]"+z)+"{0,240}@[a-z]"+z+"{0,13})$"),V=/^[ -~]{0,255}[!-~]$/,W=/,|=/,G=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+"="+e.get(r)),t},[]).join(",")},e.prototype._parse=function(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce(function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var a=r.slice(0,n),s=r.slice(n+1,t.length);H.test(a)&&V.test(s)&&!W.test(s)&&e.set(a,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function J(e){return new G(e)}var K=r(1487),X=r(4820),Y=r(1508),Q=Y._.getInstance(),ee=i.K.instance(),et=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return A},e}()),er=r(4383),en="metrics",ea=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,er.$G)(en,e,i.K.instance())},e.prototype.getMeterProvider=function(){return(0,er.mS)(en)||et},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){(0,er.kv)(en,i.K.instance())},e})().getInstance(),es=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),ei=(0,h.n)("OpenTelemetry Baggage Key");function eo(e){return e.getValue(ei)||void 0}function el(){return eo(Y._.getInstance().active())}function eu(e,t){return e.setValue(ei,t)}function ec(e){return e.deleteValue(ei)}var ed="propagation",ep=new es,ef=(function(){function e(){this.createBaggage=p,this.getBaggage=eo,this.getActiveBaggage=el,this.setBaggage=eu,this.deleteBaggage=ec}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,er.$G)(ed,e,i.K.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=U),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=L),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,er.kv)(ed,i.K.instance())},e.prototype._getGlobalPropagator=function(){return(0,er.mS)(ed)||ep},e})().getInstance(),eh=r(3537);let em={context:Q,diag:ee,metrics:ea,propagation:ef,trace:eh.u}},4383:(e,t,r)=>{"use strict";r.d(t,{mS:()=>u,$G:()=>l,kv:()=>c});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{},a="1.9.0",s=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,i=function(e){var t=new Set([e]),r=new Set,n=e.match(s);if(!n)return function(){return!1};var a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function i(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(s);if(!n)return i(e);var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=o.prerelease||a.major!==o.major?i(e):0===a.major?a.minor===o.minor&&a.patch<=o.patch?(t.add(e),!0):i(e):a.minor<=o.minor?(t.add(e),!0):i(e)}}(a),o=Symbol.for("opentelemetry.js.api."+a.split(".")[0]);function l(e,t,r,s){void 0===s&&(s=!1);var i,l=n[o]=null!==(i=n[o])&&void 0!==i?i:{version:a};if(!s&&l[e]){var u=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(u.stack||u.message),!1}if(l.version!==a){var u=Error("@opentelemetry/api: Registration of version v"+l.version+" for "+e+" does not match previously registered API v"+a);return r.error(u.stack||u.message),!1}return l[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+a+"."),!0}function u(e){var t,r,a=null===(t=n[o])||void 0===t?void 0:t.version;if(a&&i(a))return null===(r=n[o])||void 0===r?void 0:r[e]}function c(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+a+".");var r=n[o];r&&delete r[e]}},3537:(e,t,r)=>{"use strict";r.d(t,{u:()=>u});var n=r(4383),a=r(1218),s=r(1487),i=r(3715),o=r(8923),l="trace",u=(function(){function e(){this._proxyTracerProvider=new a.n,this.wrapSpanContext=s.IP,this.isSpanContextValid=s.YA,this.deleteSpan=i.EW,this.getSpan=i.fU,this.getActiveSpan=i.Bk,this.getSpanContext=i.w8,this.setSpan=i.Bx,this.setSpanContext=i.g_}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,n.$G)(l,this._proxyTracerProvider,o.K.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,n.mS)(l)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,n.kv)(l,o.K.instance()),this._proxyTracerProvider=new a.n},e})().getInstance()},1324:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(4820),a=function(){function e(e){void 0===e&&(e=n.dM),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},5139:(e,t,r)=>{"use strict";r.d(t,{o:()=>l});var n=r(1508),a=r(3715),s=r(1324),i=r(1487),o=n._.getInstance(),l=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=o.active()),null==t?void 0:t.root)return new s.d;var n=r&&(0,a.w8)(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,i.YA)(n)?new s.d(n):new s.d},e.prototype.startActiveSpan=function(e,t,r,n){if(!(arguments.length<2)){2==arguments.length?l=t:3==arguments.length?(s=t,l=r):(s=t,i=r,l=n);var s,i,l,u=null!=i?i:o.active(),c=this.startSpan(e,s,u),d=(0,a.Bx)(u,c);return o.with(d,l,void 0,c)}},e}()},3165:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=new(r(5139)).o,a=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n},e}()},1218:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var n=r(3165),a=r(5139),s=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new a.o},e}()),i=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var a;return null!==(a=this.getDelegateTracer(e,t,r))&&void 0!==a?a:new n.y(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:s},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}()},3715:(e,t,r)=>{"use strict";r.d(t,{Bk:()=>l,Bx:()=>u,EW:()=>c,fU:()=>o,g_:()=>d,w8:()=>p});var n=r(7069),a=r(1324),s=r(1508),i=(0,n.n)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(i)||void 0}function l(){return o(s._.getInstance().active())}function u(e,t){return e.setValue(i,t)}function c(e){return e.deleteValue(i)}function d(e,t){return u(e,new a.d(t))}function p(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}},4820:(e,t,r)=>{"use strict";r.d(t,{RH:()=>s,dM:()=>i,w9:()=>a});var n=r(5681),a="0000000000000000",s="00000000000000000000000000000000",i={traceId:s,spanId:a,traceFlags:n.X.NONE}},1487:(e,t,r)=>{"use strict";r.d(t,{IP:()=>c,YA:()=>u,hX:()=>o,wN:()=>l});var n=r(4820),a=r(1324),s=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(e){return s.test(e)&&e!==n.RH}function l(e){return i.test(e)&&e!==n.w9}function u(e){return o(e.traceId)&&l(e.spanId)}function c(e){return new a.d(e)}},184:(e,t,r)=>{"use strict";var n;r.d(t,{s:()=>n}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(n||(n={}))},5681:(e,t,r)=>{"use strict";var n;r.d(t,{X:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(n||(n={}))},850:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,s={};function i(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function o(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,a]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=a?a:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[n,a],...s]=o(e),{domain:i,expires:l,httponly:d,maxage:p,path:f,samesite:h,secure:m,partitioned:g,priority:y}=Object.fromEntries(s.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:n,value:decodeURIComponent(a),domain:i,...l&&{expires:new Date(l)},...d&&{httpOnly:!0},..."string"==typeof p&&{maxAge:Number(p)},path:f,...h&&{sameSite:u.includes(t=(t=h).toLowerCase())?t:void 0},...m&&{secure:!0},...y&&{priority:c.includes(r=(r=y).toLowerCase())?r:void 0},...g&&{partitioned:!0}})}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(s,{RequestCookies:()=>d,ResponseCookies:()=>p,parseCookie:()=>o,parseSetCookie:()=>l,stringifyCookie:()=>i}),e.exports=((e,s,i,o)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let l of n(s))a.call(e,l)||l===i||t(e,l,{get:()=>s[l],enumerable:!(o=r(s,l))||o.enumerable});return e})(t({},"__esModule",{value:!0}),s);var u=["strict","lax","none"],c=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of o(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>i(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>i(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},p=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let a=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(a)?a:function(e){if(!e)return[];var t,r,n,a,s,i=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),a=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=a,i.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&i.push(e.substring(t,e.length))}return i}(a)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,a=this._parsed;return a.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=i(r);t.append("set-cookie",e)}}(a,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(i).join("; ")}}},7800:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var t={};(()=>{t.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var a={},s=t.split(n),i=(r||{}).decode||e,o=0;o<s.length;o++){var l=s[o],u=l.indexOf("=");if(!(u<0)){var c=l.substr(0,u).trim(),d=l.substr(++u,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==a[c]&&(a[c]=function(e,t){try{return t(e)}catch(t){return e}}(d,i))}}return a},t.serialize=function(e,t,n){var s=n||{},i=s.encode||r;if("function"!=typeof i)throw TypeError("option encode is invalid");if(!a.test(e))throw TypeError("argument name is invalid");var o=i(t);if(o&&!a.test(o))throw TypeError("argument val is invalid");var l=e+"="+o;if(null!=s.maxAge){var u=s.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(s.domain){if(!a.test(s.domain))throw TypeError("option domain is invalid");l+="; Domain="+s.domain}if(s.path){if(!a.test(s.path))throw TypeError("option path is invalid");l+="; Path="+s.path}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(l+="; HttpOnly"),s.secure&&(l+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var e=decodeURIComponent,r=encodeURIComponent,n=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),e.exports=t})()},7937:(e,t,r)=>{!function(){var t={452:function(e){"use strict";e.exports=r(8591)}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},i=!0;try{t[e](s,s.exports,a),i=!1}finally{i&&delete n[e]}return s.exports}a.ab="//";var s={};!function(){var e,t=(e=a(452))&&"object"==typeof e&&"default"in e?e.default:e,r=/https?|ftp|gopher|file/;function n(e){"string"==typeof e&&(e=y(e));var n,a,s,i,o,l,u,c,d,p=(a=(n=e).auth,s=n.hostname,i=n.protocol||"",o=n.pathname||"",l=n.hash||"",u=n.query||"",c=!1,a=a?encodeURIComponent(a).replace(/%3A/i,":")+"@":"",n.host?c=a+n.host:s&&(c=a+(~s.indexOf(":")?"["+s+"]":s),n.port&&(c+=":"+n.port)),u&&"object"==typeof u&&(u=t.encode(u)),d=n.search||u&&"?"+u||"",i&&":"!==i.substr(-1)&&(i+=":"),n.slashes||(!i||r.test(i))&&!1!==c?(c="//"+(c||""),o&&"/"!==o[0]&&(o="/"+o)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),{protocol:i,host:c,pathname:o=o.replace(/[?#]/g,encodeURIComponent),search:d=d.replace("#","%23"),hash:l});return""+p.protocol+p.host+p.pathname+p.search+p.hash}var i="http://",o=i+"w.w",l=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,u=/https?|ftp|gopher|file/;function c(e,t){var r="string"==typeof e?y(e):e;e="object"==typeof e?n(e):e;var a=y(t),s="";r.protocol&&!r.slashes&&(s=r.protocol,e=e.replace(r.protocol,""),s+="/"===t[0]||"/"===e[0]?"/":""),s&&a.protocol&&(s="",a.slashes||(s=a.protocol,t=t.replace(a.protocol,"")));var c=e.match(l);c&&!a.protocol&&(e=e.substr((s=c[1]+(c[2]||"")).length),/^\/\/[^/]/.test(t)&&(s=s.slice(0,-1)));var d=new URL(e,o+"/"),p=new URL(t,d).toString().replace(o,""),f=a.protocol||r.protocol;return f+=r.slashes||a.slashes?"//":"",!s&&f?p=p.replace(i,f):s&&(p=p.replace(i,"")),u.test(p)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==p.slice(-1)||(p=p.slice(0,-1)),s&&(p=s+("/"===p[0]?p.substr(1):p)),p}function d(){}d.prototype.parse=y,d.prototype.format=n,d.prototype.resolve=c,d.prototype.resolveObject=c;var p=/^https?|ftp|gopher|file/,f=/^(.*?)([#?].*)/,h=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,m=/^([a-z0-9.+-]*:)?\/\/\/*/i,g=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function y(e,r,a){if(void 0===r&&(r=!1),void 0===a&&(a=!1),e&&"object"==typeof e&&e instanceof d)return e;var s=(e=e.trim()).match(f);e=s?s[1].replace(/\\/g,"/")+s[2]:e.replace(/\\/g,"/"),g.test(e)&&"/"!==e.slice(-1)&&(e+="/");var i=!/(^javascript)/.test(e)&&e.match(h),l=m.test(e),u="";i&&(p.test(i[1])||(u=i[1].toLowerCase(),e=""+i[2]+i[3]),i[2]||(l=!1,p.test(i[1])?(u=i[1],e=""+i[3]):e="//"+i[3]),3!==i[2].length&&1!==i[2].length||(u=i[1],e="/"+i[3]));var c,y=(s?s[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),v=y&&y[1],b=new d,_="",w="";try{c=new URL(e)}catch(t){_=t,u||a||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(w="/",e=e.substr(1));try{c=new URL(e,o)}catch(e){return b.protocol=u,b.href=u,b}}b.slashes=l&&!w,b.host="w.w"===c.host?"":c.host,b.hostname="w.w"===c.hostname?"":c.hostname.replace(/(\[|\])/g,""),b.protocol=_?u||null:c.protocol,b.search=c.search.replace(/\\/g,"%5C"),b.hash=c.hash.replace(/\\/g,"%5C");var x=e.split("#");!b.search&&~x[0].indexOf("?")&&(b.search="?"),b.hash||""!==x[1]||(b.hash="#"),b.query=r?t.decode(c.search.substr(1)):b.search.substr(1),b.pathname=w+(i?c.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):c.pathname),"about:"===b.protocol&&"blank"===b.pathname&&(b.protocol="",b.pathname=""),_&&"/"!==e[0]&&(b.pathname=b.pathname.substr(1)),u&&!p.test(u)&&"/"!==e.slice(-1)&&"/"===b.pathname&&(b.pathname=""),b.path=b.pathname+b.search,b.auth=[c.username,c.password].map(decodeURIComponent).filter(Boolean).join(":"),b.port=c.port,v&&!b.host.endsWith(v)&&(b.host+=v,b.port=v.slice(1)),b.href=w?""+b.pathname+b.search+b.hash:n(b);var S=/^(file)/.test(b.href)?["host","hostname"]:[];return Object.keys(b).forEach(function(e){~S.indexOf(e)||(b[e]=b[e]||null)}),b}s.parse=y,s.format=n,s.resolve=c,s.resolveObject=function(e,t){return y(c(e,t))},s.Url=d}(),e.exports=s}()},8668:e=>{(()=>{"use strict";var t={993:e=>{var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,i){if("function"!=typeof n)throw TypeError("The listener must be a function");var o=new a(n,s||e,i),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,s=n.length,i=Array(s);a<s;a++)i[a]=n[a].fn;return i},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,a,s,i){var o=r?r+e:e;if(!this._events[o])return!1;var l,u,c=this._events[o],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,a),!0;case 5:return c.fn.call(c.context,t,n,a,s),!0;case 6:return c.fn.call(c.context,t,n,a,s,i),!0}for(u=1,l=Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,a);break;default:if(!l)for(p=1,l=Array(d-1);p<d;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,a){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||a&&!o.once||n&&o.context!==n||i(this,s);else{for(var l=0,u=[],c=o.length;l<c;l++)(o[l].fn!==t||a&&!o[l].once||n&&o[l].context!==n)&&u.push(o[l]);u.length?this._events[s]=1===u.length?u[0]:u:i(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},213:e=>{e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},574:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let n=0,a=e.length;for(;a>0;){let s=a/2|0,i=n+s;0>=r(e[i],t)?(n=++i,a-=s+1):a=s}return n}},821:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});let n=r(574);class a{constructor(){this._queue=[]}enqueue(e,t){let r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(r);return}let a=n.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(a,0,r)}dequeue(){let e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}t.default=a},816:(e,t,r)=>{let n=r(213);class a extends Error{constructor(e){super(e),this.name="TimeoutError"}}let s=(e,t,r)=>new Promise((s,i)=>{if("number"!=typeof t||t<0)throw TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){s(e);return}let o=setTimeout(()=>{if("function"==typeof r){try{s(r())}catch(e){i(e)}return}let n="string"==typeof r?r:`Promise timed out after ${t} milliseconds`,o=r instanceof Error?r:new a(n);"function"==typeof e.cancel&&e.cancel(),i(o)},t);n(e.then(s,i),()=>{clearTimeout(o)})});e.exports=s,e.exports.default=s,e.exports.TimeoutError=a}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}},i=!0;try{t[e](s,s.exports,n),i=!1}finally{i&&delete r[e]}return s.exports}n.ab="//";var a={};(()=>{Object.defineProperty(a,"__esModule",{value:!0});let e=n(993),t=n(816),r=n(821),s=()=>{},i=new t.TimeoutError;class o extends e{constructor(e){var t,n,a,i;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:r.default},e)).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(a=e.interval)||void 0===a?void 0:a.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(void 0===this._intervalId){let t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,r={}){return new Promise((n,a)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let s=void 0===this._timeout&&void 0===r.timeout?e():t.default(Promise.resolve(e()),void 0===r.timeout?this._timeout:r.timeout,()=>{(void 0===r.throwOnTimeout?this._throwOnTimeout:r.throwOnTimeout)&&a(i)});n(await s)}catch(e){a(e)}this._next()};this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}a.default=o})(),e.exports=a})()},2910:e=>{!function(){"use strict";var t={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",a=0,s=-1,i=0,o=0;o<=e.length;++o){if(o<e.length)r=e.charCodeAt(o);else if(47===r)break;else r=47;if(47===r){if(s===o-1||1===i);else if(s!==o-1&&2===i){if(n.length<2||2!==a||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2)){if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",a=0):a=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),s=o,i=0;continue}}else if(2===n.length||1===n.length){n="",a=0,s=o,i=0;continue}}t&&(n.length>0?n+="/..":n="..",a=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),a=o-s-1;s=o,i=0}else 46===r&&-1!==i?++i:i=-1}return n}var n={resolve:function(){for(var e,n,a="",s=!1,i=arguments.length-1;i>=-1&&!s;i--)i>=0?n=arguments[i]:(void 0===e&&(e=""),n=e),t(n),0!==n.length&&(a=n+"/"+a,s=47===n.charCodeAt(0));return(a=r(a,!s),s)?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),a=47===e.charCodeAt(e.length-1);return(0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&a&&(e+="/"),n)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var a=arguments[r];t(a),a.length>0&&(void 0===e?e=a:e+="/"+a)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e))===(r=n.resolve(r)))return"";for(var a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var s=e.length,i=s-a,o=1;o<r.length&&47===r.charCodeAt(o);++o);for(var l=r.length-o,u=i<l?i:l,c=-1,d=0;d<=u;++d){if(d===u){if(l>u){if(47===r.charCodeAt(o+d))return r.slice(o+d+1);if(0===d)return r.slice(o+d)}else i>u&&(47===e.charCodeAt(a+d)?c=d:0===d&&(c=0));break}var p=e.charCodeAt(a+d);if(p!==r.charCodeAt(o+d))break;47===p&&(c=d)}var f="";for(d=a+c+1;d<=s;++d)(d===s||47===e.charCodeAt(d))&&(0===f.length?f+="..":f+="/..");return f.length>0?f+r.slice(o+c):(o+=c,47===r.charCodeAt(o)&&++o,r.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,a=-1,s=!0,i=e.length-1;i>=1;--i)if(47===(r=e.charCodeAt(i))){if(!s){a=i;break}}else s=!1;return -1===a?n?"/":".":n&&1===a?"//":e.slice(0,a)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw TypeError('"ext" argument must be a string');t(e);var n,a=0,s=-1,i=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var o=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!i){a=n+1;break}}else -1===l&&(i=!1,l=n+1),o>=0&&(u===r.charCodeAt(o)?-1==--o&&(s=n):(o=-1,s=l))}return a===s?s=l:-1===s&&(s=e.length),e.slice(a,s)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!i){a=n+1;break}}else -1===s&&(i=!1,s=n+1);return -1===s?"":e.slice(a,s)},extname:function(e){t(e);for(var r=-1,n=0,a=-1,s=!0,i=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(47===l){if(!s){n=o+1;break}continue}-1===a&&(s=!1,a=o+1),46===l?-1===r?r=o:1!==i&&(i=1):-1!==r&&(i=-1)}return -1===r||-1===a||0===i||1===i&&r===a-1&&r===n+1?"":e.slice(r,a)},format:function(e){var t,r;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+r:t+"/"+r:r},parse:function(e){t(e);var r,n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var a=e.charCodeAt(0),s=47===a;s?(n.root="/",r=1):r=0;for(var i=-1,o=0,l=-1,u=!0,c=e.length-1,d=0;c>=r;--c){if(47===(a=e.charCodeAt(c))){if(!u){o=c+1;break}continue}-1===l&&(u=!1,l=c+1),46===a?-1===i?i=c:1!==d&&(d=1):-1!==i&&(d=-1)}return -1===i||-1===l||0===d||1===d&&i===l-1&&i===o+1?-1!==l&&(0===o&&s?n.base=n.name=e.slice(1,l):n.base=n.name=e.slice(o,l)):(0===o&&s?(n.name=e.slice(1,i),n.base=e.slice(1,l)):(n.name=e.slice(o,i),n.base=e.slice(o,l)),n.ext=e.slice(i,l)),o>0?n.dir=e.slice(0,o-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}},i=!0;try{t[e](s,s.exports,n),i=!1}finally{i&&delete r[e]}return s.exports}n.ab="//";var a=n(114);e.exports=a}()},3605:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var t={};(()=>{function e(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"===n||"+"===n||"?"===n){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if("\\"===n){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if("{"===n){t.push({type:"OPEN",index:r,value:e[r++]});continue}if("}"===n){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(":"===n){for(var a="",s=r+1;s<e.length;){var i=e.charCodeAt(s);if(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||95===i){a+=e[s++];continue}break}if(!a)throw TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:a}),r=s;continue}if("("===n){var o=1,l="",s=r+1;if("?"===e[s])throw TypeError('Pattern cannot start with "?" at '+s);for(;s<e.length;){if("\\"===e[s]){l+=e[s++]+e[s++];continue}if(")"===e[s]){if(0==--o){s++;break}}else if("("===e[s]&&(o++,"?"!==e[s+1]))throw TypeError("Capturing groups are not allowed at "+s);l+=e[s++]}if(o)throw TypeError("Unbalanced pattern at "+r);if(!l)throw TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:l}),r=s;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,s=void 0===n?"./":n,i="[^"+a(t.delimiter||"/#?")+"]+?",o=[],l=0,u=0,c="",d=function(e){if(u<r.length&&r[u].type===e)return r[u++].value},p=function(e){var t=d(e);if(void 0!==t)return t;var n=r[u];throw TypeError("Unexpected "+n.type+" at "+n.index+", expected "+e)},f=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t};u<r.length;){var h=d("CHAR"),m=d("NAME"),g=d("PATTERN");if(m||g){var y=h||"";-1===s.indexOf(y)&&(c+=y,y=""),c&&(o.push(c),c=""),o.push({name:m||l++,prefix:y,suffix:"",pattern:g||i,modifier:d("MODIFIER")||""});continue}var v=h||d("ESCAPED_CHAR");if(v){c+=v;continue}if(c&&(o.push(c),c=""),d("OPEN")){var y=f(),b=d("NAME")||"",_=d("PATTERN")||"",w=f();p("CLOSE"),o.push({name:b||(_?l++:""),pattern:b&&!_?i:_,prefix:y,suffix:w,modifier:d("MODIFIER")||""});continue}p("END")}return o}function r(e,t){void 0===t&&(t={});var r=s(t),n=t.encode,a=void 0===n?function(e){return e}:n,i=t.validate,o=void 0===i||i,l=e.map(function(e){if("object"==typeof e)return RegExp("^(?:"+e.pattern+")$",r)});return function(t){for(var r="",n=0;n<e.length;n++){var s=e[n];if("string"==typeof s){r+=s;continue}var i=t?t[s.name]:void 0,u="?"===s.modifier||"*"===s.modifier,c="*"===s.modifier||"+"===s.modifier;if(Array.isArray(i)){if(!c)throw TypeError('Expected "'+s.name+'" to not repeat, but got an array');if(0===i.length){if(u)continue;throw TypeError('Expected "'+s.name+'" to not be empty')}for(var d=0;d<i.length;d++){var p=a(i[d],s);if(o&&!l[n].test(p))throw TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but got "'+p+'"');r+=s.prefix+p+s.suffix}continue}if("string"==typeof i||"number"==typeof i){var p=a(String(i),s);if(o&&!l[n].test(p))throw TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but got "'+p+'"');r+=s.prefix+p+s.suffix;continue}if(!u){var f=c?"an array":"a string";throw TypeError('Expected "'+s.name+'" to be '+f)}}return r}}function n(e,t,r){void 0===r&&(r={});var n=r.decode,a=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var s=n[0],i=n.index,o=Object.create(null),l=1;l<n.length;l++)!function(e){if(void 0!==n[e]){var r=t[e-1];"*"===r.modifier||"+"===r.modifier?o[r.name]=n[e].split(r.prefix+r.suffix).map(function(e){return a(e,r)}):o[r.name]=a(n[e],r)}}(l);return{path:s,index:i,params:o}}}function a(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function s(e){return e&&e.sensitive?"":"i"}function i(e,t,r){void 0===r&&(r={});for(var n=r.strict,i=void 0!==n&&n,o=r.start,l=r.end,u=r.encode,c=void 0===u?function(e){return e}:u,d="["+a(r.endsWith||"")+"]|$",p="["+a(r.delimiter||"/#?")+"]",f=void 0===o||o?"^":"",h=0;h<e.length;h++){var m=e[h];if("string"==typeof m)f+=a(c(m));else{var g=a(c(m.prefix)),y=a(c(m.suffix));if(m.pattern){if(t&&t.push(m),g||y){if("+"===m.modifier||"*"===m.modifier){var v="*"===m.modifier?"?":"";f+="(?:"+g+"((?:"+m.pattern+")(?:"+y+g+"(?:"+m.pattern+"))*)"+y+")"+v}else f+="(?:"+g+"("+m.pattern+")"+y+")"+m.modifier}else f+="("+m.pattern+")"+m.modifier}else f+="(?:"+g+y+")"+m.modifier}}if(void 0===l||l)i||(f+=p+"?"),f+=r.endsWith?"(?="+d+")":"$";else{var b=e[e.length-1],_="string"==typeof b?p.indexOf(b[b.length-1])>-1:void 0===b;i||(f+="(?:"+p+"(?="+d+"))?"),_||(f+="(?="+p+"|"+d+")")}return new RegExp(f,s(r))}function o(t,r,n){return t instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(t,r):Array.isArray(t)?RegExp("(?:"+t.map(function(e){return o(e,r,n).source}).join("|")+")",s(n)):i(e(t,n),r,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=e,t.compile=function(t,n){return r(e(t,n),n)},t.tokensToFunction=r,t.match=function(e,t){var r=[];return n(o(e,r,t),r,t)},t.regexpToFunction=n,t.tokensToRegexp=i,t.pathToRegexp=o})(),e.exports=t})()},8591:e=>{!function(){"use strict";var t={815:function(e){e.exports=function(e,r,n,a){r=r||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var i=/\+/g;e=e.split(r);var o=1e3;a&&"number"==typeof a.maxKeys&&(o=a.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var u=0;u<l;++u){var c,d,p,f,h=e[u].replace(i,"%20"),m=h.indexOf(n);(m>=0?(c=h.substr(0,m),d=h.substr(m+1)):(c=h,d=""),p=decodeURIComponent(c),f=decodeURIComponent(d),Object.prototype.hasOwnProperty.call(s,p))?t(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,s,i,o){return(s=s||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e)?n(a(e),function(a){var o=encodeURIComponent(t(a))+i;return r(e[a])?n(e[a],function(e){return o+encodeURIComponent(t(e))}).join(s):o+encodeURIComponent(t(e[a]))}).join(s):o?encodeURIComponent(t(o))+i+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}},i=!0;try{t[e](s,s.exports,n),i=!1}finally{i&&delete r[e]}return s.exports}n.ab="//";var a={};a.decode=a.parse=n(815),a.encode=a.stringify=n(577),e.exports=a}()},8899:(e,t,r)=>{"use strict";var n=r(6411);function a(){}var s={d:{f:a,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null};if(!n.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');function i(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var r=t.as,n=i(r,t.crossOrigin),a="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?s.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:o}):"script"===r&&s.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e){if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=i(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)}},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var r=t.as,n=i(r,t.crossOrigin);s.d.L(e,r,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e){if(t){var r=i(t.as,t.crossOrigin);s.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else s.d.m(e)}},t.version="19.0.0-rc-65e06cb7-20241218"},9367:(e,t,r)=>{"use strict";e.exports=r(8899)},6207:(e,t,r)=>{"use strict";var n=r(9367),a=r(6411);function s(e){ty(function(){throw e})}var i=Promise,o="function"==typeof queueMicrotask?queueMicrotask:function(e){i.resolve(null).then(e).catch(s)},l=null,u=0;function c(e,t){if(0!==t.byteLength){if(2048<t.byteLength)0<u&&(e.enqueue(new Uint8Array(l.buffer,0,u)),l=new Uint8Array(2048),u=0),e.enqueue(t);else{var r=l.length-u;r<t.byteLength&&(0===r?e.enqueue(l):(l.set(t.subarray(0,r),u),e.enqueue(l),t=t.subarray(r)),l=new Uint8Array(2048),u=0),l.set(t,u),u+=t.byteLength}}return!0}var d=new TextEncoder;function p(e){return d.encode(e)}function f(e){return e.byteLength}function h(e,t){"function"==typeof e.error?e.error(t):e.close()}var m=Symbol.for("react.client.reference"),g=Symbol.for("react.server.reference");function y(e,t,r){return Object.defineProperties(e,{$$typeof:{value:m},$$id:{value:t},$$async:{value:r}})}var v=Function.prototype.bind,b=Array.prototype.slice;function _(){var e=v.apply(this,arguments);if(this.$$typeof===g){var t=b.call(arguments,1);return Object.defineProperties(e,{$$typeof:{value:g},$$id:{value:this.$$id},$$bound:t={value:this.$$bound?this.$$bound.concat(t):t},bind:{value:_,configurable:!0}})}return e}var w=Promise.prototype,x={get:function(e,t){switch(t){case"$$typeof":return e.$$typeof;case"$$id":return e.$$id;case"$$async":return e.$$async;case"name":return e.name;case"displayName":case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.");case"then":throw Error("Cannot await or return from a thenable. You cannot await a client module from a server component.")}throw Error("Cannot access "+String(e.name)+"."+String(t)+" on the server. You cannot dot into a client module from a server component. You can only pass the imported name through.")},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function S(e,t){switch(t){case"$$typeof":return e.$$typeof;case"$$id":return e.$$id;case"$$async":return e.$$async;case"name":return e.name;case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"__esModule":var r=e.$$id;return e.default=y(function(){throw Error("Attempted to call the default export of "+r+" from the server but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},e.$$id+"#",e.$$async),!0;case"then":if(e.then)return e.then;if(e.$$async)return;var n=y({},e.$$id,!0),a=new Proxy(n,k);return e.status="fulfilled",e.value=a,e.then=y(function(e){return Promise.resolve(e(a))},e.$$id+"#then",!1)}if("symbol"==typeof t)throw Error("Cannot read Symbol exports. Only named exports are supported on a client module imported on the server.");return(n=e[t])||(Object.defineProperty(n=y(function(){throw Error("Attempted to call "+String(t)+"() from the server but "+String(t)+" is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},e.$$id+"#"+t,e.$$async),"name",{value:t}),n=e[t]=new Proxy(n,x)),n}var k={get:function(e,t){return S(e,t)},getOwnPropertyDescriptor:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return r||(r={value:S(e,t),writable:!1,configurable:!1,enumerable:!1},Object.defineProperty(e,t,r)),r},getPrototypeOf:function(){return w},set:function(){throw Error("Cannot assign to a client module from a server module.")}},C=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=C.d;function T(e){if(null==e)return null;var t,r=!1,n={};for(t in e)null!=e[t]&&(r=!0,n[t]=e[t]);return r?n:null}C.d={f:E.f,r:E.r,D:function(e){if("string"==typeof e&&e){var t=ev();if(t){var r=t.hints,n="D|"+e;r.has(n)||(r.add(n),e_(t,"D",e))}else E.D(e)}},C:function(e,t){if("string"==typeof e){var r=ev();if(r){var n=r.hints,a="C|"+(null==t?"null":t)+"|"+e;n.has(a)||(n.add(a),"string"==typeof t?e_(r,"C",[e,t]):e_(r,"C",e))}else E.C(e,t)}},L:function(e,t,r){if("string"==typeof e){var n=ev();if(n){var a=n.hints,s="L";if("image"===t&&r){var i=r.imageSrcSet,o=r.imageSizes,l="";"string"==typeof i&&""!==i?(l+="["+i+"]","string"==typeof o&&(l+="["+o+"]")):l+="[][]"+e,s+="[image]"+l}else s+="["+t+"]"+e;a.has(s)||(a.add(s),(r=T(r))?e_(n,"L",[e,t,r]):e_(n,"L",[e,t]))}else E.L(e,t,r)}},m:function(e,t){if("string"==typeof e){var r=ev();if(r){var n=r.hints,a="m|"+e;if(n.has(a))return;return n.add(a),(t=T(t))?e_(r,"m",[e,t]):e_(r,"m",e)}E.m(e,t)}},X:function(e,t){if("string"==typeof e){var r=ev();if(r){var n=r.hints,a="X|"+e;if(n.has(a))return;return n.add(a),(t=T(t))?e_(r,"X",[e,t]):e_(r,"X",e)}E.X(e,t)}},S:function(e,t,r){if("string"==typeof e){var n=ev();if(n){var a=n.hints,s="S|"+e;if(a.has(s))return;return a.add(s),(r=T(r))?e_(n,"S",[e,"string"==typeof t?t:0,r]):"string"==typeof t?e_(n,"S",[e,t]):e_(n,"S",e)}E.S(e,t,r)}},M:function(e,t){if("string"==typeof e){var r=ev();if(r){var n=r.hints,a="M|"+e;if(n.has(a))return;return n.add(a),(t=T(t))?e_(r,"M",[e,t]):e_(r,"M",e)}E.M(e,t)}}};var R="function"==typeof AsyncLocalStorage,A=R?new AsyncLocalStorage:null;"object"==typeof async_hooks&&async_hooks.createHook,"object"==typeof async_hooks&&async_hooks.executionAsyncId;var P=Symbol.for("react.temporary.reference"),O={get:function(e,t){switch(t){case"$$typeof":return e.$$typeof;case"name":case"displayName":case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.")}throw Error("Cannot access "+String(t)+" on the server. You cannot dot into a temporary client reference from a server component. You can only pass the value through to the client.")},set:function(){throw Error("Cannot assign to a temporary client reference from a server module.")}},I=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),$=Symbol.for("react.fragment"),j=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),F=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.postpone");var Z=Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Z&&e[Z]||e["@@iterator"])?e:null}var z=Symbol.asyncIterator,H=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`.");function V(){}var W=null;function G(){if(null===W)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=W;return W=null,e}var J=null,K=0,X=null;function Y(){var e=X||[];return X=null,e}var Q={useMemo:function(e){return e()},useCallback:function(e){return e},useDebugValue:function(){},useDeferredValue:ee,useTransition:ee,readContext:er,useContext:er,useReducer:ee,useRef:ee,useState:ee,useInsertionEffect:ee,useLayoutEffect:ee,useImperativeHandle:ee,useEffect:ee,useId:function(){if(null===J)throw Error("useId can only be used while React is rendering");var e=J.identifierCount++;return":"+J.identifierPrefix+"S"+e.toString(32)+":"},useSyncExternalStore:ee,useCacheRefresh:function(){return et},useMemoCache:function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=F;return t},use:function(e){if(null!==e&&"object"==typeof e||"function"==typeof e){if("function"==typeof e.then){var t=K;return K+=1,null===X&&(X=[]),function(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(V,V),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"==typeof t.status?t.then(V,V):((e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}throw W=t,H}}(X,e,t)}e.$$typeof===j&&er()}if(e.$$typeof===m){if(null!=e.value&&e.value.$$typeof===j)throw Error("Cannot read a Client Context from a Server Component.");throw Error("Cannot use() an already resolved Client Reference.")}throw Error("An unsupported type was passed to use(): "+String(e))}};function ee(){throw Error("This Hook is not supported in Server Components.")}function et(){throw Error("Refreshing the cache is not supported in Server Components.")}function er(){throw Error("Cannot read a Client Context from a Server Component.")}var en={getCacheForType:function(e){var t=(t=ev())?t.cache:new Map,r=t.get(e);return void 0===r&&(r=e(),t.set(e,r)),r}},ea=a.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!ea)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');var es=Array.isArray,ei=Object.getPrototypeOf;function eo(e){return Object.prototype.toString.call(e).replace(/^\[object (.*)\]$/,function(e,t){return t})}function el(e){switch(typeof e){case"string":return JSON.stringify(10>=e.length?e:e.slice(0,10)+"...");case"object":if(es(e))return"[...]";if(null!==e&&e.$$typeof===eu)return"client";return"Object"===(e=eo(e))?"{...}":e;case"function":return e.$$typeof===eu?"client":(e=e.displayName||e.name)?"function "+e:"function";default:return String(e)}}var eu=Symbol.for("react.client.reference");function ec(e,t){var r=eo(e);if("Object"!==r&&"Array"!==r)return r;r=-1;var n=0;if(es(e)){for(var a="[",s=0;s<e.length;s++){0<s&&(a+=", ");var i=e[s];i="object"==typeof i&&null!==i?ec(i):el(i),""+s===t?(r=a.length,n=i.length,a+=i):a=10>i.length&&40>a.length+i.length?a+i:a+"..."}a+="]"}else if(e.$$typeof===N)a="<"+function e(t){if("string"==typeof t)return t;switch(t){case D:return"Suspense";case L:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case M:return e(t.render);case U:return e(t.type);case q:var r=t._payload;t=t._init;try{return e(t(r))}catch(e){}}return""}(e.type)+"/>";else{if(e.$$typeof===eu)return"client";for(i=0,a="{",s=Object.keys(e);i<s.length;i++){0<i&&(a+=", ");var o=s[i],l=JSON.stringify(o);a+=('"'+o+'"'===l?o:l)+": ",l="object"==typeof(l=e[o])&&null!==l?ec(l):el(l),o===t?(r=a.length,n=l.length,a+=l):a=10>l.length&&40>a.length+l.length?a+l:a+"..."}a+="}"}return void 0===t?a:-1<r&&0<n?"\n  "+a+"\n  "+(e=" ".repeat(r)+"^".repeat(n)):"\n  "+a}var ed=Object.prototype,ep=JSON.stringify;function ef(e){console.error(e)}function eh(){}function em(e,t,r,n,a,s,i,o,l,u,c){if(null!==ea.A&&ea.A!==en)throw Error("Currently React only supports one RSC renderer at a time.");ea.A=en,l=new Set,o=[];var d=new Set;this.type=e,this.status=10,this.flushScheduled=!1,this.destination=this.fatalError=null,this.bundlerConfig=r,this.cache=new Map,this.pendingChunks=this.nextChunkId=0,this.hints=d,this.abortListeners=new Set,this.abortableTasks=l,this.pingedTasks=o,this.completedImportChunks=[],this.completedHintChunks=[],this.completedRegularChunks=[],this.completedErrorChunks=[],this.writtenSymbols=new Map,this.writtenClientReferences=new Map,this.writtenServerReferences=new Map,this.writtenObjects=new WeakMap,this.temporaryReferences=i,this.identifierPrefix=a||"",this.identifierCount=1,this.taintCleanupQueue=[],this.onError=void 0===n?ef:n,this.onPostpone=void 0===s?eh:s,this.onAllReady=u,this.onFatalError=c,e=eE(this,t,null,!1,l),o.push(e)}function eg(){}var ey=null;function ev(){if(ey)return ey;if(R){var e=A.getStore();if(e)return e}return null}function eb(e,t,r){var n=eE(e,null,t.keyPath,t.implicitSlot,e.abortableTasks);switch(r.status){case"fulfilled":return n.model=r.value,eC(e,n),n.id;case"rejected":return t=e$(e,r.reason,null),eM(e,n.id,t),n.status=4,e.abortableTasks.delete(n),n.id;default:if(12===e.status)return e.abortableTasks.delete(n),n.status=3,t=ep(eT(e.fatalError)),eD(e,n.id,t),n.id;"string"!=typeof r.status&&(r.status="pending",r.then(function(e){"pending"===r.status&&(r.status="fulfilled",r.value=e)},function(e){"pending"===r.status&&(r.status="rejected",r.reason=e)}))}return r.then(function(t){n.model=t,eC(e,n)},function(t){0===n.status&&(t=e$(e,t,n),eM(e,n.id,t),n.status=4,e.abortableTasks.delete(n),eH(e))}),n.id}function e_(e,t,r){t=p(":H"+t+(r=ep(r))+"\n"),e.completedHintChunks.push(t),eH(e)}function ew(e){if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e}function ex(){}function eS(e,t,r,n,a){var s=t.thenableState;if(t.thenableState=null,K=0,X=s,n=n(a,void 0),12===e.status)throw"object"==typeof n&&null!==n&&"function"==typeof n.then&&n.$$typeof!==m&&n.then(ex,ex),null;if("object"==typeof n&&null!==n&&n.$$typeof!==m){if("function"==typeof n.then){if("fulfilled"===(a=n).status)return a.value;n=function(e){switch(e.status){case"fulfilled":case"rejected":break;default:"string"!=typeof e.status&&(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))}return{$$typeof:q,_payload:e,_init:ew}}(n)}var i=B(n);if(i){var o=n;(n={})[Symbol.iterator]=function(){return i.call(o)}}else if(!("function"!=typeof n[z]||"function"==typeof ReadableStream&&n instanceof ReadableStream)){var l=n;(n={})[z]=function(){return l[z]()}}}return a=t.keyPath,s=t.implicitSlot,null!==r?t.keyPath=null===a?r:a+","+r:null===a&&(t.implicitSlot=!0),e=eN(e,t,eF,"",n),t.keyPath=a,t.implicitSlot=s,e}function ek(e,t,r){return null!==t.keyPath?(e=[N,$,t.keyPath,{children:r}],t.implicitSlot?[e]:e):r}function eC(e,t){var r=e.pingedTasks;r.push(t),1===r.length&&(e.flushScheduled=null!==e.destination,21===e.type||10===e.status?o(function(){return eB(e)}):ty(function(){return eB(e)},0))}function eE(e,t,r,n,a){e.pendingChunks++;var s=e.nextChunkId++;"object"!=typeof t||null===t||null!==r||n||e.writtenObjects.set(t,eT(s));var i={id:s,status:0,model:t,keyPath:r,implicitSlot:n,ping:function(){return eC(e,i)},toJSON:function(t,r){var n=i.keyPath,a=i.implicitSlot;try{var s=eN(e,i,this,t,r)}catch(l){if(t="object"==typeof(t=i.model)&&null!==t&&(t.$$typeof===N||t.$$typeof===q),12===e.status)i.status=3,n=e.fatalError,s=t?"$L"+n.toString(16):eT(n);else if("object"==typeof(r=l===H?G():l)&&null!==r&&"function"==typeof r.then){var o=(s=eE(e,i.model,i.keyPath,i.implicitSlot,e.abortableTasks)).ping;r.then(o,o),s.thenableState=Y(),i.keyPath=n,i.implicitSlot=a,s=t?"$L"+s.id.toString(16):eT(s.id)}else i.keyPath=n,i.implicitSlot=a,e.pendingChunks++,n=e.nextChunkId++,a=e$(e,r,i),eM(e,n,a),s=t?"$L"+n.toString(16):eT(n)}return s},thenableState:null};return a.add(i),i}function eT(e){return"$"+e.toString(16)}function eR(e,t,r){return e=ep(r),p(t=t.toString(16)+":"+e+"\n")}function eA(e,t,r,n){var a=n.$$async?n.$$id+"#async":n.$$id,s=e.writtenClientReferences,i=s.get(a);if(void 0!==i)return t[0]===N&&"1"===r?"$L"+i.toString(16):eT(i);try{var o=e.bundlerConfig,l=n.$$id;i="";var u=o[l];if(u)i=u.name;else{var c=l.lastIndexOf("#");if(-1!==c&&(i=l.slice(c+1),u=o[l.slice(0,c)]),!u)throw Error('Could not find the module "'+l+'" in the React Client Manifest. This is probably a bug in the React Server Components bundler.')}if(!0===u.async&&!0===n.$$async)throw Error('The module "'+l+'" is marked as an async ESM module but was loaded as a CJS proxy. This is probably a bug in the React Server Components bundler.');var d=!0===u.async||!0===n.$$async?[u.id,u.chunks,i,1]:[u.id,u.chunks,i];e.pendingChunks++;var f=e.nextChunkId++,h=ep(d),m=f.toString(16)+":I"+h+"\n",g=p(m);return e.completedImportChunks.push(g),s.set(a,f),t[0]===N&&"1"===r?"$L"+f.toString(16):eT(f)}catch(n){return e.pendingChunks++,t=e.nextChunkId++,r=e$(e,n,null),eM(e,t,r),eT(t)}}function eP(e,t){return t=eE(e,t,null,!1,e.abortableTasks),eZ(e,t),t.id}function eO(e,t,r){e.pendingChunks++;var n=e.nextChunkId++;return eL(e,n,t,r),eT(n)}var eI=!1;function eN(e,t,r,n,a){if(t.model=a,a===N)return"$";if(null===a)return null;if("object"==typeof a){switch(a.$$typeof){case N:var s=null,i=e.writtenObjects;if(null===t.keyPath&&!t.implicitSlot){var o=i.get(a);if(void 0!==o){if(eI!==a)return o;eI=null}else -1===n.indexOf(":")&&void 0!==(r=i.get(r))&&(s=r+":"+n,i.set(a,s))}return r=(n=a.props).ref,"object"==typeof(e=function e(t,r,n,a,s,i){if(null!=s)throw Error("Refs cannot be used in Server Components, nor passed to Client Components.");if("function"==typeof n&&n.$$typeof!==m&&n.$$typeof!==P)return eS(t,r,a,n,i);if(n===$&&null===a)return n=r.implicitSlot,null===r.keyPath&&(r.implicitSlot=!0),i=eN(t,r,eF,"",i.children),r.implicitSlot=n,i;if(null!=n&&"object"==typeof n&&n.$$typeof!==m)switch(n.$$typeof){case q:if(n=(0,n._init)(n._payload),12===t.status)throw null;return e(t,r,n,a,s,i);case M:return eS(t,r,a,n.render,i);case U:return e(t,r,n.type,a,s,i)}return t=a,a=r.keyPath,null===t?t=a:null!==a&&(t=a+","+t),i=[N,n,t,i],r=r.implicitSlot&&null!==t?[i]:i}(e,t,a.type,a.key,void 0!==r?r:null,n))&&null!==e&&null!==s&&(i.has(e)||i.set(e,s)),e;case q:if(t.thenableState=null,a=(n=a._init)(a._payload),12===e.status)throw null;return eN(e,t,eF,"",a);case I:throw Error('A React Element from an older version of React was rendered. This is not supported. It can happen if:\n- Multiple copies of the "react" package is used.\n- A library pre-bundled an old copy of "react" or "react/jsx-runtime".\n- A compiler tries to "inline" JSX instead of using the runtime.')}if(a.$$typeof===m)return eA(e,r,n,a);if(void 0!==e.temporaryReferences&&void 0!==(s=e.temporaryReferences.get(a)))return"$T"+s;if(i=(s=e.writtenObjects).get(a),"function"==typeof a.then){if(void 0!==i){if(null!==t.keyPath||t.implicitSlot)return"$@"+eb(e,t,a).toString(16);if(eI!==a)return i;eI=null}return e="$@"+eb(e,t,a).toString(16),s.set(a,e),e}if(void 0!==i){if(eI!==a)return i;eI=null}else if(-1===n.indexOf(":")&&void 0!==(i=s.get(r))){if(o=n,es(r)&&r[0]===N)switch(n){case"1":o="type";break;case"2":o="key";break;case"3":o="props";break;case"4":o="_owner"}s.set(a,i+":"+o)}if(es(a))return ek(e,t,a);if(a instanceof Map)return"$Q"+eP(e,a=Array.from(a)).toString(16);if(a instanceof Set)return"$W"+eP(e,a=Array.from(a)).toString(16);if("function"==typeof FormData&&a instanceof FormData)return"$K"+eP(e,a=Array.from(a.entries())).toString(16);if(a instanceof Error)return"$Z";if(a instanceof ArrayBuffer)return eO(e,"A",new Uint8Array(a));if(a instanceof Int8Array)return eO(e,"O",a);if(a instanceof Uint8Array)return eO(e,"o",a);if(a instanceof Uint8ClampedArray)return eO(e,"U",a);if(a instanceof Int16Array)return eO(e,"S",a);if(a instanceof Uint16Array)return eO(e,"s",a);if(a instanceof Int32Array)return eO(e,"L",a);if(a instanceof Uint32Array)return eO(e,"l",a);if(a instanceof Float32Array)return eO(e,"G",a);if(a instanceof Float64Array)return eO(e,"g",a);if(a instanceof BigInt64Array)return eO(e,"M",a);if(a instanceof BigUint64Array)return eO(e,"m",a);if(a instanceof DataView)return eO(e,"V",a);if("function"==typeof Blob&&a instanceof Blob)return function(e,t){function r(t){if(!o){o=!0,e.abortListeners.delete(n);var a=e$(e,t,s);eM(e,s.id,a),eH(e),i.cancel(t).then(r,r)}}function n(t){if(!o){o=!0,e.abortListeners.delete(n);var a=e$(e,t,s);eM(e,s.id,a),eH(e),i.cancel(t).then(r,r)}}var a=[t.type],s=eE(e,a,null,!1,e.abortableTasks),i=t.stream().getReader(),o=!1;return e.abortListeners.add(n),i.read().then(function t(l){if(!o){if(!l.done)return a.push(l.value),i.read().then(t).catch(r);e.abortListeners.delete(n),o=!0,eC(e,s)}}).catch(r),"$B"+s.id.toString(16)}(e,a);if(s=B(a))return(n=s.call(a))===a?"$i"+eP(e,Array.from(n)).toString(16):ek(e,t,Array.from(n));if("function"==typeof ReadableStream&&a instanceof ReadableStream)return function(e,t,r){function n(t){if(!l){l=!0,e.abortListeners.delete(a);var r=e$(e,t,o);eM(e,o.id,r),eH(e),i.cancel(t).then(n,n)}}function a(t){if(!l){l=!0,e.abortListeners.delete(a);var r=e$(e,t,o);eM(e,o.id,r),eH(e),i.cancel(t).then(n,n)}}var s=r.supportsBYOB;if(void 0===s)try{r.getReader({mode:"byob"}).releaseLock(),s=!0}catch(e){s=!1}var i=r.getReader(),o=eE(e,t.model,t.keyPath,t.implicitSlot,e.abortableTasks);e.abortableTasks.delete(o),e.pendingChunks++,t=o.id.toString(16)+":"+(s?"r":"R")+"\n",e.completedRegularChunks.push(p(t));var l=!1;return e.abortListeners.add(a),i.read().then(function t(r){if(!l){if(r.done)e.abortListeners.delete(a),r=o.id.toString(16)+":C\n",e.completedRegularChunks.push(p(r)),eH(e),l=!0;else try{o.model=r.value,e.pendingChunks++,eq(e,o,o.model),eH(e),i.read().then(t,n)}catch(e){n(e)}}},n),eT(o.id)}(e,t,a);if("function"==typeof(s=a[z]))return null!==t.keyPath?(e=[N,$,t.keyPath,{children:a}],e=t.implicitSlot?[e]:e):(n=s.call(a),e=function(e,t,r,n){function a(t){if(!o){o=!0,e.abortListeners.delete(s);var r=e$(e,t,i);eM(e,i.id,r),eH(e),"function"==typeof n.throw&&n.throw(t).then(a,a)}}function s(t){if(!o){o=!0,e.abortListeners.delete(s);var r=e$(e,t,i);eM(e,i.id,r),eH(e),"function"==typeof n.throw&&n.throw(t).then(a,a)}}r=r===n;var i=eE(e,t.model,t.keyPath,t.implicitSlot,e.abortableTasks);e.abortableTasks.delete(i),e.pendingChunks++,t=i.id.toString(16)+":"+(r?"x":"X")+"\n",e.completedRegularChunks.push(p(t));var o=!1;return e.abortListeners.add(s),n.next().then(function t(r){if(!o){if(r.done){if(e.abortListeners.delete(s),void 0===r.value)var l=i.id.toString(16)+":C\n";else try{var u=eP(e,r.value);l=i.id.toString(16)+":C"+ep(eT(u))+"\n"}catch(e){a(e);return}e.completedRegularChunks.push(p(l)),eH(e),o=!0}else try{i.model=r.value,e.pendingChunks++,eq(e,i,i.model),eH(e),n.next().then(t,a)}catch(e){a(e)}}},a),eT(i.id)}(e,t,a,n)),e;if(a instanceof Date)return"$D"+a.toJSON();if((e=ei(a))!==ed&&(null===e||null!==ei(e)))throw Error("Only plain objects, and a few built-ins, can be passed to Client Components from Server Components. Classes or null prototypes are not supported."+ec(r,n));return a}if("string"==typeof a)return"Z"===a[a.length-1]&&r[n]instanceof Date?"$D"+a:1024<=a.length&&null!==f?(e.pendingChunks++,t=e.nextChunkId++,eU(e,t,a),eT(t)):e="$"===a[0]?"$"+a:a;if("boolean"==typeof a)return a;if("number"==typeof a)return Number.isFinite(a)?0===a&&-1/0==1/a?"$-0":a:1/0===a?"$Infinity":-1/0===a?"$-Infinity":"$NaN";if(void 0===a)return"$undefined";if("function"==typeof a){if(a.$$typeof===m)return eA(e,r,n,a);if(a.$$typeof===g)return void 0!==(n=(t=e.writtenServerReferences).get(a))?e="$F"+n.toString(16):(n=null===(n=a.$$bound)?null:Promise.resolve(n),e=eP(e,{id:a.$$id,bound:n}),t.set(a,e),e="$F"+e.toString(16)),e;if(void 0!==e.temporaryReferences&&void 0!==(e=e.temporaryReferences.get(a)))return"$T"+e;if(a.$$typeof===P)throw Error("Could not reference an opaque temporary reference. This is likely due to misconfiguring the temporaryReferences options on the server.");if(/^on[A-Z]/.test(n))throw Error("Event handlers cannot be passed to Client Component props."+ec(r,n)+"\nIf you need interactivity, consider converting part of this to a Client Component.");throw Error('Functions cannot be passed directly to Client Components unless you explicitly expose it by marking it with "use server". Or maybe you meant to call this function rather than return it.'+ec(r,n))}if("symbol"==typeof a){if(void 0!==(s=(t=e.writtenSymbols).get(a)))return eT(s);if(Symbol.for(s=a.description)!==a)throw Error("Only global symbols received from Symbol.for(...) can be passed to Client Components. The symbol Symbol.for("+a.description+") cannot be found among global symbols."+ec(r,n));return e.pendingChunks++,n=e.nextChunkId++,r=eR(e,n,"$S"+s),e.completedImportChunks.push(r),t.set(a,n),eT(n)}if("bigint"==typeof a)return"$n"+a.toString(10);throw Error("Type "+typeof a+" is not supported in Client Component props."+ec(r,n))}function e$(e,t){var r=ey;ey=null;try{var n=e.onError,a=R?A.run(void 0,n,t):n(t)}finally{ey=r}if(null!=a&&"string"!=typeof a)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof a+'" instead');return a||""}function ej(e,t){(0,e.onFatalError)(t),null!==e.destination?(e.status=14,h(e.destination,t)):(e.status=13,e.fatalError=t)}function eM(e,t,r){r={digest:r},t=p(t=t.toString(16)+":E"+ep(r)+"\n"),e.completedErrorChunks.push(t)}function eD(e,t,r){t=p(t=t.toString(16)+":"+r+"\n"),e.completedRegularChunks.push(t)}function eL(e,t,r,n){e.pendingChunks++;var a=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);a=(n=2048<n.byteLength?a.slice():a).byteLength,t=p(t=t.toString(16)+":"+r+a.toString(16)+","),e.completedRegularChunks.push(t,n)}function eU(e,t,r){if(null===f)throw Error("Existence of byteLengthOfChunk should have already been checked. This is a bug in React.");e.pendingChunks++;var n=(r=p(r)).byteLength;t=p(t=t.toString(16)+":T"+n.toString(16)+","),e.completedRegularChunks.push(t,r)}function eq(e,t,r){var n=t.id;"string"==typeof r&&null!==f?eU(e,n,r):r instanceof ArrayBuffer?eL(e,n,"A",new Uint8Array(r)):r instanceof Int8Array?eL(e,n,"O",r):r instanceof Uint8Array?eL(e,n,"o",r):r instanceof Uint8ClampedArray?eL(e,n,"U",r):r instanceof Int16Array?eL(e,n,"S",r):r instanceof Uint16Array?eL(e,n,"s",r):r instanceof Int32Array?eL(e,n,"L",r):r instanceof Uint32Array?eL(e,n,"l",r):r instanceof Float32Array?eL(e,n,"G",r):r instanceof Float64Array?eL(e,n,"g",r):r instanceof BigInt64Array?eL(e,n,"M",r):r instanceof BigUint64Array?eL(e,n,"m",r):r instanceof DataView?eL(e,n,"V",r):(r=ep(r,t.toJSON),eD(e,t.id,r))}var eF={};function eZ(e,t){if(0===t.status){t.status=5;try{eI=t.model;var r=eN(e,t,eF,"",t.model);if(eI=r,t.keyPath=null,t.implicitSlot=!1,"object"==typeof r&&null!==r)e.writtenObjects.set(r,eT(t.id)),eq(e,t,r);else{var n=ep(r);eD(e,t.id,n)}e.abortableTasks.delete(t),t.status=1}catch(r){if(12===e.status){e.abortableTasks.delete(t),t.status=3;var a=ep(eT(e.fatalError));eD(e,t.id,a)}else{var s=r===H?G():r;if("object"==typeof s&&null!==s&&"function"==typeof s.then){t.status=0,t.thenableState=Y();var i=t.ping;s.then(i,i)}else{e.abortableTasks.delete(t),t.status=4;var o=e$(e,s,t);eM(e,t.id,o)}}}finally{}}}function eB(e){var t=ea.H;ea.H=Q;var r=ey;J=ey=e;var n=0<e.abortableTasks.size;try{var a=e.pingedTasks;e.pingedTasks=[];for(var s=0;s<a.length;s++)eZ(e,a[s]);null!==e.destination&&ez(e,e.destination),n&&0===e.abortableTasks.size&&(0,e.onAllReady)()}catch(t){e$(e,t,null),ej(e,t)}finally{ea.H=t,J=null,ey=r}}function ez(e,t){l=new Uint8Array(2048),u=0;try{for(var r=e.completedImportChunks,n=0;n<r.length;n++)e.pendingChunks--,c(t,r[n]);r.splice(0,n);var a=e.completedHintChunks;for(n=0;n<a.length;n++)c(t,a[n]);a.splice(0,n);var s=e.completedRegularChunks;for(n=0;n<s.length;n++)e.pendingChunks--,c(t,s[n]);s.splice(0,n);var i=e.completedErrorChunks;for(n=0;n<i.length;n++)e.pendingChunks--,c(t,i[n]);i.splice(0,n)}finally{e.flushScheduled=!1,l&&0<u&&(t.enqueue(new Uint8Array(l.buffer,0,u)),l=null,u=0)}0===e.pendingChunks&&(e.status=14,t.close(),e.destination=null)}function eH(e){!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination&&(e.flushScheduled=!0,ty(function(){e.flushScheduled=!1;var t=e.destination;t&&ez(e,t)},0))}function eV(e,t){try{11>=e.status&&(e.status=12);var r=e.abortableTasks;if(0<r.size){var n=void 0===t?Error("The render was aborted by the server without a reason."):"object"==typeof t&&null!==t&&"function"==typeof t.then?Error("The render was aborted by the server with a promise."):t,a=e$(e,n,null),s=e.nextChunkId++;e.fatalError=s,e.pendingChunks++,eM(e,s,a,n),r.forEach(function(t){if(5!==t.status){t.status=3;var r=eT(s);t=eR(e,t.id,r),e.completedErrorChunks.push(t)}}),r.clear(),(0,e.onAllReady)()}var i=e.abortListeners;if(0<i.size){var o=void 0===t?Error("The render was aborted by the server without a reason."):"object"==typeof t&&null!==t&&"function"==typeof t.then?Error("The render was aborted by the server with a promise."):t;i.forEach(function(e){return e(o)}),i.clear()}null!==e.destination&&ez(e,e.destination)}catch(t){e$(e,t,null),ej(e,t)}}function eW(e,t){var r="",n=e[t];if(n)r=n.name;else{var a=t.lastIndexOf("#");if(-1!==a&&(r=t.slice(a+1),n=e[t.slice(0,a)]),!n)throw Error('Could not find the module "'+t+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return n.async?[n.id,n.chunks,r,1]:[n.id,n.chunks,r]}var eG=new Map;function eJ(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function eK(){}function eX(e){for(var t=e[1],n=[],a=0;a<t.length;){var s=t[a++];t[a++];var i=eG.get(s);if(void 0===i){i=r.e(s),n.push(i);var o=eG.set.bind(eG,s,null);i.then(o,eK),eG.set(s,i)}else null!==i&&n.push(i)}return 4===e.length?0===n.length?eJ(e[0]):Promise.all(n).then(function(){return eJ(e[0])}):0<n.length?Promise.all(n):null}function eY(e){var t=globalThis.__next_require__(e[0]);if(4===e.length&&"function"==typeof t.then){if("fulfilled"===t.status)t=t.value;else throw t.reason}return"*"===e[2]?t:""===e[2]?t.__esModule?t.default:t:t[e[2]]}var eQ=Object.prototype.hasOwnProperty;function e0(e,t,r,n){this.status=e,this.value=t,this.reason=r,this._response=n}function e1(e){return new e0("pending",null,null,e)}function e2(e,t){for(var r=0;r<e.length;r++)(0,e[r])(t)}function e4(e,t){if("pending"!==e.status&&"blocked"!==e.status)e.reason.error(t);else{var r=e.reason;e.status="rejected",e.reason=t,null!==r&&e2(r,t)}}function e9(e,t,r){if("pending"!==e.status)e=e.reason,"C"===t[0]?e.close("C"===t?'"$undefined"':t.slice(1)):e.enqueueModel(t);else{var n=e.value,a=e.reason;if(e.status="resolved_model",e.value=t,e.reason=r,null!==n)switch(e7(e),e.status){case"fulfilled":e2(n,e.value);break;case"pending":case"blocked":case"cyclic":if(e.value)for(t=0;t<n.length;t++)e.value.push(n[t]);else e.value=n;if(e.reason){if(a)for(t=0;t<a.length;t++)e.reason.push(a[t])}else e.reason=a;break;case"rejected":a&&e2(a,e.reason)}}}function e3(e,t,r){return new e0("resolved_model",(r?'{"done":true,"value":':'{"done":false,"value":')+t+"}",-1,e)}function e6(e,t,r){e9(e,(r?'{"done":true,"value":':'{"done":false,"value":')+t+"}",-1)}e0.prototype=Object.create(Promise.prototype),e0.prototype.then=function(e,t){switch("resolved_model"===this.status&&e7(this),this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":case"cyclic":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};var e8=null,e5=null;function e7(e){var t=e8,r=e5;e8=e,e5=null;var n=-1===e.reason?void 0:e.reason.toString(16),a=e.value;e.status="cyclic",e.value=null,e.reason=null;try{var s=JSON.parse(a),i=function e(t,r,n,a,s){if("string"==typeof a)return function(e,t,r,n,a){if("$"===n[0]){switch(n[1]){case"$":return n.slice(1);case"@":return te(e,t=parseInt(n.slice(2),16));case"F":return n=tn(e,n=n.slice(2),t,r,to),function(e,t,r,n,a,s){var i=eW(e._bundlerConfig,t);if(t=eX(i),r)r=Promise.all([r,t]).then(function(e){e=e[0];var t=eY(i);return t.bind.apply(t,[null].concat(e))});else{if(!t)return eY(i);r=Promise.resolve(t).then(function(){return eY(i)})}return r.then(tt(n,a,s,!1,e,to,[]),tr(n)),null}(e,n.id,n.bound,e8,t,r);case"T":var s,i;if(void 0===a||void 0===e._temporaryReferences)throw Error("Could not reference an opaque temporary reference. This is likely due to misconfiguring the temporaryReferences options on the server.");return s=e._temporaryReferences,i=new Proxy(i=Object.defineProperties(function(){throw Error("Attempted to call a temporary Client Reference from the server but it is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},{$$typeof:{value:P}}),O),s.set(i,a),i;case"Q":return tn(e,n=n.slice(2),t,r,ta);case"W":return tn(e,n=n.slice(2),t,r,ts);case"K":t=n.slice(2);var o=e._prefix+t+"_",l=new FormData;return e._formData.forEach(function(e,t){t.startsWith(o)&&l.append(t.slice(o.length),e)}),l;case"i":return tn(e,n=n.slice(2),t,r,ti);case"I":return 1/0;case"-":return"$-0"===n?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(n.slice(2)));case"n":return BigInt(n.slice(2))}switch(n[1]){case"A":return tl(e,n,ArrayBuffer,1,t,r);case"O":return tl(e,n,Int8Array,1,t,r);case"o":return tl(e,n,Uint8Array,1,t,r);case"U":return tl(e,n,Uint8ClampedArray,1,t,r);case"S":return tl(e,n,Int16Array,2,t,r);case"s":return tl(e,n,Uint16Array,2,t,r);case"L":return tl(e,n,Int32Array,4,t,r);case"l":return tl(e,n,Uint32Array,4,t,r);case"G":return tl(e,n,Float32Array,4,t,r);case"g":return tl(e,n,Float64Array,8,t,r);case"M":return tl(e,n,BigInt64Array,8,t,r);case"m":return tl(e,n,BigUint64Array,8,t,r);case"V":return tl(e,n,DataView,1,t,r);case"B":return t=parseInt(n.slice(2),16),e._formData.get(e._prefix+t)}switch(n[1]){case"R":return tc(e,n,void 0);case"r":return tc(e,n,"bytes");case"X":return tp(e,n,!1);case"x":return tp(e,n,!0)}return tn(e,n=n.slice(1),t,r,to)}return n}(t,r,n,a,s);if("object"==typeof a&&null!==a){if(void 0!==s&&void 0!==t._temporaryReferences&&t._temporaryReferences.set(a,s),Array.isArray(a))for(var i=0;i<a.length;i++)a[i]=e(t,a,""+i,a[i],void 0!==s?s+":"+i:void 0);else for(i in a)eQ.call(a,i)&&(r=void 0!==s&&-1===i.indexOf(":")?s+":"+i:void 0,void 0!==(r=e(t,a,i,a[i],r))?a[i]=r:delete a[i])}return a}(e._response,{"":s},"",s,n);if(null!==e5&&0<e5.deps)e5.value=i,e.status="blocked";else{var o=e.value;e.status="fulfilled",e.value=i,null!==o&&e2(o,i)}}catch(t){e.status="rejected",e.reason=t}finally{e8=t,e5=r}}function te(e,t){var r=e._chunks,n=r.get(t);return n||(n=null!=(n=e._formData.get(e._prefix+t))?new e0("resolved_model",n,t,e):e._closed?new e0("rejected",null,e._closedReason,e):e1(e),r.set(t,n)),n}function tt(e,t,r,n,a,s,i){if(e5){var o=e5;n||o.deps++}else o=e5={deps:n?0:1,value:null};return function(n){for(var l=1;l<i.length;l++)n=n[i[l]];t[r]=s(a,n),""===r&&null===o.value&&(o.value=t[r]),o.deps--,0===o.deps&&"blocked"===e.status&&(n=e.value,e.status="fulfilled",e.value=o.value,null!==n&&e2(n,o.value))}}function tr(e){return function(t){return e4(e,t)}}function tn(e,t,r,n,a){var s=parseInt((t=t.split(":"))[0],16);switch("resolved_model"===(s=te(e,s)).status&&e7(s),s.status){case"fulfilled":for(n=1,r=s.value;n<t.length;n++)r=r[t[n]];return a(e,r);case"pending":case"blocked":case"cyclic":var i=e8;return s.then(tt(i,r,n,"cyclic"===s.status,e,a,t),tr(i)),null;default:throw s.reason}}function ta(e,t){return new Map(t)}function ts(e,t){return new Set(t)}function ti(e,t){return t[Symbol.iterator]()}function to(e,t){return t}function tl(e,t,r,n,a,s){return t=parseInt(t.slice(2),16),t=e._formData.get(e._prefix+t),t=r===ArrayBuffer?t.arrayBuffer():t.arrayBuffer().then(function(e){return new r(e)}),n=e8,t.then(tt(n,a,s,!1,e,to,[]),tr(n)),null}function tu(e,t,r,n){var a=e._chunks;for(r=new e0("fulfilled",r,n,e),a.set(t,r),e=e._formData.getAll(e._prefix+t),t=0;t<e.length;t++)"C"===(a=e[t])[0]?n.close("C"===a?'"$undefined"':a.slice(1)):n.enqueueModel(a)}function tc(e,t,r){t=parseInt(t.slice(2),16);var n=null;r=new ReadableStream({type:r,start:function(e){n=e}});var a=null;return tu(e,t,r,{enqueueModel:function(t){if(null===a){var r=new e0("resolved_model",t,-1,e);e7(r),"fulfilled"===r.status?n.enqueue(r.value):(r.then(function(e){return n.enqueue(e)},function(e){return n.error(e)}),a=r)}else{r=a;var s=e1(e);s.then(function(e){return n.enqueue(e)},function(e){return n.error(e)}),a=s,r.then(function(){a===s&&(a=null),e9(s,t,-1)})}},close:function(){if(null===a)n.close();else{var e=a;a=null,e.then(function(){return n.close()})}},error:function(e){if(null===a)n.error(e);else{var t=a;a=null,t.then(function(){return n.error(e)})}}}),r}function td(){return this}function tp(e,t,r){t=parseInt(t.slice(2),16);var n=[],a=!1,s=0,i={};return i[z]=function(){var t,r=0;return(t={next:t=function(t){if(void 0!==t)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(r===n.length){if(a)return new e0("fulfilled",{done:!0,value:void 0},null,e);n[r]=e1(e)}return n[r++]}})[z]=td,t},tu(e,t,r=r?i[z]():i,{enqueueModel:function(t){s===n.length?n[s]=e3(e,t,!1):e6(n[s],t,!1),s++},close:function(t){for(a=!0,s===n.length?n[s]=e3(e,t,!0):e6(n[s],t,!0),s++;s<n.length;)e6(n[s++],'"$undefined"',!0)},error:function(t){for(a=!0,s===n.length&&(n[s]=e1(e));s<n.length;)e4(n[s++],t)}}),r}function tf(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new FormData;return{_bundlerConfig:e,_prefix:t,_formData:n,_chunks:new Map,_closed:!1,_closedReason:null,_temporaryReferences:r}}function th(e){var t;t=Error("Connection closed."),e._closed=!0,e._closedReason=t,e._chunks.forEach(function(e){"pending"===e.status&&e4(e,t)})}function tm(e,t,r){var n=eW(e,t);return e=eX(n),r?Promise.all([r,e]).then(function(e){e=e[0];var t=eY(n);return t.bind.apply(t,[null].concat(e))}):e?Promise.resolve(e).then(function(){return eY(n)}):Promise.resolve(eY(n))}function tg(e,t,r){if(th(e=tf(t,r,void 0,e)),(e=te(e,0)).then(function(){}),"fulfilled"!==e.status)throw e.reason;return e.value}t.createClientModuleProxy=function(e){return new Proxy(e=y({},e,!1),k)},t.createTemporaryReferenceSet=function(){return new WeakMap},t.decodeAction=function(e,t){var r=new FormData,n=null;return e.forEach(function(a,s){s.startsWith("$ACTION_")?s.startsWith("$ACTION_REF_")?(a=tg(e,t,a="$ACTION_"+s.slice(12)+":"),n=tm(t,a.id,a.bound)):s.startsWith("$ACTION_ID_")&&(n=tm(t,a=s.slice(11),null)):r.append(s,a)}),null===n?null:n.then(function(e){return e.bind(null,r)})},t.decodeFormState=function(e,t,r){var n=t.get("$ACTION_KEY");if("string"!=typeof n)return Promise.resolve(null);var a=null;if(t.forEach(function(e,n){n.startsWith("$ACTION_REF_")&&(a=tg(t,r,"$ACTION_"+n.slice(12)+":"))}),null===a)return Promise.resolve(null);var s=a.id;return Promise.resolve(a.bound).then(function(t){return null===t?null:[e,n,s,t.length-1]})},t.decodeReply=function(e,t,r){if("string"==typeof e){var n=new FormData;n.append("0",e),e=n}return t=te(e=tf(t,"",r?r.temporaryReferences:void 0,e),0),th(e),t},t.registerClientReference=function(e,t,r){return y(e,t+"#"+r,!1)},t.registerServerReference=function(e,t,r){return Object.defineProperties(e,{$$typeof:{value:g},$$id:{value:null===r?t:t+"#"+r,configurable:!0},$$bound:{value:null,configurable:!0},bind:{value:_,configurable:!0}})};let ty="function"==typeof globalThis.setImmediate&&globalThis.propertyIsEnumerable("setImmediate")?globalThis.setImmediate:setTimeout;t.renderToReadableStream=function(e,t,r){var n=new em(20,e,t,r?r.onError:void 0,r?r.identifierPrefix:void 0,r?r.onPostpone:void 0,r?r.temporaryReferences:void 0,void 0,void 0,eg,eg);if(r&&r.signal){var a=r.signal;if(a.aborted)eV(n,a.reason);else{var s=function(){eV(n,a.reason),a.removeEventListener("abort",s)};a.addEventListener("abort",s)}}return new ReadableStream({type:"bytes",start:function(){n.flushScheduled=null!==n.destination,R?o(function(){A.run(n,eB,n)}):o(function(){return eB(n)}),ty(function(){10===n.status&&(n.status=11)},0)},pull:function(e){if(13===n.status)n.status=14,h(e,n.fatalError);else if(14!==n.status&&null===n.destination){n.destination=e;try{ez(n,e)}catch(e){e$(n,e,null),ej(n,e)}}},cancel:function(e){n.destination=null,eV(n,e)}},{highWaterMark:0})}},5710:(e,t,r)=>{"use strict";var n;(n=r(6207)).renderToReadableStream,n.decodeReply,n.decodeAction,n.decodeFormState,n.registerServerReference,t.YR=n.registerClientReference,n.createClientModuleProxy,n.createTemporaryReferenceSet},9355:(e,t)=>{"use strict";var r={H:null,A:null};function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=Array.isArray,s=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator,m=Object.prototype.hasOwnProperty,g=Object.assign;function y(e,t,r,n,a,i){return{$$typeof:s,type:e,key:t,ref:void 0!==(r=i.ref)?r:null,props:i}}function v(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var b=/\/+/g;function _(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function w(){}function x(e,t,r){if(null==e)return e;var o=[],l=0;return!function e(t,r,o,l,u){var c,d,p,m=typeof t;("undefined"===m||"boolean"===m)&&(t=null);var g=!1;if(null===t)g=!0;else switch(m){case"bigint":case"string":case"number":g=!0;break;case"object":switch(t.$$typeof){case s:case i:g=!0;break;case f:return e((g=t._init)(t._payload),r,o,l,u)}}if(g)return u=u(t),g=""===l?"."+_(t,0):l,a(u)?(o="",null!=g&&(o=g.replace(b,"$&/")+"/"),e(u,r,o,"",function(e){return e})):null!=u&&(v(u)&&(c=u,d=o+(null==u.key||t&&t.key===u.key?"":(""+u.key).replace(b,"$&/")+"/")+g,u=y(c.type,d,void 0,void 0,void 0,c.props)),r.push(u)),1;g=0;var x=""===l?".":l+":";if(a(t))for(var S=0;S<t.length;S++)m=x+_(l=t[S],S),g+=e(l,r,o,m,u);else if("function"==typeof(S=null===(p=t)||"object"!=typeof p?null:"function"==typeof(p=h&&p[h]||p["@@iterator"])?p:null))for(t=S.call(t),S=0;!(l=t.next()).done;)m=x+_(l=l.value,S++),g+=e(l,r,o,m,u);else if("object"===m){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(w,w):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),r,o,l,u);throw Error(n(31,"[object Object]"===(r=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":r))}return g}(e,o,"","",function(e){return t.call(r,e,l++)}),o}function S(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}function k(){return new WeakMap}function C(){return{s:0,v:void 0,o:null,p:null}}t.Children={map:x,forEach:function(e,t,r){x(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return x(e,function(){t++}),t},toArray:function(e){return x(e,function(e){return e})||[]},only:function(e){if(!v(e))throw Error(n(143));return e}},t.Fragment=o,t.Profiler=u,t.StrictMode=l,t.Suspense=d,t.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,t.cache=function(e){return function(){var t=r.A;if(!t)return e.apply(null,arguments);var n=t.getCacheForType(k);void 0===(t=n.get(e))&&(t=C(),n.set(e,t)),n=0;for(var a=arguments.length;n<a;n++){var s=arguments[n];if("function"==typeof s||"object"==typeof s&&null!==s){var i=t.o;null===i&&(t.o=i=new WeakMap),void 0===(t=i.get(s))&&(t=C(),i.set(s,t))}else null===(i=t.p)&&(t.p=i=new Map),void 0===(t=i.get(s))&&(t=C(),i.set(s,t))}if(1===t.s)return t.v;if(2===t.s)throw t.v;try{var o=e.apply(null,arguments);return(n=t).s=1,n.v=o}catch(e){throw(o=t).s=2,o.v=e,e}}},t.cloneElement=function(e,t,r){if(null==e)throw Error(n(267,e));var a=g({},e.props),s=e.key,i=void 0;if(null!=t)for(o in void 0!==t.ref&&(i=void 0),void 0!==t.key&&(s=""+t.key),t)m.call(t,o)&&"key"!==o&&"__self"!==o&&"__source"!==o&&("ref"!==o||void 0!==t.ref)&&(a[o]=t[o]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}return y(e.type,s,void 0,void 0,i,a)},t.createElement=function(e,t,r){var n,a={},s=null;if(null!=t)for(n in void 0!==t.key&&(s=""+t.key),t)m.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var i=arguments.length-2;if(1===i)a.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===a[n]&&(a[n]=i[n]);return y(e,s,void 0,void 0,null,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=v,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.use=function(e){return r.H.use(e)},t.useCallback=function(e,t){return r.H.useCallback(e,t)},t.useDebugValue=function(){},t.useId=function(){return r.H.useId()},t.useMemo=function(e,t){return r.H.useMemo(e,t)},t.version="19.0.0-rc-65e06cb7-20241218"},6411:(e,t,r)=>{"use strict";e.exports=r(9355)},78:e=>{(()=>{"use strict";var t={328:e=>{e.exports=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}},i=!0;try{t[e](s,s.exports,n),i=!1}finally{i&&delete r[e]}return s.exports}n.ab="//";var a=n(328);e.exports=a})()},1460:(e,t,r)=>{"use strict";r.d(t,{KD:()=>s,_A:()=>i,_V:()=>a,ts:()=>n});let n="Next-Action",a="Next-Router-Prefetch",s=["RSC","Next-Router-State-Tree",a,"Next-HMR-Refresh","Next-Router-Segment-Prefetch"],i="_rsc"},3578:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DynamicServerError:()=>a,isDynamicServerError:()=>s});let n="DYNAMIC_SERVER_USAGE";class a extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=n}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===n}},872:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});class n extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}},4232:(e,t,r)=>{"use strict";r.d(t,{AA:()=>n,AR:()=>b,EP:()=>c,RM:()=>l,VC:()=>d,c1:()=>h,cS:()=>p,gW:()=>y,h:()=>a,kz:()=>s,o7:()=>m,pu:()=>o,qF:()=>v,qq:()=>g,r4:()=>i,vS:()=>f,x3:()=>u});let n="nxtP",a="nxtI",s="x-prerender-revalidate",i="x-prerender-revalidate-if-generated",o=".prefetch.rsc",l=".rsc",u=".json",c=".meta",d="x-next-cache-tags",p="x-next-cache-soft-tags",f="x-next-revalidated-tags",h="x-next-revalidate-tag-token",m=128,g=256,y="_N_T_",v=31536e3,b=0xfffffffe,_={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser"};({..._,GROUP:{builtinReact:[_.reactServerComponents,_.actionBrowser],serverOnly:[_.reactServerComponents,_.actionBrowser,_.instrument,_.middleware],neutralTarget:[_.api],clientOnly:[_.serverSideRendering,_.appPagesBrowser],bundled:[_.reactServerComponents,_.actionBrowser,_.serverSideRendering,_.appPagesBrowser,_.shared,_.instrument],appPages:[_.reactServerComponents,_.serverSideRendering,_.appPagesBrowser,_.actionBrowser]}})},3780:(e,t,r)=>{"use strict";r.d(t,{X$:()=>n,kf:()=>a});let n=e=>{setTimeout(e,0)};function a(){return new Promise(e=>setTimeout(e,0))}},8322:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(2670).xl)()},2670:(e,t,r)=>{"use strict";r.d(t,{cg:()=>o,xl:()=>i});let n=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");class a{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function i(){return s?new s:new a}function o(e){return s?s.bind(e):a.bind(e)}},4578:(e,t,r)=>{"use strict";r.d(t,{t3:()=>d,uO:()=>o,gz:()=>l,ag:()=>u,Ui:()=>p,xI:()=>c});var n=r(6411),a=r(3578),s=r(872);r(424),r(7223);let i="function"==typeof n.unstable_postpone;function o(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicExpression:void 0,syncDynamicErrorWithStack:null}}function l(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function u(e,t,r){if((!t||"cache"!==t.type&&"unstable-cache"!==t.type)&&!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw new s.f(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender-ppr"===t.type)p(e.route,r,t.dynamicTracking);else if("prerender-legacy"===t.type){t.revalidate=0;let n=new a.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}}function c(e,t,r){let n=new a.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function d(e,t,r,n){let a=n.dynamicTracking;throw a&&null===a.syncDynamicErrorWithStack&&(a.syncDynamicExpression=t,a.syncDynamicErrorWithStack=r,!0===n.validating&&(a.syncDynamicLogged=!0)),function(e,t,r){let n=h(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(n);let a=r.dynamicTracking;a&&a.dynamicAccesses.push({stack:a.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}(e,t,n),h(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function p(e,t,r){(function(){if(!i)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),n.unstable_postpone(f(e,t))}function f(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}if(!1===function(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}(f("%%%","^^^")))throw Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js");function h(e){let t=Error(e);return t.digest="NEXT_PRERENDER_INTERRUPTED",t}RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`)},1400:(e,t,r)=>{"use strict";r.d(t,{q9:()=>p});var n=r(1460),a=r(9065),s=r(2620),i=r(7581),o=r(4232);r(9122),r(1526);let l="__prerender_bypass";Symbol("__next_preview_data"),Symbol(l);class u{constructor(e,t,r,n){var s;let i=e&&function(e,t){let r=a.o.from(e.headers);return{isOnDemandRevalidate:r.get(o.kz)===t.previewModeId,revalidateOnlyGenerated:r.has(o.r4)}}(t,e).isOnDemandRevalidate,u=null==(s=r.get(l))?void 0:s.value;this.isEnabled=!!(!i&&u&&e&&u===e.previewModeId),this._previewModeId=null==e?void 0:e.previewModeId,this._mutableCookies=n}enable(){if(!this._previewModeId)throw Error("Invariant: previewProps missing previewModeId this should never happen");this._mutableCookies.set({name:l,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"})}disable(){this._mutableCookies.set({name:l,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)})}}var c=r(9);function d(e,t){if("x-middleware-set-cookie"in e.headers&&"string"==typeof e.headers["x-middleware-set-cookie"]){let r=e.headers["x-middleware-set-cookie"],n=new Headers;for(let e of(0,c.RD)(r))n.append("set-cookie",e);for(let e of new i.VO(n).getAll())t.set(e)}}function p(e,t,r,o,l){return function(e,t,r,o,l,c,p,f,h,m){function g(e){r&&r.setHeader("Set-Cookie",e)}let y={};return{type:"request",phase:e,implicitTags:l??[],url:{pathname:o.pathname,search:o.search??""},get headers(){return y.headers||(y.headers=function(e){let t=a.o.from(e);for(let e of n.KD)t.delete(e.toLowerCase());return a.o.seal(t)}(t.headers)),y.headers},get cookies(){if(!y.cookies){let e=new i.tm(a.o.from(t.headers));d(t,e),y.cookies=s.Ck.seal(e)}return y.cookies},set cookies(value){y.cookies=value},get mutableCookies(){if(!y.mutableCookies){let e=function(e,t){let r=new i.tm(a.o.from(e));return s.K8.wrap(r,t)}(t.headers,c||(r?g:void 0));d(t,e),y.mutableCookies=e}return y.mutableCookies},get userspaceMutableCookies(){if(!y.userspaceMutableCookies){let e=(0,s.hm)(this.mutableCookies);y.userspaceMutableCookies=e}return y.userspaceMutableCookies},get draftMode(){return y.draftMode||(y.draftMode=new u(f,t,this.cookies,this.mutableCookies)),y.draftMode},renderResumeDataCache:p??null,isHmrRefresh:h,serverComponentsHmrCache:m||globalThis.__serverComponentsHmrCache}}("action",e,void 0,t,r,o,void 0,l,!1,void 0)}},4196:(e,t,r)=>{"use strict";r.d(t,{X:()=>y});var n=r(8668),a=r.n(n),s=r(4332),i=r(9023),o=r(7223);async function l(e,t){if(!e)return t();let r=u(e);try{return await t()}finally{let t=function(e,t){let r=new Set(e.revalidatedTags),n=new Set(e.pendingRevalidateWrites);return{revalidatedTags:t.revalidatedTags.filter(e=>!r.has(e)),pendingRevalidates:Object.fromEntries(Object.entries(t.pendingRevalidates).filter(([t])=>!(t in e.pendingRevalidates))),pendingRevalidateWrites:t.pendingRevalidateWrites.filter(e=>!n.has(e))}}(r,u(e));await c(e,t)}}function u(e){return{revalidatedTags:e.revalidatedTags?[...e.revalidatedTags]:[],pendingRevalidates:{...e.pendingRevalidates},pendingRevalidateWrites:e.pendingRevalidateWrites?[...e.pendingRevalidateWrites]:[]}}async function c(e,{revalidatedTags:t,pendingRevalidates:r,pendingRevalidateWrites:n}){var a;return Promise.all([null==(a=e.incrementalCache)?void 0:a.revalidateTag(t),...Object.values(r),...n])}var d=r(2670),p=r(424),f=r(8322);class h{constructor({waitUntil:e,onClose:t,onTaskError:r}){this.workUnitStores=new Set,this.waitUntil=e,this.onClose=t,this.onTaskError=r,this.callbackQueue=new(a()),this.callbackQueue.pause()}after(e){if((0,i.Q)(e))this.waitUntil||m(),this.waitUntil(e.catch(e=>this.reportTaskError("promise",e)));else if("function"==typeof e)this.addCallback(e);else throw Error("`after()`: Argument must be a promise or a function")}addCallback(e){this.waitUntil||m();let t=p.FP.getStore();t&&this.workUnitStores.add(t);let r=f.Z.getStore(),n=r?r.rootTaskSpawnPhase:null==t?void 0:t.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let a=(0,d.cg)(async()=>{try{await f.Z.run({rootTaskSpawnPhase:n},()=>e())}catch(e){this.reportTaskError("function",e)}});this.callbackQueue.add(a)}async runCallbacksOnClose(){return await new Promise(e=>this.onClose(e)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let e of this.workUnitStores)e.phase="after";let e=o.J.getStore();if(!e)throw new s.z("Missing workStore in AfterContext.runCallbacks");return l(e,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(e,t){if(console.error("promise"===e?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",t),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,t)}catch(e){console.error(new s.z("`onTaskError` threw while handling an error thrown from an `after` task",{cause:e}))}}}function m(){throw Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment.")}var g=r(9263);function y({page:e,fallbackRouteParams:t,renderOpts:r,requestEndedState:n,isPrefetchRequest:a}){let s={isStaticGeneration:!r.supportsDynamicResponse&&!r.isDraftMode&&!r.isServerAction,page:e,fallbackRouteParams:t,route:(0,g.Y)(e),incrementalCache:r.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:r.cacheLifeProfiles,isRevalidate:r.isRevalidate,isPrerendering:r.nextExport,fetchCache:r.fetchCache,isOnDemandRevalidate:r.isOnDemandRevalidate,isDraftMode:r.isDraftMode,requestEndedState:n,isPrefetchRequest:a,buildId:r.buildId,reactLoadableManifest:(null==r?void 0:r.reactLoadableManifest)||{},assetPrefix:(null==r?void 0:r.assetPrefix)||"",afterContext:function(e){let{waitUntil:t,onClose:r,onAfterTaskError:n}=e;return new h({waitUntil:t,onClose:r,onTaskError:n})}(r)};return r.store=s,s}},8553:(e,t,r)=>{"use strict";function n(e,t){let r=new Promise((r,n)=>{e.addEventListener("abort",()=>{n(Error(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`))},{once:!0})});return r.catch(a),r}function a(){}r.d(t,{W:()=>n})},275:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});class n{constructor(e,t){this.cache=new Map,this.sizes=new Map,this.totalSize=0,this.maxSize=e,this.calculateSize=t||(()=>1)}set(e,t){if(!e||!t)return;let r=this.calculateSize(t);if(r>this.maxSize){console.warn("Single item size exceeds maxSize");return}this.cache.has(e)&&(this.totalSize-=this.sizes.get(e)||0),this.cache.set(e,t),this.sizes.set(e,r),this.totalSize+=r,this.touch(e)}has(e){return!!e&&(this.touch(e),!!this.cache.get(e))}get(e){if(!e)return;let t=this.cache.get(e);if(void 0!==t)return this.touch(e),t}touch(e){let t=this.cache.get(e);void 0!==t&&(this.cache.delete(e),this.cache.set(e,t),this.evictIfNecessary())}evictIfNecessary(){for(;this.totalSize>this.maxSize&&this.cache.size>0;)this.evictLeastRecentlyUsed()}evictLeastRecentlyUsed(){let e=this.cache.keys().next().value;if(void 0!==e){let t=this.sizes.get(e)||0;this.totalSize-=t,this.cache.delete(e),this.sizes.delete(e)}}reset(){this.cache.clear(),this.sizes.clear(),this.totalSize=0}keys(){return[...this.cache.keys()]}remove(e){this.cache.has(e)&&(this.totalSize-=this.sizes.get(e)||0,this.cache.delete(e),this.sizes.delete(e))}clear(){this.cache.clear(),this.sizes.clear(),this.totalSize=0}get size(){return this.cache.size}get currentSize(){return this.totalSize}}},3113:(e,t,r)=>{"use strict";r.d(t,{V5:()=>g});var n=r(1526),a=r(9122),s=r(4232),i=r(4578),o=r(8553),l=r(6411);function u(e){if(!e.body)return[e,e];let[t,r]=e.body.tee(),n=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(n,"url",{value:e.url});let a=new Response(r,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(a,"url",{value:e.url}),[n,a]}var c=r(4332),d=r(4458),p=r(3780),f=r(5356).Buffer;let h=Symbol.for("next-patch");function m(e,t){var r;e&&(null==(r=e.requestEndedState)||!r.ended)&&(process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS)&&e.isStaticGeneration&&(e.fetchMetrics??=[],e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0}))}function g(e){if(!0===globalThis[h])return;let t=function(e){let t=l.cache(e=>[]);return function(r,n){let a,s;if(n&&n.signal)return e(r,n);if("string"!=typeof r||n){let t="string"==typeof r||r instanceof URL?new Request(r,n):r;if("GET"!==t.method&&"HEAD"!==t.method||t.keepalive)return e(r,n);s=JSON.stringify([t.method,Array.from(t.headers.entries()),t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity]),a=t.url}else s='["GET",[],null,"follow",null,null,null,null]',a=r;let i=t(a);for(let e=0,t=i.length;e<t;e+=1){let[t,r]=i[e];if(t===s)return r.then(()=>{let t=i[e][2];if(!t)throw new c.z("No cached response");let[r,n]=u(t);return i[e][2]=n,r})}let o=e(r,n),l=[s,o,null];return i.push(l),o.then(e=>{let[t,r]=u(e);return l[2]=r,t})}}(globalThis.fetch);globalThis.fetch=function(e,{workAsyncStorage:t,workUnitAsyncStorage:r}){let l=async(l,c)=>{var h,g;let y;try{(y=new URL(l instanceof Request?l.url:l)).username="",y.password=""}catch{y=void 0}let v=(null==y?void 0:y.href)??"",b=(null==c?void 0:null==(h=c.method)?void 0:h.toUpperCase())||"GET",_=(null==c?void 0:null==(g=c.next)?void 0:g.internal)===!0,w="1"===process.env.NEXT_OTEL_FETCH_DISABLED,x=_?void 0:performance.timeOrigin+performance.now(),S=t.getStore(),k=r.getStore(),C=k&&"prerender"===k.type?k.cacheSignal:null;C&&C.beginRead();let E=(0,a.EK)().trace(_?n.Fx.internalFetch:n.Wc.fetch,{hideSpan:w,kind:a.v8.CLIENT,spanName:["fetch",b,v].filter(Boolean).join(" "),attributes:{"http.url":v,"http.method":b,"net.peer.name":null==y?void 0:y.hostname,"net.peer.port":(null==y?void 0:y.port)||void 0}},async()=>{var t;let r,n,a,h;if(_||!S||S.isDraftMode)return e(l,c);let g=l&&"object"==typeof l&&"string"==typeof l.method,y=e=>(null==c?void 0:c[e])||(g?l[e]:null),b=e=>{var t,r,n;return void 0!==(null==c?void 0:null==(t=c.next)?void 0:t[e])?null==c?void 0:null==(r=c.next)?void 0:r[e]:g?null==(n=l.next)?void 0:n[e]:void 0},w=b("revalidate"),E=function(e,t){let r=[],n=[];for(let a=0;a<e.length;a++){let i=e[a];if("string"!=typeof i?n.push({tag:i,reason:"invalid type, must be a string"}):i.length>s.qq?n.push({tag:i,reason:`exceeded max length of ${s.qq}`}):r.push(i),r.length>s.o7){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(a).join(", "));break}}if(n.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),n))console.log(`tag: "${e}" ${r}`);return r}(b("tags")||[],`fetch ${l.toString()}`),T=k&&("cache"===k.type||"prerender"===k.type||"prerender-ppr"===k.type||"prerender-legacy"===k.type)?k:void 0;if(T&&Array.isArray(E)){let e=T.tags??(T.tags=[]);for(let t of E)e.includes(t)||e.push(t)}let R=k&&"unstable-cache"!==k.type?k.implicitTags:[],A=k&&"unstable-cache"===k.type?"force-no-store":S.fetchCache,P=!!S.isUnstableNoStore,O=y("cache"),I="";"string"==typeof O&&void 0!==w&&("force-cache"===O&&0===w||"no-store"===O&&(w>0||!1===w))&&(r=`Specified "cache: ${O}" and "revalidate: ${w}", only one should be specified.`,O=void 0,w=void 0);let N="no-cache"===O||"no-store"===O||"force-no-store"===A||"only-no-store"===A,$=!A&&!O&&!w&&S.forceDynamic;"force-cache"===O&&void 0===w?w=!1:(null==k?void 0:k.type)!=="cache"&&(N||$)&&(w=0),("no-cache"===O||"no-store"===O)&&(I=`cache: ${O}`),h=function(e,t){try{let r;if(!1===e)r=s.AR;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`);return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}(w,S.route);let j=y("headers"),M="function"==typeof(null==j?void 0:j.get)?j:new Headers(j||{}),D=M.get("authorization")||M.get("cookie"),L=!["get","head"].includes((null==(t=y("method"))?void 0:t.toLowerCase())||"get"),U=void 0==A&&(void 0==O||"default"===O)&&void 0==w,q=U&&!S.isPrerendering||(D||L)&&T&&0===T.revalidate;if(U&&void 0!==k&&"prerender"===k.type)return C&&(C.endRead(),C=null),(0,o.W)(k.renderSignal,"fetch()");switch(A){case"force-no-store":I="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===O||void 0!==h&&h>0)throw Error(`cache: 'force-cache' used on fetch for ${v} with 'export const fetchCache = 'only-no-store'`);I="fetchCache = only-no-store";break;case"only-cache":if("no-store"===O)throw Error(`cache: 'no-store' used on fetch for ${v} with 'export const fetchCache = 'only-cache'`);break;case"force-cache":(void 0===w||0===w)&&(I="fetchCache = force-cache",h=s.AR)}if(void 0===h?"default-cache"!==A||P?"default-no-store"===A?(h=0,I="fetchCache = default-no-store"):P?(h=0,I="noStore call"):q?(h=0,I="auto no cache"):(I="auto cache",h=T?T.revalidate:s.AR):(h=s.AR,I="fetchCache = default-cache"):I||(I=`revalidate: ${h}`),!(S.forceStatic&&0===h)&&!q&&T&&h<T.revalidate){if(0===h){if(k&&"prerender"===k.type)return C&&(C.endRead(),C=null),(0,o.W)(k.renderSignal,"fetch()");(0,i.ag)(S,k,`revalidate: 0 fetch ${l} ${S.route}`)}T&&w===h&&(T.revalidate=h)}let F="number"==typeof h&&h>0,{incrementalCache:Z}=S,B=void 0!==k&&"request"===k.type?k:void 0;if(Z&&(F||(null==B?void 0:B.serverComponentsHmrCache)))try{n=await Z.generateCacheKey(v,g?l:c)}catch(e){console.error("Failed to generate cache key for",l)}let z=S.nextFetchId??1;S.nextFetchId=z+1;let H=()=>Promise.resolve(),V=async(t,a)=>{let i=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(g){let e=l,t={body:e._ogBody||e.body};for(let r of i)t[r]=e[r];l=new Request(e.url,t)}else if(c){let{_ogBody:e,body:r,signal:n,...a}=c;c={...a,body:e||r,signal:t?void 0:n}}let o={...c,next:{...null==c?void 0:c.next,fetchType:"origin",fetchIdx:z}};return e(l,o).then(async e=>{if(!t&&x&&m(S,{start:x,url:v,cacheReason:a||I,cacheStatus:0===h||a?"skip":"miss",cacheWarning:r,status:e.status,method:o.method||"GET"}),200===e.status&&Z&&n&&(F||(null==B?void 0:B.serverComponentsHmrCache))){let t=h>=s.AR?s.qF:h,r=!(h>=s.AR)&&h;if(k&&"prerender"===k.type){let a=await e.arrayBuffer(),s={headers:Object.fromEntries(e.headers.entries()),body:f.from(a).toString("base64"),status:e.status,url:e.url};return await Z.set(n,{kind:d.yD.FETCH,data:s,revalidate:t},{fetchCache:!0,revalidate:r,fetchUrl:v,fetchIdx:z,tags:E}),await H(),new Response(a,{headers:e.headers,status:e.status,statusText:e.statusText})}{let[a,s]=u(e);return a.arrayBuffer().then(async e=>{var s;let i=f.from(e),o={headers:Object.fromEntries(a.headers.entries()),body:i.toString("base64"),status:a.status,url:a.url};null==B||null==(s=B.serverComponentsHmrCache)||s.set(n,o),F&&await Z.set(n,{kind:d.yD.FETCH,data:o,revalidate:t},{fetchCache:!0,revalidate:r,fetchUrl:v,fetchIdx:z,tags:E})}).catch(e=>console.warn("Failed to set fetch cache",l,e)).finally(H),s}}return await H(),e}).catch(e=>{throw H(),e})},W=!1,G=!1;if(n&&Z){let e;if((null==B?void 0:B.isHmrRefresh)&&B.serverComponentsHmrCache&&(e=B.serverComponentsHmrCache.get(n),G=!0),F&&!e){H=await Z.lock(n);let t=S.isOnDemandRevalidate?null:await Z.get(n,{kind:d.Bs.FETCH,revalidate:h,fetchUrl:v,fetchIdx:z,tags:E,softTags:R,isFallback:!1});if(U&&k&&"prerender"===k.type&&await (0,p.kf)(),t?await H():a="cache-control: no-cache (hard refresh)",(null==t?void 0:t.value)&&t.value.kind===d.yD.FETCH){if(S.isRevalidate&&t.isStale)W=!0;else{if(t.isStale&&(S.pendingRevalidates??={},!S.pendingRevalidates[n])){let e=V(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{S.pendingRevalidates??={},delete S.pendingRevalidates[n||""]});e.catch(console.error),S.pendingRevalidates[n]=e}e=t.value.data}}}if(e){x&&m(S,{start:x,url:v,cacheReason:I,cacheStatus:G?"hmr":"hit",cacheWarning:r,status:e.status||200,method:(null==c?void 0:c.method)||"GET"});let t=new Response(f.from(e.body,"base64"),{headers:e.headers,status:e.status});return Object.defineProperty(t,"url",{value:e.url}),t}}if(S.isStaticGeneration&&c&&"object"==typeof c){let{cache:e}=c;if(delete c.cache,"no-store"===e){if(k&&"prerender"===k.type)return C&&(C.endRead(),C=null),(0,o.W)(k.renderSignal,"fetch()");(0,i.ag)(S,k,`no-store fetch ${l} ${S.route}`)}let t="next"in c,{next:r={}}=c;if("number"==typeof r.revalidate&&T&&r.revalidate<T.revalidate){if(0===r.revalidate){if(k&&"prerender"===k.type)return(0,o.W)(k.renderSignal,"fetch()");(0,i.ag)(S,k,`revalidate: 0 fetch ${l} ${S.route}`)}S.forceStatic&&0===r.revalidate||(T.revalidate=r.revalidate)}t&&delete c.next}if(!n||!W)return V(!1,a);{let e=n;S.pendingRevalidates??={};let t=S.pendingRevalidates[e];if(t){let e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}let r=V(!0,a).then(u);return(t=r.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;(null==(t=S.pendingRevalidates)?void 0:t[e])&&delete S.pendingRevalidates[e]})).catch(()=>{}),S.pendingRevalidates[e]=t,r.then(e=>e[1])}});if(C)try{return await E}finally{C&&C.endRead()}return E};return l.__nextPatched=!0,l.__nextGetStaticStore=()=>t,l._nextOriginalFetch=e,globalThis[h]=!0,l}(t,e)}},1526:(e,t,r)=>{"use strict";r.d(t,{EI:()=>g,Fx:()=>i,KK:()=>m,Wc:()=>u,jM:()=>p,rd:()=>h});var n=function(e){return e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404",e}(n||{}),a=function(e){return e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents",e}(a||{}),s=function(e){return e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer",e}(s||{}),i=function(e){return e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch",e}(i||{}),o=function(e){return e.startServer="startServer.startServer",e}(o||{}),l=function(e){return e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult",e}(l||{}),u=function(e){return e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch",e}(u||{}),c=function(e){return e.executeRoute="Router.executeRoute",e}(c||{}),d=function(e){return e.runHandler="Node.runHandler",e}(d||{}),p=function(e){return e.runHandler="AppRouteRouteHandlers.runHandler",e}(p||{}),f=function(e){return e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport",e}(f||{}),h=function(e){return e.execute="Middleware.execute",e}(h||{});let m=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],g=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},9122:(e,t,r)=>{"use strict";let n;r.d(t,{EK:()=>_,v8:()=>c});var a=r(1526),s=r(9023);let{context:i,propagation:o,trace:l,SpanStatusCode:u,SpanKind:c,ROOT_CONTEXT:d}=n=r(5005);class p extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let f=(e,t)=>{(function(e){return"object"==typeof e&&null!==e&&e instanceof p})(t)&&t.bubble?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:u.ERROR,message:null==t?void 0:t.message})),e.end()},h=new Map,m=n.createContextKey("next.rootSpanId"),g=0,y=()=>g++,v={set(e,t,r){e.push({key:t,value:r})}};class b{getTracerInstance(){return l.getTracer("next.js","0.0.1")}getContext(){return i}getTracePropagationData(){let e=i.active(),t=[];return o.inject(e,t,v),t}getActiveScopeSpan(){return l.getSpan(null==i?void 0:i.active())}withPropagatedContext(e,t,r){let n=i.active();if(l.getSpanContext(n))return t();let a=o.extract(n,e,r);return i.with(a,t)}trace(...e){var t;let[r,n,o]=e,{fn:u,options:c}="function"==typeof n?{fn:n,options:{}}:{fn:o,options:{...n}},p=c.spanName??r;if(!a.KK.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||c.hideSpan)return u();let g=this.getSpanContext((null==c?void 0:c.parentSpan)??this.getActiveScopeSpan()),v=!1;g?(null==(t=l.getSpanContext(g))?void 0:t.isRemote)&&(v=!0):(g=(null==i?void 0:i.active())??d,v=!0);let b=y();return c.attributes={"next.span_name":p,"next.span_type":r,...c.attributes},i.with(g.setValue(m,b),()=>this.getTracerInstance().startActiveSpan(p,c,e=>{let t="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,n=()=>{h.delete(b),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&a.EI.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};v&&h.set(b,new Map(Object.entries(c.attributes??{})));try{if(u.length>1)return u(e,t=>f(e,t));let t=u(e);if((0,s.Q)(t))return t.then(t=>(e.end(),t)).catch(t=>{throw f(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw f(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,s]=3===e.length?e:[e[0],{},e[1]];return a.KK.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof s&&(e=e.apply(this,arguments));let a=arguments.length-1,o=arguments[a];if("function"!=typeof o)return t.trace(r,e,()=>s.apply(this,arguments));{let n=t.getContext().bind(i.active(),o);return t.trace(r,e,(e,t)=>(arguments[a]=function(e){return null==t||t(e),n.apply(this,arguments)},s.apply(this,arguments)))}}:s}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?l.setSpan(i.active(),e):void 0}getRootSpanAttributes(){let e=i.active().getValue(m);return h.get(e)}setRootSpanAttribute(e,t){let r=i.active().getValue(m),n=h.get(r);n&&n.set(e,t)}}let _=(()=>{let e=new b;return()=>e})()},215:(e,t,r)=>{"use strict";Symbol.for("NextInternalRequestMeta"),r(9),r(1143),r(9122),r(1526)},4458:(e,t,r)=>{"use strict";r.d(t,{yD:()=>n,Bs:()=>a});var n=function(e){return e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.PAGES="PAGES",e.FETCH="FETCH",e.REDIRECT="REDIRECT",e.IMAGE="IMAGE",e}({}),a=function(e){return e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.PAGES="PAGES",e.FETCH="FETCH",e.IMAGE="IMAGE",e}({});r(9122),r(1526),new Uint8Array([60,104,116,109,108]),new Uint8Array([60,98,111,100,121]),new Uint8Array([60,47,104,101,97,100,62]),new Uint8Array([60,47,98,111,100,121,62]),new Uint8Array([60,47,104,116,109,108,62]),new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62]),r(5356).Buffer,new TextEncoder,r(215),r(5356).Buffer,r(4139)},4139:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var n=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},5954:(e,t,r)=>{e.exports=r(2593)},2593:(e,t,r)=>{"use strict";r.d(t,{AppRouteRouteModule:()=>ep});var n,a={};r.r(a),r.d(a,{AppRouterContext:()=>F,GlobalLayoutRouterContext:()=>B,LayoutRouterContext:()=>Z,MissingSlotContext:()=>H,TemplateContext:()=>z});var s={};r.r(s),r.d(s,{appRouterContext:()=>a});class i{constructor({userland:e,definition:t}){this.userland=e,this.definition=t}}var o=r(1400),l=r(4196);let u=["GET","HEAD","OPTIONS","POST","PUT","DELETE","PATCH"];var c=r(4232);let d=e=>{let t=["/layout"];if(e.startsWith("/")){let r=e.split("/");for(let e=1;e<r.length+1;e++){let n=r.slice(0,e).join("/");n&&(n.endsWith("/page")||n.endsWith("/route")||(n=`${n}${n.endsWith("/")?"":"/"}layout`),t.push(n))}}return t};var p=r(3113),f=r(9122),h=r(1526);let{env:m,stdout:g}=(null==(n=globalThis)?void 0:n.process)??{},y=m&&!m.NO_COLOR&&(m.FORCE_COLOR||(null==g?void 0:g.isTTY)&&!m.CI&&"dumb"!==m.TERM),v=(e,t,r,n)=>{let a=e.substring(0,n)+r,s=e.substring(n+t.length),i=s.indexOf(t);return~i?a+v(s,t,r,i):a+s},b=(e,t,r=e)=>y?n=>{let a=""+n,s=a.indexOf(t,e.length);return~s?e+v(a,t,r,s)+t:e+a+t}:String,_=b("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");b("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),b("\x1b[3m","\x1b[23m"),b("\x1b[4m","\x1b[24m"),b("\x1b[7m","\x1b[27m"),b("\x1b[8m","\x1b[28m"),b("\x1b[9m","\x1b[29m"),b("\x1b[30m","\x1b[39m");let w=b("\x1b[31m","\x1b[39m"),x=b("\x1b[32m","\x1b[39m"),S=b("\x1b[33m","\x1b[39m");b("\x1b[34m","\x1b[39m");let k=b("\x1b[35m","\x1b[39m");b("\x1b[38;2;173;127;168m","\x1b[39m"),b("\x1b[36m","\x1b[39m");let C=b("\x1b[37m","\x1b[39m");b("\x1b[90m","\x1b[39m"),b("\x1b[40m","\x1b[49m"),b("\x1b[41m","\x1b[49m"),b("\x1b[42m","\x1b[49m"),b("\x1b[43m","\x1b[49m"),b("\x1b[44m","\x1b[49m"),b("\x1b[45m","\x1b[49m"),b("\x1b[46m","\x1b[49m"),b("\x1b[47m","\x1b[49m");var E=r(275);C(_("○")),w(_("⨯")),S(_("⚠")),C(_(" ")),x(_("✓")),k(_("\xbb")),new E.q(1e4,e=>e.length);let T=["HEAD","OPTIONS"];function R(){return new Response(null,{status:405})}var A=r(2620),P=r(9065);r(78),r(215);var O=r(3578);let I=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401}));function N(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return"NEXT_HTTP_ERROR_FALLBACK"===t&&I.has(Number(r))}var $=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});function j(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,n]=t,a=t.slice(2,-2).join(";"),s=Number(t.at(-2));return"NEXT_REDIRECT"===r&&("replace"===n||"push"===n)&&"string"==typeof a&&!isNaN(s)&&s in $}function M(e,t){let r;if(!function(e){if("object"==typeof e&&null!==e&&"digest"in e&&"BAILOUT_TO_CLIENT_SIDE_RENDERING"===e.digest||j(e)||N(e)||(0,O.isDynamicServerError)(e))return e.digest}(e)){if("object"==typeof e&&null!==e&&"string"==typeof e.message){if(r=e.message,"string"==typeof e.stack){let n=e.stack,a=n.indexOf("\n");if(a>-1){let e=Error(`Route ${t} errored during the prospective render. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled.
          
Original Error: ${r}`);e.stack="Error: "+e.message+n.slice(a),console.error(e);return}}}else"string"==typeof e&&(r=e);if(r){console.error(`Route ${t} errored during the prospective render. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled. No stack was provided.
          
Original Message: ${r}`);return}console.error(`Route ${t} errored during the prospective render. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled. The thrown value is logged just following this message`),console.error(e)}}var D=r(7223),L=r(424);let U=(0,r(2058).xl)();var q=r(5710);let F=(0,q.YR)(function(){throw Error("Attempted to call AppRouterContext() from the server but AppRouterContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/saralask/Desktop/SquareResults/Prototype2/futuristic-interactive-showcase/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js","AppRouterContext"),Z=(0,q.YR)(function(){throw Error("Attempted to call LayoutRouterContext() from the server but LayoutRouterContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/saralask/Desktop/SquareResults/Prototype2/futuristic-interactive-showcase/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js","LayoutRouterContext"),B=(0,q.YR)(function(){throw Error("Attempted to call GlobalLayoutRouterContext() from the server but GlobalLayoutRouterContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/saralask/Desktop/SquareResults/Prototype2/futuristic-interactive-showcase/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js","GlobalLayoutRouterContext"),z=(0,q.YR)(function(){throw Error("Attempted to call TemplateContext() from the server but TemplateContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/saralask/Desktop/SquareResults/Prototype2/futuristic-interactive-showcase/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js","TemplateContext"),H=(0,q.YR)(function(){throw Error("Attempted to call MissingSlotContext() from the server but MissingSlotContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/saralask/Desktop/SquareResults/Prototype2/futuristic-interactive-showcase/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js","MissingSlotContext");var V=r(1460),W=r(850),G=r(872),J=r(4578),K=r(4742);class X{constructor(){this.count=0,this.earlyListeners=[],this.listeners=[],this.tickPending=!1,this.taskPending=!1}noMorePendingCaches(){this.tickPending||(this.tickPending=!0,process.nextTick(()=>{if(this.tickPending=!1,0===this.count){for(let e=0;e<this.earlyListeners.length;e++)this.earlyListeners[e]();this.earlyListeners.length=0}})),this.taskPending||(this.taskPending=!0,setTimeout(()=>{if(this.taskPending=!1,0===this.count){for(let e=0;e<this.listeners.length;e++)this.listeners[e]();this.listeners.length=0}},0))}inputReady(){return new Promise(e=>{this.earlyListeners.push(e),0===this.count&&this.noMorePendingCaches()})}cacheReady(){return new Promise(e=>{this.listeners.push(e),0===this.count&&this.noMorePendingCaches()})}beginRead(){this.count++}endRead(){this.count--,0===this.count&&this.noMorePendingCaches()}}var Y=r(3780),Q=r(4332);r(8322);let ee=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function et(e,t){return ee.test(t)?`\`${e}.${t}\``:`\`${e}[${JSON.stringify(t)}]\``}let er=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"]);var en=r(8553),ea=r(6411);let es={current:null},ei="function"==typeof ea.cache?ea.cache:e=>e,eo=console.warn;function el(e){return function(...t){eo(e(...t))}}ei(e=>{try{eo(es.current)}finally{es.current=null}});let eu=new WeakMap;function ec(e){let t=eu.get(e);if(t)return t;let r=Promise.resolve(e);return eu.set(e,r),Object.keys(e).forEach(t=>{er.has(t)||(r[t]=e[t])}),r}function ed(e,t){let r=e?`Route "${e}" `:"This route ";return Error(`${r}used ${t}. \`params\` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)}el(ed),el(function(e,t,r){let n=e?`Route "${e}" `:"This route ";return Error(`${n}used ${t}. \`params\` should be awaited before using its properties. The following properties were not available through enumeration because they conflict with builtin property names: ${function(e){switch(e.length){case 0:throw new Q.z("Expected describeListOfPropertyNames to be called with a non-empty list of strings.");case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let r=0;r<e.length-1;r++)t+=`\`${e[r]}\`, `;return t+`, and \`${e[e.length-1]}\``}}}(r)}. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)});class ep extends i{static #e=this.sharedModules=s;constructor({userland:e,definition:t,resolvedPagePath:r,nextConfigOutput:n}){if(super({userland:e,definition:t}),this.workUnitAsyncStorage=L.FP,this.workAsyncStorage=D.J,this.serverHooks=O,this.actionAsyncStorage=U,this.resolvedPagePath=r,this.nextConfigOutput=n,this.methods=function(e){let t=u.reduce((t,r)=>({...t,[r]:e[r]??R}),{}),r=new Set(u.filter(t=>e[t]));for(let n of T.filter(e=>!r.has(e))){if("HEAD"===n){e.GET&&(t.HEAD=e.GET,r.add("HEAD"));continue}if("OPTIONS"===n){let e=["OPTIONS",...r];!r.has("HEAD")&&r.has("GET")&&e.push("HEAD");let n={Allow:e.sort().join(", ")};t.OPTIONS=()=>new Response(null,{status:204,headers:n}),r.add("OPTIONS");continue}throw Error(`Invariant: should handle all automatic implementable methods, got method: ${n}`)}return t}(e),this.hasNonStaticMethods=function(e){return!!e.POST||!!e.PUT||!!e.DELETE||!!e.PATCH||!!e.OPTIONS}(e),this.dynamic=this.userland.dynamic,"export"===this.nextConfigOutput){if("force-dynamic"===this.dynamic)throw Error(`export const dynamic = "force-dynamic" on page "${t.pathname}" cannot be used with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`);if(!function(e){return"force-static"===e.dynamic||"error"===e.dynamic||!1===e.revalidate||void 0!==e.revalidate&&e.revalidate>0||"function"==typeof e.generateStaticParams}(this.userland)&&this.userland.GET)throw Error(`export const dynamic = "force-static"/export const revalidate not configured on route "${t.pathname}" with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`);this.dynamic="error"}}resolve(e){return u.includes(e)?this.methods[e]:()=>new Response(null,{status:400})}async do(e,t,r,n,a,s,i){var o,l,u;let d;let f=r.isStaticGeneration,h=!!(null==(o=i.renderOpts.experimental)?void 0:o.dynamicIO);(0,p.V5)({workAsyncStorage:this.workAsyncStorage,workUnitAsyncStorage:this.workUnitAsyncStorage});let m={params:i.params?function(e,t){let r=L.FP.getStore();if(r)switch(r.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return function(e,t,r){let n=t.fallbackRouteParams;if(n){let a=!1;for(let t in e)if(n.has(t)){a=!0;break}if(a)return"prerender"===r.type?function(e,t,r){let n=eu.get(e);if(n)return n;let a=(0,en.W)(r.renderSignal,"`params`");return eu.set(e,a),Object.keys(e).forEach(e=>{er.has(e)||Object.defineProperty(a,e,{get(){let n=et("params",e),a=ed(t,n);(0,J.t3)(t,n,a,r)},set(t){Object.defineProperty(a,e,{value:t,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0})}),a}(e,t.route,r):function(e,t,r,n){let a=eu.get(e);if(a)return a;let s={...e},i=Promise.resolve(s);return eu.set(e,i),Object.keys(e).forEach(a=>{er.has(a)||(t.has(a)?(Object.defineProperty(s,a,{get(){let e=et("params",a);"prerender-ppr"===n.type?(0,J.Ui)(r.route,e,n.dynamicTracking):(0,J.xI)(e,r,n)},enumerable:!0}),Object.defineProperty(i,a,{get(){let e=et("params",a);"prerender-ppr"===n.type?(0,J.Ui)(r.route,e,n.dynamicTracking):(0,J.xI)(e,r,n)},set(e){Object.defineProperty(i,a,{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0})):i[a]=e[a])}),i}(e,n,t,r)}return ec(e)}(e,t,r)}return ec(e)}(function(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=n);return t}(i.params),r):void 0},g=null;try{if(f){let t=this.userland.revalidate,n=!1===t||void 0===t?c.AR:t;if(h){let t;let i=new AbortController,o=!1,l=new X,u=(0,J.uO)(void 0),p=g={type:"prerender",phase:"action",implicitTags:a,renderSignal:i.signal,controller:i,cacheSignal:l,dynamicTracking:u,revalidate:n,expire:c.AR,stale:c.AR,tags:[...a],prerenderResumeDataCache:null};try{t=this.workUnitAsyncStorage.run(p,e,s,m)}catch(e){i.signal.aborted?o=!0:(process.env.NEXT_DEBUG_BUILD||process.env.__NEXT_VERBOSE_LOGGING)&&M(e,r.route)}if("object"==typeof t&&null!==t&&"function"==typeof t.then&&t.then(()=>{},e=>{i.signal.aborted?o=!0:process.env.NEXT_DEBUG_BUILD&&M(e,r.route)}),await l.cacheReady(),o){let e=(0,J.gz)(u);if(e)throw new O.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw console.error("Expected Next.js to keep track of reason for opting out of static rendering but one was not found. This is a bug in Next.js"),new O.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used a dynamic API. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`)}let f=new AbortController;u=(0,J.uO)(void 0);let h=g={type:"prerender",phase:"action",implicitTags:a,renderSignal:f.signal,controller:f,cacheSignal:null,dynamicTracking:u,revalidate:n,expire:c.AR,stale:c.AR,tags:[...a],prerenderResumeDataCache:null},y=!1;if(d=await new Promise((t,n)=>{(0,Y.X$)(async()=>{try{let a=await this.workUnitAsyncStorage.run(h,e,s,m);if(y)return;if(!(a instanceof Response)){t(a);return}y=!0;let i=!1;a.arrayBuffer().then(e=>{i||(i=!0,t(new Response(e,{headers:a.headers,status:a.status,statusText:a.statusText})))},n),(0,Y.X$)(()=>{i||(i=!0,f.abort(),n(eC(r.route)))})}catch(e){n(e)}}),(0,Y.X$)(()=>{y||(y=!0,f.abort(),n(eC(r.route)))})}),f.signal.aborted)throw eC(r.route);f.abort()}else g={type:"prerender-legacy",phase:"action",implicitTags:a,revalidate:n,expire:c.AR,stale:c.AR,tags:[...a]},d=await L.FP.run(g,e,s,m)}else d=await L.FP.run(n,e,s,m)}catch(e){if(j(e)){let r=j(e)?e.digest.split(";").slice(2,-2).join(";"):null;if(!r)throw Error("Invariant: Unexpected redirect url format");let a=new Headers({Location:r});return"request"===n.type&&(0,A.IN)(a,n.mutableCookies),new Response(null,{status:t.isAction?$.SeeOther:function(e){if(!j(e))throw Error("Not a redirect error");return Number(e.digest.split(";").at(-2))}(e),headers:a})}if(N(e))return new Response(null,{status:Number(e.digest.split(";")[1])});throw e}if(!(d instanceof Response))throw Error(`No response is returned from route handler '${this.resolvedPagePath}'. Ensure you return a \`Response\` or a \`NextResponse\` in all branches of your handler.`);i.renderOpts.fetchMetrics=r.fetchMetrics,i.renderOpts.pendingWaitUntil=Promise.all([null==(l=r.incrementalCache)?void 0:l.revalidateTag(r.revalidatedTags||[]),...Object.values(r.pendingRevalidates||{})]).finally(()=>{process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.log("pending revalidates promise finished for:",n.url)}),g&&(i.renderOpts.collectedTags=null==(u=g.tags)?void 0:u.join(","),i.renderOpts.collectedRevalidate=g.revalidate,i.renderOpts.collectedExpire=g.expire,i.renderOpts.collectedStale=g.stale);let y=new Headers(d.headers);return"request"===n.type&&(0,A.IN)(y,n.mutableCookies)?new Response(d.body,{status:d.status,statusText:d.statusText,headers:y}):d}async handle(e,t){let r=this.resolve(e.method),n={fallbackRouteParams:null,page:this.definition.page,renderOpts:t.renderOpts};n.renderOpts.fetchCache=this.userland.fetchCache;let a={isAppRoute:!0,isAction:function(e){let t,r;e.headers instanceof Headers?(t=e.headers.get(V.ts.toLowerCase())??null,r=e.headers.get("content-type")):(t=e.headers[V.ts.toLowerCase()]??null,r=e.headers["content-type"]??null);let n=!!("POST"===e.method&&"application/x-www-form-urlencoded"===r),a=!!("POST"===e.method&&(null==r?void 0:r.startsWith("multipart/form-data"))),s=!!(void 0!==t&&"string"==typeof t&&"POST"===e.method);return{actionId:t,isURLEncodedAction:n,isMultipartAction:a,isFetchAction:s,isServerAction:!!(s||n||a)}}(e).isServerAction},s=function(e,t,r){let n=[];for(let t of d(e))t=`${c.gW}${t}`,n.push(t);if(t.pathname){let e=`${c.gW}${t.pathname}`;n.push(e)}return n}(this.definition.page,e.nextUrl,0),i=(0,o.q9)(e,e.nextUrl,s,void 0,t.prerenderManifest.preview),u=(0,l.X)(n),p=await this.actionAsyncStorage.run(a,()=>this.workUnitAsyncStorage.run(i,()=>this.workAsyncStorage.run(u,async()=>{if(this.hasNonStaticMethods&&u.isStaticGeneration){let e=new O.DynamicServerError("Route is configured with methods that cannot be statically generated.");throw u.dynamicUsageDescription=e.message,u.dynamicUsageStack=e.stack,e}let n=e;switch(this.dynamic){case"force-dynamic":u.forceDynamic=!0;break;case"force-static":u.forceStatic=!0,n=new Proxy(e,ew);break;case"error":u.dynamicShouldError=!0,u.isStaticGeneration&&(n=new Proxy(e,eS));break;default:n=function(e,t){let r={get(e,n,a){switch(n){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":return eE(t,L.FP.getStore(),`nextUrl.${n}`),K.l.get(e,n,a);case"clone":return e[em]||(e[em]=()=>new Proxy(e.clone(),r));default:return K.l.get(e,n,a)}}},n={get(e,a){switch(a){case"nextUrl":return e[ef]||(e[ef]=new Proxy(e.nextUrl,r));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":return eE(t,L.FP.getStore(),`request.${a}`),K.l.get(e,a,e);case"clone":return e[eh]||(e[eh]=()=>new Proxy(e.clone(),n));default:return K.l.get(e,a,e)}}};return new Proxy(e,n)}(e,u)}let o=function(e){let t="/app/";e.includes(t)||(t="\\app\\");let[,...r]=e.split(t);return(t[0]+r.join(t)).split(".").slice(0,-1).join(".")}(this.resolvedPagePath),l=(0,f.EK)();return l.setRootSpanAttribute("next.route",o),l.trace(h.jM.runHandler,{spanName:`executing api route (app) ${o}`,attributes:{"next.route":o}},async()=>this.do(r,a,u,i,s,n,t))})));if(!(p instanceof Response))return new Response(null,{status:500});if(p.headers.has("x-middleware-rewrite"))throw Error("NextResponse.rewrite() was used in a app route handler, this is not currently supported. Please remove the invocation to continue.");if("1"===p.headers.get("x-middleware-next"))throw Error("NextResponse.next() was used in a app route handler, this is not supported. See here for more info: https://nextjs.org/docs/messages/next-response-next-in-app-route-handler");return p}}let ef=Symbol("nextUrl"),eh=Symbol("clone"),em=Symbol("clone"),eg=Symbol("searchParams"),ey=Symbol("href"),ev=Symbol("toString"),eb=Symbol("headers"),e_=Symbol("cookies"),ew={get(e,t,r){switch(t){case"headers":return e[eb]||(e[eb]=P.o.seal(new Headers({})));case"cookies":return e[e_]||(e[e_]=A.Ck.seal(new W.RequestCookies(new Headers({}))));case"nextUrl":return e[ef]||(e[ef]=new Proxy(e.nextUrl,ex));case"url":return r.nextUrl.href;case"geo":case"ip":return;case"clone":return e[eh]||(e[eh]=()=>new Proxy(e.clone(),ew));default:return K.l.get(e,t,r)}}},ex={get(e,t,r){switch(t){case"search":return"";case"searchParams":return e[eg]||(e[eg]=new URLSearchParams);case"href":return e[ey]||(e[ey]=function(e){let t=new URL(e);return t.host="localhost:3000",t.search="",t.protocol="http",t}(e.href).href);case"toJSON":case"toString":return e[ev]||(e[ev]=()=>r.href);case"url":return;case"clone":return e[em]||(e[em]=()=>new Proxy(e.clone(),ex));default:return K.l.get(e,t,r)}}},eS={get(e,t,r){switch(t){case"nextUrl":return e[ef]||(e[ef]=new Proxy(e.nextUrl,ek));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":throw new G.f(`Route ${e.nextUrl.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`request.${t}\`.`);case"clone":return e[eh]||(e[eh]=()=>new Proxy(e.clone(),eS));default:return K.l.get(e,t,r)}}},ek={get(e,t,r){switch(t){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":throw new G.f(`Route ${e.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`nextUrl.${t}\`.`);case"clone":return e[em]||(e[em]=()=>new Proxy(e.clone(),ek));default:return K.l.get(e,t,r)}}};function eC(e){return new O.DynamicServerError(`Route ${e} couldn't be rendered statically because it used IO that was not cached. See more info here: https://nextjs.org/docs/messages/dynamic-io`)}function eE(e,t,r){if(t){if("cache"===t.type)throw Error(`Route ${e.route} used "${r}" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${r}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===t.type)throw Error(`Route ${e.route} used "${r}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${r}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(e.dynamicShouldError)throw new G.f(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender"===t.type){let n=Error(`Route ${e.route} used ${r} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-request`);(0,J.t3)(e.route,r,n,t)}else if("prerender-ppr"===t.type)(0,J.Ui)(e.route,r,t.dynamicTracking);else if("prerender-legacy"===t.type){t.revalidate=0;let n=new O.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}},6398:(e,t,r)=>{"use strict";r.d(t,{CB:()=>n,Yq:()=>a,l_:()=>s});class n extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class a extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class s extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},2163:(e,t,r)=>{"use strict";r.d(t,{X:()=>p});var n=r(7672),a=r(9006);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:s}=(0,a.R)(e);return""+t+r+n+s}function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:s}=(0,a.R)(e);return""+r+t+n+s}var o=r(7694),l=r(4088);let u=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function c(e,t){return new URL(String(e).replace(u,"localhost"),t&&String(t).replace(u,"localhost"))}let d=Symbol("NextURLInternal");class p{constructor(e,t,r){let n,a;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,a=r||{}):a=r||t||{},this[d]={url:c(e,n??a.base),options:a,basePath:""},this.analyze()}analyze(){var e,t,r,n,a;let s=function(e,t){var r,n;let{basePath:a,i18n:s,trailingSlash:i}=null!=(r=t.nextConfig)?r:{},u={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):i};a&&(0,o.m)(u.pathname,a)&&(u.pathname=function(e,t){if(!(0,o.m)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}(u.pathname,a),u.basePath=a);let c=u.pathname;if(u.pathname.startsWith("/_next/data/")&&u.pathname.endsWith(".json")){let e=u.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];u.buildId=r,c="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(u.pathname=c)}if(s){let e=t.i18nProvider?t.i18nProvider.analyze(u.pathname):(0,l.d)(u.pathname,s.locales);u.locale=e.detectedLocale,u.pathname=null!=(n=e.pathname)?n:u.pathname,!e.detectedLocale&&u.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(c):(0,l.d)(c,s.locales)).detectedLocale&&(u.locale=e.detectedLocale)}return u}(this[d].url.pathname,{nextConfig:this[d].options.nextConfig,parseData:!0,i18nProvider:this[d].options.i18nProvider}),i=function(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[d].url,this[d].options.headers);this[d].domainLocale=this[d].options.i18nProvider?this[d].options.i18nProvider.detectDomainLocale(i):function(e,t,r){if(e)for(let s of(r&&(r=r.toLowerCase()),e)){var n,a;if(t===(null==(n=s.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===s.defaultLocale.toLowerCase()||(null==(a=s.locales)?void 0:a.some(e=>e.toLowerCase()===r)))return s}}(null==(t=this[d].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,i);let u=(null==(r=this[d].domainLocale)?void 0:r.defaultLocale)||(null==(a=this[d].options.nextConfig)?void 0:null==(n=a.i18n)?void 0:n.defaultLocale);this[d].url.pathname=s.pathname,this[d].defaultLocale=u,this[d].basePath=s.basePath??"",this[d].buildId=s.buildId,this[d].locale=s.locale??u,this[d].trailingSlash=s.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,n){if(!t||t===r)return e;let a=e.toLowerCase();return!n&&((0,o.m)(a,"/api")||(0,o.m)(a,"/"+t.toLowerCase()))?e:s(e,"/"+t)}((e={basePath:this[d].basePath,buildId:this[d].buildId,defaultLocale:this[d].options.forceLocale?void 0:this[d].defaultLocale,locale:this[d].locale,pathname:this[d].url.pathname,trailingSlash:this[d].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=(0,n.U)(t)),e.buildId&&(t=i(s(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=s(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:i(t,"/"):(0,n.U)(t)}formatSearch(){return this[d].url.search}get buildId(){return this[d].buildId}set buildId(e){this[d].buildId=e}get locale(){return this[d].locale??""}set locale(e){var t,r;if(!this[d].locale||!(null==(r=this[d].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[d].locale=e}get defaultLocale(){return this[d].defaultLocale}get domainLocale(){return this[d].domainLocale}get searchParams(){return this[d].url.searchParams}get host(){return this[d].url.host}set host(e){this[d].url.host=e}get hostname(){return this[d].url.hostname}set hostname(e){this[d].url.hostname=e}get port(){return this[d].url.port}set port(e){this[d].url.port=e}get protocol(){return this[d].url.protocol}set protocol(e){this[d].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[d].url=c(e),this.analyze()}get origin(){return this[d].url.origin}get pathname(){return this[d].url.pathname}set pathname(e){this[d].url.pathname=e}get hash(){return this[d].url.hash}set hash(e){this[d].url.hash=e}get search(){return this[d].url.search}set search(e){this[d].url.search=e}get password(){return this[d].url.password}set password(e){this[d].url.password=e}get username(){return this[d].url.username}set username(e){this[d].url.username=e}get basePath(){return this[d].basePath}set basePath(e){this[d].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new p(String(this),this[d].options)}}},9065:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(4742);class a extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new a}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,a){if("symbol"==typeof r)return n.l.get(t,r,a);let s=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===s);if(void 0!==i)return n.l.get(t,i,a)},set(t,r,a,s){if("symbol"==typeof r)return n.l.set(t,r,a,s);let i=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===i);return n.l.set(t,o??r,a,s)},has(t,r){if("symbol"==typeof r)return n.l.has(t,r);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);return void 0!==s&&n.l.has(t,s)},deleteProperty(t,r){if("symbol"==typeof r)return n.l.deleteProperty(t,r);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);return void 0===s||n.l.deleteProperty(t,s)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return a.callable;default:return n.l.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},4742:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});class n{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},2620:(e,t,r)=>{"use strict";r.d(t,{Ck:()=>l,IN:()=>c,K8:()=>d,hm:()=>p});var n=r(7581),a=r(4742),s=r(7223),i=r(424);class o extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new o}}class l{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return o.callable;default:return a.l.get(e,t,r)}}})}}let u=Symbol.for("next.mutated.cookies");function c(e,t){let r=function(e){let t=e[u];return t&&Array.isArray(t)&&0!==t.length?t:[]}(t);if(0===r.length)return!1;let a=new n.VO(e),s=a.getAll();for(let e of r)a.set(e);for(let e of s)a.set(e);return!0}class d{static wrap(e,t){let r=new n.VO(new Headers);for(let t of e.getAll())r.set(t);let i=[],o=new Set,l=()=>{let e=s.J.getStore();if(e&&(e.pathWasRevalidated=!0),i=r.getAll().filter(e=>o.has(e.name)),t){let e=[];for(let t of i){let r=new n.VO(new Headers);r.set(t),e.push(r.toString())}t(e)}},c=new Proxy(r,{get(e,t,r){switch(t){case u:return i;case"delete":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),c}finally{l()}};case"set":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),c}finally{l()}};default:return a.l.get(e,t,r)}}});return c}}function p(e){let t=new Proxy(e,{get(e,r,n){switch(r){case"delete":return function(...r){return f("cookies().delete"),e.delete(...r),t};case"set":return function(...r){return f("cookies().set"),e.set(...r),t};default:return a.l.get(e,r,n)}}});return t}function f(e){if("action"!==(0,i.XN)(e).phase)throw new o}},7581:(e,t,r)=>{"use strict";r.d(t,{Ud:()=>n.stringifyCookie,VO:()=>n.ResponseCookies,tm:()=>n.RequestCookies});var n=r(850)},1143:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var n=r(2163),a=r(9),s=r(6398),i=r(7581);let o=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,a.qU)(r),e instanceof Request?super(e,t):super(r,t);let s=new n.X(r,{headers:(0,a.Cu)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new i.tm(this.headers),nextUrl:s,url:s.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get nextUrl(){return this[o].nextUrl}get page(){throw new s.Yq}get ua(){throw new s.l_}get url(){return this[o].url}}},9:(e,t,r)=>{"use strict";r.d(t,{Cu:()=>i,RD:()=>s,p$:()=>a,qU:()=>o,wN:()=>l});var n=r(4232);function a(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function s(e){var t,r,n,a,s,i=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),a=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=a,i.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&i.push(e.substring(t,e.length))}return i}function i(e){let t={},r=[];if(e)for(let[n,a]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...s(a)),t[n]=1===r.length?r[0]:r):t[n]=a;return t}function o(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}function l(e,t){for(let r of[n.AA,n.h])e!==r&&e.startsWith(r)&&t(e.substring(r.length))}},4088:(e,t,r)=>{"use strict";function n(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}r.d(t,{d:()=>n})},4332:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});class n extends Error{constructor(e,t){super("Invariant: "+(e.endsWith(".")?e:e+".")+" This is a bug in Next.js.",t),this.name="InvariantError"}}},9023:(e,t,r)=>{"use strict";function n(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}r.d(t,{Q:()=>n})},3602:(e,t,r)=>{"use strict";let n;n=r(2910),e.exports=n},8868:(e,t,r)=>{"use strict";function n(e){return e.startsWith("/")?e:"/"+e}r.d(t,{A:()=>n})},9263:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a,P:()=>s});var n=r(8868);function a(e){return(0,n.A)(e.split("/").reduce((e,t,r,n)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t:e,""))}function s(e){return e.replace(/\.rsc($|\?)/,"$1")}},9006:(e,t,r)=>{"use strict";function n(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}r.d(t,{R:()=>n})},7694:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(9006);function a(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.R)(e);return r===t||r.startsWith(t+"/")}},7672:(e,t,r)=>{"use strict";function n(e){return e.replace(/\/$/,"")||"/"}r.d(t,{U:()=>n})},7981:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getTestReqInfo:function(){return i},withRequest:function(){return s}});let n=new(r(5521)).AsyncLocalStorage;function a(e,t){let r=t.header(e,"next-test-proxy-port");if(r)return{url:t.url(e),proxyPort:Number(r),testData:t.header(e,"next-test-data")||""}}function s(e,t,r){let s=a(e,t);return s?n.run(s,r):r()}function i(e,t){return n.getStore()||(e&&t?a(e,t):void 0)}},6634:(e,t,r)=>{"use strict";var n=r(5356).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{handleFetch:function(){return o},interceptFetch:function(){return l},reader:function(){return s}});let a=r(7981),s={url:e=>e.url,header:(e,t)=>e.headers.get(t)};async function i(e,t){let{url:r,method:a,headers:s,body:i,cache:o,credentials:l,integrity:u,mode:c,redirect:d,referrer:p,referrerPolicy:f}=t;return{testData:e,api:"fetch",request:{url:r,method:a,headers:[...Array.from(s),["next-test-stack",function(){let e=(Error().stack??"").split("\n");for(let t=1;t<e.length;t++)if(e[t].length>0){e=e.slice(t);break}return(e=(e=(e=e.filter(e=>!e.includes("/next/dist/"))).slice(0,5)).map(e=>e.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:i?n.from(await t.arrayBuffer()).toString("base64"):null,cache:o,credentials:l,integrity:u,mode:c,redirect:d,referrer:p,referrerPolicy:f}}}async function o(e,t){let r=(0,a.getTestReqInfo)(t,s);if(!r)return e(t);let{testData:o,proxyPort:l}=r,u=await i(o,t),c=await e(`http://localhost:${l}`,{method:"POST",body:JSON.stringify(u),next:{internal:!0}});if(!c.ok)throw Error(`Proxy request failed: ${c.status}`);let d=await c.json(),{api:p}=d;switch(p){case"continue":return e(t);case"abort":case"unhandled":throw Error(`Proxy request aborted [${t.method} ${t.url}]`)}return function(e){let{status:t,headers:r,body:a}=e.response;return new Response(a?n.from(a,"base64"):null,{status:t,headers:new Headers(r)})}(d)}function l(e){return r.g.fetch=function(t,r){var n;return(null==r?void 0:null==(n=r.next)?void 0:n.internal)?e(t,r):o(e,new Request(t,r))},()=>{r.g.fetch=e}}},2189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{interceptTestApis:function(){return s},wrapRequestHandler:function(){return i}});let n=r(7981),a=r(6634);function s(){return(0,a.interceptFetch)(r.g.fetch)}function i(e){return(t,r)=>(0,n.withRequest)(t,a.reader,()=>e(t,r))}},3307:(e,t,r)=>{"use strict";var n=r(5356).Buffer;let a=void 0!==n,s=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,i=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function o(e,t,r){null==r&&null!==t&&"object"==typeof t&&(r=t,t=void 0),a&&n.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let o=JSON.parse(e,t);if(null===o||"object"!=typeof o)return o;let u=r&&r.protoAction||"error",c=r&&r.constructorAction||"error";if("ignore"===u&&"ignore"===c)return o;if("ignore"!==u&&"ignore"!==c){if(!1===s.test(e)&&!1===i.test(e))return o}else if("ignore"!==u&&"ignore"===c){if(!1===s.test(e))return o}else if(!1===i.test(e))return o;return l(o,{protoAction:u,constructorAction:c,safe:r&&r.safe})}function l(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let a=[e];for(;a.length;){let e=a;for(let s of(a=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(!0===n)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(!0===n)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(let e in s){let t=s[e];t&&"object"==typeof t&&a.push(t)}}}return e}function u(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return o(e,t,r)}finally{Error.stackTraceLimit=n}}e.exports=u,e.exports.default=u,e.exports.parse=u,e.exports.safeParse=function(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return o(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=r}},e.exports.scan=l},2058:(e,t,r)=>{"use strict";r.d(t,{xl:()=>i});let n=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");class a{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function i(){return s?new s:new a}},7223:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});let n=(0,r(2058).xl)()},2223:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});let n=(0,r(2058).xl)()},424:(e,t,r)=>{"use strict";r.d(t,{E0:()=>i,FP:()=>n.e,XN:()=>a,fm:()=>s});var n=r(2223);function a(e){let t=n.e.getStore();if(t){if("request"===t.type)return t;if("prerender"===t.type||"prerender-ppr"===t.type||"prerender-legacy"===t.type)throw Error(`\`${e}\` cannot be called inside a prerender. This is a bug in Next.js.`);if("cache"===t.type)throw Error(`\`${e}\` cannot be called inside "use cache". Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===t.type)throw Error(`\`${e}\` cannot be called inside unstable_cache. Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}throw Error(`\`${e}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`)}function s(e){return"prerender"===e.type||"prerender-ppr"===e.type?e.prerenderResumeDataCache:null}function i(e){return"prerender-legacy"!==e.type&&"cache"!==e.type&&"unstable-cache"!==e.type?"request"===e.type?e.renderResumeDataCache:e.prerenderResumeDataCache:null}}},e=>{var t=e(e.s=606);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_app/api/openai/route"]=t}]);
//# sourceMappingURL=route.js.map