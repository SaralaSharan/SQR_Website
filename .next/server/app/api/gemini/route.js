(()=>{var e={};e.id=667,e.ids=[667],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},6816:(e,t,r)=>{"use strict";let n,a;r.r(t),r.d(t,{patchFetch:()=>ic,routeModule:()=>io,serverHooks:()=>il,workAsyncStorage:()=>is,workUnitAsyncStorage:()=>iu});var i,o,s,u,l,c,d,p,f,h,m,g,y,v,b,_,w,x,S,T,E,P,O,R,A,k,N,C={};r.r(C),r.d(C,{POST:()=>ii});var I=r(2706),j=r(8203),M=r(5994),D=r(5487),L="vercel.ai.error",$=Symbol.for(L),U=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[i]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,L)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}toJSON(){return{name:this.name,message:this.message}}};i=$;var F=U,Z="AI_APICallError",B=`vercel.ai.error.${Z}`,q=Symbol.for(B),G=class extends F{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:a,responseBody:i,cause:s,isRetryable:u=null!=n&&(408===n||409===n||429===n||n>=500),data:l}){super({name:Z,message:e,cause:s}),this[o]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=a,this.responseBody=i,this.isRetryable=u,this.data=l}static isInstance(e){return F.hasMarker(e,B)}static isAPICallError(e){return e instanceof Error&&e.name===Z&&"string"==typeof e.url&&"object"==typeof e.requestBodyValues&&(null==e.statusCode||"number"==typeof e.statusCode)&&(null==e.responseHeaders||"object"==typeof e.responseHeaders)&&(null==e.responseBody||"string"==typeof e.responseBody)&&(null==e.cause||"object"==typeof e.cause)&&"boolean"==typeof e.isRetryable&&(null==e.data||"object"==typeof e.data)}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};o=q;var V="AI_EmptyResponseBodyError",H=`vercel.ai.error.${V}`,z=Symbol.for(H),K=class extends F{constructor({message:e="Empty response body"}={}){super({name:V,message:e}),this[s]=!0}static isInstance(e){return F.hasMarker(e,H)}static isEmptyResponseBodyError(e){return e instanceof Error&&e.name===V}};function W(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}s=z;var X="AI_InvalidArgumentError",J=`vercel.ai.error.${X}`,Y=Symbol.for(J),Q=class extends F{constructor({message:e,cause:t,argument:r}){super({name:X,message:e,cause:t}),this[u]=!0,this.argument=r}static isInstance(e){return F.hasMarker(e,J)}};u=Y;var ee="AI_InvalidPromptError",et=`vercel.ai.error.${ee}`,er=Symbol.for(et),en=class extends F{constructor({prompt:e,message:t,cause:r}){super({name:ee,message:`Invalid prompt: ${t}`,cause:r}),this[l]=!0,this.prompt=e}static isInstance(e){return F.hasMarker(e,et)}static isInvalidPromptError(e){return e instanceof Error&&e.name===ee&&null!=prompt}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};l=er,Symbol.for("vercel.ai.error.AI_InvalidResponseDataError");var ea="AI_JSONParseError",ei=`vercel.ai.error.${ea}`,eo=Symbol.for(ei),es=class extends F{constructor({text:e,cause:t}){super({name:ea,message:`JSON parsing failed: Text: ${e}.
Error message: ${W(t)}`,cause:t}),this[c]=!0,this.text=e}static isInstance(e){return F.hasMarker(e,ei)}static isJSONParseError(e){return e instanceof Error&&e.name===ea&&"text"in e&&"string"==typeof e.text}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};c=eo;var eu="AI_LoadAPIKeyError",el=`vercel.ai.error.${eu}`,ec=Symbol.for(el),ed=class extends F{constructor({message:e}){super({name:eu,message:e}),this[d]=!0}static isInstance(e){return F.hasMarker(e,el)}static isLoadAPIKeyError(e){return e instanceof Error&&e.name===eu}};d=ec,Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError");var ep="AI_NoSuchModelError",ef=`vercel.ai.error.${ep}`,eh=Symbol.for(ef),em=class extends F{constructor({errorName:e=ep,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[p]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return F.hasMarker(e,ef)}static isNoSuchModelError(e){return e instanceof Error&&e.name===ep&&"string"==typeof e.modelId&&"string"==typeof e.modelType}toJSON(){return{name:this.name,message:this.message,stack:this.stack,modelId:this.modelId,modelType:this.modelType}}};p=eh;var eg="AI_TooManyEmbeddingValuesForCallError",ey=`vercel.ai.error.${eg}`,ev=Symbol.for(ey),eb=class extends F{constructor(e){super({name:eg,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[f]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return F.hasMarker(e,ey)}static isTooManyEmbeddingValuesForCallError(e){return e instanceof Error&&e.name===eg&&"provider"in e&&"string"==typeof e.provider&&"modelId"in e&&"string"==typeof e.modelId&&"maxEmbeddingsPerCall"in e&&"number"==typeof e.maxEmbeddingsPerCall&&"values"in e&&Array.isArray(e.values)}toJSON(){return{name:this.name,message:this.message,stack:this.stack,provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:this.values}}};f=ev;var e_="AI_TypeValidationError",ew=`vercel.ai.error.${e_}`,ex=Symbol.for(ew),eS=class e extends F{constructor({value:e,cause:t}){super({name:e_,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${W(t)}`,cause:t}),this[h]=!0,this.value=e}static isInstance(e){return F.hasMarker(e,ew)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}static isTypeValidationError(e){return e instanceof Error&&e.name===e_}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};h=ex;var eT="AI_UnsupportedFunctionalityError",eE=`vercel.ai.error.${eT}`,eP=Symbol.for(eE),eO=class extends F{constructor({functionality:e}){super({name:eT,message:`'${e}' functionality not supported.`}),this[m]=!0,this.functionality=e}static isInstance(e){return F.hasMarker(e,eE)}static isUnsupportedFunctionalityError(e){return e instanceof Error&&e.name===eT&&"string"==typeof e.functionality}toJSON(){return{name:this.name,message:this.message,stack:this.stack,functionality:this.functionality}}};function eR(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(eR):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eR(t)))}m=eP;let eA=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n},ek=[239,187,191];class eN extends TransformStream{constructor(){let e;super({start(t){e=function(e){let t,r,n,a,i,o,s;return u(),{feed:function(u){var l;r=r?r+u:u,t&&(l=r,ek.every((e,t)=>l.charCodeAt(t)===e))&&(r=r.slice(ek.length)),t=!1;let c=r.length,d=0,p=!1;for(;d<c;){let t;p&&("\n"===r[d]&&++d,p=!1);let u=-1,l=a;for(let e=n;u<0&&e<c;++e)":"===(t=r[e])&&l<0?l=e-d:"\r"===t?(p=!0,u=e-d):"\n"===t&&(u=e-d);if(u<0){n=c-d,a=l;break}n=0,a=-1,function(t,r,n,a){if(0===a){s.length>0&&(e({type:"event",id:i,event:o||void 0,data:s.slice(0,-1)}),s="",i=void 0),o=void 0;return}let u=n<0,l=t.slice(r,r+(u?a:n)),c=0;c=u?a:" "===t[r+n+1]?n+2:n+1;let d=r+c,p=a-c,f=t.slice(d,d+p).toString();if("data"===l)s+=f?"".concat(f,"\n"):"\n";else if("event"===l)o=f;else if("id"!==l||f.includes("\0")){if("retry"===l){let t=parseInt(f,10);Number.isNaN(t)||e({type:"reconnect-interval",value:t})}}else i=f}(r,d,l,u),d+=u+1}d===c?r="":d>0&&(r=r.slice(d))},reset:u};function u(){t=!0,r="",n=0,a=-1,i=void 0,o=void 0,s=""}}(e=>{"event"===e.type&&t.enqueue(e)})},transform(t){e.feed(t)}})}}function eC(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function eI(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}var ej=({prefix:e,size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=eA(r,t);if(null==e)return a;if(r.includes(n))throw new Q({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`},eM=ej();function eD(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}var eL=Symbol.for("vercel.ai.validator");function e$({value:e,schema:t}){let r="object"==typeof t&&null!==t&&eL in t&&!0===t[eL]&&"validate"in t?t:{[eL]:!0,validate:e=>{let r=t.safeParse(e);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}};try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:eS.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:eS.wrap({value:e,cause:t})}}}function eU({text:e,schema:t}){try{let r=D.parse(e);if(null==t)return{success:!0,value:r};return e$({value:r,schema:t})}catch(t){return{success:!1,error:es.isJSONParseError(t)?t:new es({text:e,cause:t})}}}var eF=()=>globalThis.fetch,eZ=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eB({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),eB=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=eF()})=>{try{let s=await o(e,{method:"POST",headers:Object.fromEntries(Object.entries(t).filter(([e,t])=>null!=t)),body:r.content,signal:i}),u=eI(s);if(!s.ok){let t;try{t=await a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(eD(t)||G.isAPICallError(t))throw t;throw new G({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:u,requestBodyValues:r.values})}throw t.value}try{return await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(eD(t)||G.isAPICallError(t)))throw t;throw new G({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:u,requestBodyValues:r.values})}}catch(t){if(eD(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new G({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},eq=e=>async({response:t})=>{let r=eI(t);if(null==t.body)throw new K({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new eN).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(eU({text:t,schema:e}))}}))}},eG=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),i=eU({text:a,schema:e}),o=eI(t);if(!i.success)throw new G({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value}},{btoa:eV,atob:eH}=globalThis;function ez(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return eV(t)}let eK=Symbol("Let zodToJsonSchema decide on which parser to use"),eW={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},eX=e=>"string"==typeof e?{...eW,name:e}:{...eW,...e},eJ=e=>{let t=eX(e),r=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}};(function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t})(g||(g={})),(y||(y={})).mergeShapes=(e,t)=>({...e,...t});let eY=g.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eQ=e=>{switch(typeof e){case"undefined":return eY.undefined;case"string":return eY.string;case"number":return isNaN(e)?eY.nan:eY.number;case"boolean":return eY.boolean;case"function":return eY.function;case"bigint":return eY.bigint;case"symbol":return eY.symbol;case"object":if(Array.isArray(e))return eY.array;if(null===e)return eY.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return eY.promise;if("undefined"!=typeof Map&&e instanceof Map)return eY.map;if("undefined"!=typeof Set&&e instanceof Set)return eY.set;if("undefined"!=typeof Date&&e instanceof Date)return eY.date;return eY.object;default:return eY.unknown}},e0=g.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class e1 extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){let r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof e1))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,g.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}e1.create=e=>new e1(e);let e2=(e,t)=>{let r;switch(e.code){case e0.invalid_type:r=e.received===eY.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case e0.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,g.jsonStringifyReplacer)}`;break;case e0.unrecognized_keys:r=`Unrecognized key(s) in object: ${g.joinValues(e.keys,", ")}`;break;case e0.invalid_union:r="Invalid input";break;case e0.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${g.joinValues(e.options)}`;break;case e0.invalid_enum_value:r=`Invalid enum value. Expected ${g.joinValues(e.options)}, received '${e.received}'`;break;case e0.invalid_arguments:r="Invalid function arguments";break;case e0.invalid_return_type:r="Invalid function return type";break;case e0.invalid_date:r="Invalid date";break;case e0.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:g.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case e0.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case e0.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case e0.custom:r="Invalid input";break;case e0.invalid_intersection_types:r="Intersection results could not be merged";break;case e0.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case e0.not_finite:r="Number must be finite";break;default:r=t.defaultError,g.assertNever(e)}return{message:r}},e9=e2;function e4(){return e9}let e3=e=>{let{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let s="";for(let e of n.filter(e=>!!e).slice().reverse())s=e(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}};function e6(e,t){let r=e4(),n=e3({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===e2?void 0:e2].filter(e=>!!e)});e.common.issues.push(n)}class e5{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return e7;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return e5.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:a}=n;if("aborted"===t.status||"aborted"===a.status)return e7;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||n.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let e7=Object.freeze({status:"aborted"}),e8=e=>({status:"dirty",value:e}),te=e=>({status:"valid",value:e}),tt=e=>"aborted"===e.status,tr=e=>"dirty"===e.status,tn=e=>"valid"===e.status,ta=e=>"undefined"!=typeof Promise&&e instanceof Promise;function ti(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function to(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(v||(v={}));class ts{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let tu=(e,t)=>{if(tn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new e1(e.common.issues);return this._error=t,this._error}}};function tl(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{var i,o;let{message:s}=e;return"invalid_enum_value"===t.code?{message:null!=s?s:a.defaultError}:void 0===a.data?{message:null!==(i=null!=s?s:n)&&void 0!==i?i:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(o=null!=s?s:r)&&void 0!==o?o:a.defaultError}},description:a}}class tc{get description(){return this._def.description}_getType(e){return eQ(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:eQ(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new e5,ctx:{common:e.parent.common,data:e.data,parsedType:eQ(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ta(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eQ(e)},a=this._parseSync({data:e,path:n.path,parent:n});return tu(n,a)}"~validate"(e){var t,r;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eQ(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:n});return tn(t)?{value:t.value}:{issues:n.common.issues}}catch(e){(null===(r=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(e=>tn(e)?{value:e.value}:{issues:n.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eQ(e)},n=this._parse({data:e,path:r.path,parent:r});return tu(r,await (ta(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let a=e(t),i=()=>n.addIssue({code:e0.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(i(),!1)):!!a||(i(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new t4({schema:this,typeName:w.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return t3.create(this,this._def)}nullable(){return t6.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tZ.create(this)}promise(){return t9.create(this,this._def)}or(e){return tq.create([this,e],this._def)}and(e){return tH.create(this,e,this._def)}transform(e){return new t4({...tl(this._def),schema:this,typeName:w.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new t5({...tl(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:w.ZodDefault})}brand(){return new rt({typeName:w.ZodBranded,type:this,...tl(this._def)})}catch(e){return new t7({...tl(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:w.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return rr.create(this,e)}readonly(){return rn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let td=/^c[^\s-]{8,}$/i,tp=/^[0-9a-z]+$/,tf=/^[0-9A-HJKMNP-TV-Z]{26}$/i,th=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tm=/^[a-z0-9_-]{21}$/i,tg=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ty=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,t_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tw=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tP=RegExp(`^${tE}$`);function tO(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function tR(e){let t=`${tE}T${tO(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class tA extends tc{_parse(e){var t,r,a,i;let o;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==eY.string){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.string,received:t.parsedType}),e7}let s=new e5;for(let u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(e6(o=this._getOrReturnCtx(e,o),{code:e0.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if("max"===u.kind)e.data.length>u.value&&(e6(o=this._getOrReturnCtx(e,o),{code:e0.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if("length"===u.kind){let t=e.data.length>u.value,r=e.data.length<u.value;(t||r)&&(o=this._getOrReturnCtx(e,o),t?e6(o,{code:e0.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):r&&e6(o,{code:e0.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),s.dirty())}else if("email"===u.kind)tv.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{validation:"email",code:e0.invalid_string,message:u.message}),s.dirty());else if("emoji"===u.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:e0.invalid_string,message:u.message}),s.dirty());else if("uuid"===u.kind)th.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:e0.invalid_string,message:u.message}),s.dirty());else if("nanoid"===u.kind)tm.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:e0.invalid_string,message:u.message}),s.dirty());else if("cuid"===u.kind)td.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:e0.invalid_string,message:u.message}),s.dirty());else if("cuid2"===u.kind)tp.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:e0.invalid_string,message:u.message}),s.dirty());else if("ulid"===u.kind)tf.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:e0.invalid_string,message:u.message}),s.dirty());else if("url"===u.kind)try{new URL(e.data)}catch(t){e6(o=this._getOrReturnCtx(e,o),{validation:"url",code:e0.invalid_string,message:u.message}),s.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{validation:"regex",code:e0.invalid_string,message:u.message}),s.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(e6(o=this._getOrReturnCtx(e,o),{code:e0.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),s.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(e6(o=this._getOrReturnCtx(e,o),{code:e0.invalid_string,validation:{startsWith:u.value},message:u.message}),s.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(e6(o=this._getOrReturnCtx(e,o),{code:e0.invalid_string,validation:{endsWith:u.value},message:u.message}),s.dirty()):"datetime"===u.kind?tR(u).test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{code:e0.invalid_string,validation:"datetime",message:u.message}),s.dirty()):"date"===u.kind?tP.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{code:e0.invalid_string,validation:"date",message:u.message}),s.dirty()):"time"===u.kind?RegExp(`^${tO(u)}$`).test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{code:e0.invalid_string,validation:"time",message:u.message}),s.dirty()):"duration"===u.kind?ty.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{validation:"duration",code:e0.invalid_string,message:u.message}),s.dirty()):"ip"===u.kind?(t=e.data,("v4"===(r=u.version)||!r)&&tb.test(t)||("v6"===r||!r)&&tw.test(t)||(e6(o=this._getOrReturnCtx(e,o),{validation:"ip",code:e0.invalid_string,message:u.message}),s.dirty())):"jwt"===u.kind?!function(e,t){if(!tg.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));if("object"!=typeof a||null===a||!a.typ||!a.alg||t&&a.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,u.alg)&&(e6(o=this._getOrReturnCtx(e,o),{validation:"jwt",code:e0.invalid_string,message:u.message}),s.dirty()):"cidr"===u.kind?(a=e.data,("v4"===(i=u.version)||!i)&&t_.test(a)||("v6"===i||!i)&&tx.test(a)||(e6(o=this._getOrReturnCtx(e,o),{validation:"cidr",code:e0.invalid_string,message:u.message}),s.dirty())):"base64"===u.kind?tS.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{validation:"base64",code:e0.invalid_string,message:u.message}),s.dirty()):"base64url"===u.kind?tT.test(e.data)||(e6(o=this._getOrReturnCtx(e,o),{validation:"base64url",code:e0.invalid_string,message:u.message}),s.dirty()):g.assertNever(u);return{status:s.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:e0.invalid_string,...v.errToObj(r)})}_addCheck(e){return new tA({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...v.errToObj(e)})}url(e){return this._addCheck({kind:"url",...v.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...v.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...v.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...v.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...v.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...v.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...v.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...v.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...v.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...v.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...v.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...v.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...v.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...v.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...v.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...v.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...v.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...v.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...v.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...v.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...v.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...v.errToObj(t)})}nonempty(e){return this.min(1,v.errToObj(e))}trim(){return new tA({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tA({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tA({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tA.create=e=>{var t;return new tA({checks:[],typeName:w.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...tl(e)})};class tk extends tc{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==eY.number){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.number,received:t.parsedType}),e7}let r=new e5;for(let n of this._def.checks)"int"===n.kind?g.isInteger(e.data)||(e6(t=this._getOrReturnCtx(e,t),{code:e0.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(e6(t=this._getOrReturnCtx(e,t),{code:e0.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(e6(t=this._getOrReturnCtx(e,t),{code:e0.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}(e.data,n.value)&&(e6(t=this._getOrReturnCtx(e,t),{code:e0.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(e6(t=this._getOrReturnCtx(e,t),{code:e0.not_finite,message:n.message}),r.dirty()):g.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,r,n){return new tk({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:v.toString(n)}]})}_addCheck(e){return new tk({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:v.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:v.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:v.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:v.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&g.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}tk.create=e=>new tk({checks:[],typeName:w.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...tl(e)});class tN extends tc{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==eY.bigint)return this._getInvalidInput(e);let r=new e5;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(e6(t=this._getOrReturnCtx(e,t),{code:e0.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(e6(t=this._getOrReturnCtx(e,t),{code:e0.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(e6(t=this._getOrReturnCtx(e,t),{code:e0.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):g.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.bigint,received:t.parsedType}),e7}gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,r,n){return new tN({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:v.toString(n)}]})}_addCheck(e){return new tN({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tN.create=e=>{var t;return new tN({checks:[],typeName:w.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...tl(e)})};class tC extends tc{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==eY.boolean){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.boolean,received:t.parsedType}),e7}return te(e.data)}}tC.create=e=>new tC({typeName:w.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...tl(e)});class tI extends tc{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==eY.date){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.date,received:t.parsedType}),e7}if(isNaN(e.data.getTime()))return e6(this._getOrReturnCtx(e),{code:e0.invalid_date}),e7;let r=new e5;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(e6(t=this._getOrReturnCtx(e,t),{code:e0.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(e6(t=this._getOrReturnCtx(e,t),{code:e0.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):g.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tI({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:v.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:v.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}tI.create=e=>new tI({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:w.ZodDate,...tl(e)});class tj extends tc{_parse(e){if(this._getType(e)!==eY.symbol){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.symbol,received:t.parsedType}),e7}return te(e.data)}}tj.create=e=>new tj({typeName:w.ZodSymbol,...tl(e)});class tM extends tc{_parse(e){if(this._getType(e)!==eY.undefined){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.undefined,received:t.parsedType}),e7}return te(e.data)}}tM.create=e=>new tM({typeName:w.ZodUndefined,...tl(e)});class tD extends tc{_parse(e){if(this._getType(e)!==eY.null){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.null,received:t.parsedType}),e7}return te(e.data)}}tD.create=e=>new tD({typeName:w.ZodNull,...tl(e)});class tL extends tc{constructor(){super(...arguments),this._any=!0}_parse(e){return te(e.data)}}tL.create=e=>new tL({typeName:w.ZodAny,...tl(e)});class t$ extends tc{constructor(){super(...arguments),this._unknown=!0}_parse(e){return te(e.data)}}t$.create=e=>new t$({typeName:w.ZodUnknown,...tl(e)});class tU extends tc{_parse(e){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.never,received:t.parsedType}),e7}}tU.create=e=>new tU({typeName:w.ZodNever,...tl(e)});class tF extends tc{_parse(e){if(this._getType(e)!==eY.undefined){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.void,received:t.parsedType}),e7}return te(e.data)}}tF.create=e=>new tF({typeName:w.ZodVoid,...tl(e)});class tZ extends tc{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==eY.array)return e6(t,{code:e0.invalid_type,expected:eY.array,received:t.parsedType}),e7;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&(e6(t,{code:e?e0.too_big:e0.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(e6(t,{code:e0.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(e6(t,{code:e0.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new ts(t,e,t.path,r)))).then(e=>e5.mergeArray(r,e));let a=[...t.data].map((e,r)=>n.type._parseSync(new ts(t,e,t.path,r)));return e5.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new tZ({...this._def,minLength:{value:e,message:v.toString(t)}})}max(e,t){return new tZ({...this._def,maxLength:{value:e,message:v.toString(t)}})}length(e,t){return new tZ({...this._def,exactLength:{value:e,message:v.toString(t)}})}nonempty(e){return this.min(1,e)}}tZ.create=(e,t)=>new tZ({type:e,minLength:null,maxLength:null,exactLength:null,typeName:w.ZodArray,...tl(t)});class tB extends tc{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=g.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==eY.object){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.object,received:t.parsedType}),e7}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof tU&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||i.push(e);let o=[];for(let e of a){let t=n[e],a=r.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new ts(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof tU){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)o.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)i.length>0&&(e6(r,{code:e0.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let n=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new ts(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>e5.mergeObjectSync(t,e)):e5.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return v.errToObj,new tB({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,a,i,o;let s=null!==(i=null===(a=(n=this._def).errorMap)||void 0===a?void 0:a.call(n,t,r).message)&&void 0!==i?i:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=v.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new tB({...this._def,unknownKeys:"strip"})}passthrough(){return new tB({...this._def,unknownKeys:"passthrough"})}extend(e){return new tB({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tB({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:w.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tB({...this._def,catchall:e})}pick(e){let t={};return g.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new tB({...this._def,shape:()=>t})}omit(e){let t={};return g.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new tB({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof tB){let r={};for(let n in t.shape){let a=t.shape[n];r[n]=t3.create(e(a))}return new tB({...t._def,shape:()=>r})}return t instanceof tZ?new tZ({...t._def,type:e(t.element)}):t instanceof t3?t3.create(e(t.unwrap())):t instanceof t6?t6.create(e(t.unwrap())):t instanceof tz?tz.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return g.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new tB({...this._def,shape:()=>t})}required(e){let t={};return g.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof t3;)e=e._def.innerType;t[r]=e}}),new tB({...this._def,shape:()=>t})}keyof(){return t0(g.objectKeys(this.shape))}}tB.create=(e,t)=>new tB({shape:()=>e,unknownKeys:"strip",catchall:tU.create(),typeName:w.ZodObject,...tl(t)}),tB.strictCreate=(e,t)=>new tB({shape:()=>e,unknownKeys:"strict",catchall:tU.create(),typeName:w.ZodObject,...tl(t)}),tB.lazycreate=(e,t)=>new tB({shape:e,unknownKeys:"strip",catchall:tU.create(),typeName:w.ZodObject,...tl(t)});class tq extends tc{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new e1(e.ctx.common.issues));return e6(t,{code:e0.invalid_union,unionErrors:r}),e7});{let e;let n=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=n.map(e=>new e1(e));return e6(t,{code:e0.invalid_union,unionErrors:a}),e7}}get options(){return this._def.options}}tq.create=(e,t)=>new tq({options:e,typeName:w.ZodUnion,...tl(t)});let tG=e=>{if(e instanceof tY)return tG(e.schema);if(e instanceof t4)return tG(e.innerType());if(e instanceof tQ)return[e.value];if(e instanceof t1)return e.options;if(e instanceof t2)return g.objectValues(e.enum);if(e instanceof t5)return tG(e._def.innerType);if(e instanceof tM)return[void 0];else if(e instanceof tD)return[null];else if(e instanceof t3)return[void 0,...tG(e.unwrap())];else if(e instanceof t6)return[null,...tG(e.unwrap())];else if(e instanceof rt)return tG(e.unwrap());else if(e instanceof rn)return tG(e.unwrap());else if(e instanceof t7)return tG(e._def.innerType);else return[]};class tV extends tc{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eY.object)return e6(t,{code:e0.invalid_type,expected:eY.object,received:t.parsedType}),e7;let r=this.discriminator,n=t.data[r],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(e6(t,{code:e0.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),e7)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=tG(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(n.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,r)}}return new tV({typeName:w.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...tl(r)})}}class tH extends tc{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(tt(e)||tt(n))return e7;let a=function e(t,r){let n=eQ(t),a=eQ(r);if(t===r)return{valid:!0,data:t};if(n===eY.object&&a===eY.object){let n=g.objectKeys(r),a=g.objectKeys(t).filter(e=>-1!==n.indexOf(e)),i={...t,...r};for(let n of a){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1};i[n]=a.data}return{valid:!0,data:i}}if(n===eY.array&&a===eY.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let a=0;a<t.length;a++){let i=e(t[a],r[a]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===eY.date&&a===eY.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return a.valid?((tr(e)||tr(n))&&t.dirty(),{status:t.value,value:a.data}):(e6(r,{code:e0.invalid_intersection_types}),e7)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tH.create=(e,t,r)=>new tH({left:e,right:t,typeName:w.ZodIntersection,...tl(r)});class tz extends tc{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eY.array)return e6(r,{code:e0.invalid_type,expected:eY.array,received:r.parsedType}),e7;if(r.data.length<this._def.items.length)return e6(r,{code:e0.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e7;!this._def.rest&&r.data.length>this._def.items.length&&(e6(r,{code:e0.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new ts(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>e5.mergeArray(t,e)):e5.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new tz({...this._def,rest:e})}}tz.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new tz({items:e,typeName:w.ZodTuple,rest:null,...tl(t)})};class tK extends tc{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eY.object)return e6(r,{code:e0.invalid_type,expected:eY.object,received:r.parsedType}),e7;let n=[],a=this._def.keyType,i=this._def.valueType;for(let e in r.data)n.push({key:a._parse(new ts(r,e,r.path,e)),value:i._parse(new ts(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?e5.mergeObjectAsync(t,n):e5.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new tK(t instanceof tc?{keyType:e,valueType:t,typeName:w.ZodRecord,...tl(r)}:{keyType:tA.create(),valueType:e,typeName:w.ZodRecord,...tl(t)})}}class tW extends tc{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eY.map)return e6(r,{code:e0.invalid_type,expected:eY.map,received:r.parsedType}),e7;let n=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([e,t],i)=>({key:n._parse(new ts(r,e,r.path,[i,"key"])),value:a._parse(new ts(r,t,r.path,[i,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of i){let n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return e7;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of i){let n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return e7;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}tW.create=(e,t,r)=>new tW({valueType:t,keyType:e,typeName:w.ZodMap,...tl(r)});class tX extends tc{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eY.set)return e6(r,{code:e0.invalid_type,expected:eY.set,received:r.parsedType}),e7;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(e6(r,{code:e0.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(e6(r,{code:e0.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let a=this._def.valueType;function i(e){let r=new Set;for(let n of e){if("aborted"===n.status)return e7;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let o=[...r.data.values()].map((e,t)=>a._parse(new ts(r,e,r.path,t)));return r.common.async?Promise.all(o).then(e=>i(e)):i(o)}min(e,t){return new tX({...this._def,minSize:{value:e,message:v.toString(t)}})}max(e,t){return new tX({...this._def,maxSize:{value:e,message:v.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tX.create=(e,t)=>new tX({valueType:e,minSize:null,maxSize:null,typeName:w.ZodSet,...tl(t)});class tJ extends tc{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eY.function)return e6(t,{code:e0.invalid_type,expected:eY.function,received:t.parsedType}),e7;function r(e,r){return e3({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e4(),e2].filter(e=>!!e),issueData:{code:e0.invalid_arguments,argumentsError:r}})}function n(e,r){return e3({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e4(),e2].filter(e=>!!e),issueData:{code:e0.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof t9){let e=this;return te(async function(...t){let o=new e1([]),s=await e._def.args.parseAsync(t,a).catch(e=>{throw o.addIssue(r(t,e)),o}),u=await Reflect.apply(i,this,s);return await e._def.returns._def.type.parseAsync(u,a).catch(e=>{throw o.addIssue(n(u,e)),o})})}{let e=this;return te(function(...t){let o=e._def.args.safeParse(t,a);if(!o.success)throw new e1([r(t,o.error)]);let s=Reflect.apply(i,this,o.data),u=e._def.returns.safeParse(s,a);if(!u.success)throw new e1([n(s,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new tJ({...this._def,args:tz.create(e).rest(t$.create())})}returns(e){return new tJ({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new tJ({args:e||tz.create([]).rest(t$.create()),returns:t||t$.create(),typeName:w.ZodFunction,...tl(r)})}}class tY extends tc{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}tY.create=(e,t)=>new tY({getter:e,typeName:w.ZodLazy,...tl(t)});class tQ extends tc{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return e6(t,{received:t.data,code:e0.invalid_literal,expected:this._def.value}),e7}return{status:"valid",value:e.data}}get value(){return this._def.value}}function t0(e,t){return new t1({values:e,typeName:w.ZodEnum,...tl(t)})}tQ.create=(e,t)=>new tQ({value:e,typeName:w.ZodLiteral,...tl(t)});class t1 extends tc{constructor(){super(...arguments),b.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return e6(t,{expected:g.joinValues(r),received:t.parsedType,code:e0.invalid_type}),e7}if(ti(this,b,"f")||to(this,b,new Set(this._def.values),"f"),!ti(this,b,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return e6(t,{received:t.data,code:e0.invalid_enum_value,options:r}),e7}return te(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return t1.create(e,{...this._def,...t})}exclude(e,t=this._def){return t1.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}b=new WeakMap,t1.create=t0;class t2 extends tc{constructor(){super(...arguments),_.set(this,void 0)}_parse(e){let t=g.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==eY.string&&r.parsedType!==eY.number){let e=g.objectValues(t);return e6(r,{expected:g.joinValues(e),received:r.parsedType,code:e0.invalid_type}),e7}if(ti(this,_,"f")||to(this,_,new Set(g.getValidEnumValues(this._def.values)),"f"),!ti(this,_,"f").has(e.data)){let e=g.objectValues(t);return e6(r,{received:r.data,code:e0.invalid_enum_value,options:e}),e7}return te(e.data)}get enum(){return this._def.values}}_=new WeakMap,t2.create=(e,t)=>new t2({values:e,typeName:w.ZodNativeEnum,...tl(t)});class t9 extends tc{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==eY.promise&&!1===t.common.async?(e6(t,{code:e0.invalid_type,expected:eY.promise,received:t.parsedType}),e7):te((t.parsedType===eY.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}t9.create=(e,t)=>new t9({type:e,typeName:w.ZodPromise,...tl(t)});class t4 extends tc{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===w.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{e6(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){let e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return e7;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?e7:"dirty"===n.status||"dirty"===t.value?e8(n.value):n});{if("aborted"===t.value)return e7;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?e7:"dirty"===n.status||"dirty"===t.value?e8(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?e7:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?e7:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>tn(e)?Promise.resolve(n.transform(e.value,a)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!tn(e))return e;let i=n.transform(e.value,a);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}}g.assertNever(n)}}t4.create=(e,t,r)=>new t4({schema:e,typeName:w.ZodEffects,effect:t,...tl(r)}),t4.createWithPreprocess=(e,t,r)=>new t4({schema:t,effect:{type:"preprocess",transform:e},typeName:w.ZodEffects,...tl(r)});class t3 extends tc{_parse(e){return this._getType(e)===eY.undefined?te(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t3.create=(e,t)=>new t3({innerType:e,typeName:w.ZodOptional,...tl(t)});class t6 extends tc{_parse(e){return this._getType(e)===eY.null?te(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t6.create=(e,t)=>new t6({innerType:e,typeName:w.ZodNullable,...tl(t)});class t5 extends tc{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===eY.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}t5.create=(e,t)=>new t5({innerType:e,typeName:w.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...tl(t)});class t7 extends tc{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ta(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new e1(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new e1(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}t7.create=(e,t)=>new t7({innerType:e,typeName:w.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...tl(t)});class t8 extends tc{_parse(e){if(this._getType(e)!==eY.nan){let t=this._getOrReturnCtx(e);return e6(t,{code:e0.invalid_type,expected:eY.nan,received:t.parsedType}),e7}return{status:"valid",value:e.data}}}t8.create=e=>new t8({typeName:w.ZodNaN,...tl(e)});let re=Symbol("zod_brand");class rt extends tc{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class rr extends tc{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?e7:"dirty"===e.status?(t.dirty(),e8(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?e7:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new rr({in:e,out:t,typeName:w.ZodPipeline})}}class rn extends tc{_parse(e){let t=this._def.innerType._parse(e),r=e=>(tn(e)&&(e.value=Object.freeze(e.value)),e);return ta(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function ra(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function ri(e,t={},r){return e?tL.create().superRefine((n,a)=>{var i,o;let s=e(n);if(s instanceof Promise)return s.then(e=>{var i,o;if(!e){let e=ra(t,n),s=null===(o=null!==(i=e.fatal)&&void 0!==i?i:r)||void 0===o||o;a.addIssue({code:"custom",...e,fatal:s})}});if(!s){let e=ra(t,n),s=null===(o=null!==(i=e.fatal)&&void 0!==i?i:r)||void 0===o||o;a.addIssue({code:"custom",...e,fatal:s})}}):tL.create()}rn.create=(e,t)=>new rn({innerType:e,typeName:w.ZodReadonly,...tl(t)});let ro={object:tB.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(w||(w={}));let rs=tA.create,ru=tk.create,rl=t8.create,rc=tN.create,rd=tC.create,rp=tI.create,rf=tj.create,rh=tM.create,rm=tD.create,rg=tL.create,ry=t$.create,rv=tU.create,rb=tF.create,r_=tZ.create,rw=tB.create,rx=tB.strictCreate,rS=tq.create,rT=tV.create,rE=tH.create,rP=tz.create,rO=tK.create,rR=tW.create,rA=tX.create,rk=tJ.create,rN=tY.create,rC=tQ.create,rI=t1.create,rj=t2.create,rM=t9.create,rD=t4.create,rL=t3.create,r$=t6.create,rU=t4.createWithPreprocess,rF=rr.create;var rZ=Object.freeze({__proto__:null,defaultErrorMap:e2,setErrorMap:function(e){e9=e},getErrorMap:e4,makeIssue:e3,EMPTY_PATH:[],addIssueToContext:e6,ParseStatus:e5,INVALID:e7,DIRTY:e8,OK:te,isAborted:tt,isDirty:tr,isValid:tn,isAsync:ta,get util(){return g},get objectUtil(){return y},ZodParsedType:eY,getParsedType:eQ,ZodType:tc,datetimeRegex:tR,ZodString:tA,ZodNumber:tk,ZodBigInt:tN,ZodBoolean:tC,ZodDate:tI,ZodSymbol:tj,ZodUndefined:tM,ZodNull:tD,ZodAny:tL,ZodUnknown:t$,ZodNever:tU,ZodVoid:tF,ZodArray:tZ,ZodObject:tB,ZodUnion:tq,ZodDiscriminatedUnion:tV,ZodIntersection:tH,ZodTuple:tz,ZodRecord:tK,ZodMap:tW,ZodSet:tX,ZodFunction:tJ,ZodLazy:tY,ZodLiteral:tQ,ZodEnum:t1,ZodNativeEnum:t2,ZodPromise:t9,ZodEffects:t4,ZodTransformer:t4,ZodOptional:t3,ZodNullable:t6,ZodDefault:t5,ZodCatch:t7,ZodNaN:t8,BRAND:re,ZodBranded:rt,ZodPipeline:rr,ZodReadonly:rn,custom:ri,Schema:tc,ZodSchema:tc,late:ro,get ZodFirstPartyTypeKind(){return w},coerce:{string:e=>tA.create({...e,coerce:!0}),number:e=>tk.create({...e,coerce:!0}),boolean:e=>tC.create({...e,coerce:!0}),bigint:e=>tN.create({...e,coerce:!0}),date:e=>tI.create({...e,coerce:!0})},any:rg,array:r_,bigint:rc,boolean:rd,date:rp,discriminatedUnion:rT,effect:rD,enum:rI,function:rk,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>ri(t=>t instanceof e,t),intersection:rE,lazy:rN,literal:rC,map:rR,nan:rl,nativeEnum:rj,never:rv,null:rm,nullable:r$,number:ru,object:rw,oboolean:()=>rd().optional(),onumber:()=>ru().optional(),optional:rL,ostring:()=>rs().optional(),pipeline:rF,preprocess:rU,promise:rM,record:rO,set:rA,strictObject:rx,string:rs,symbol:rf,transformer:rD,tuple:rP,undefined:rh,union:rS,unknown:ry,void:rb,NEVER:e7,ZodIssueCode:e0,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:e1});function rB(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function rq(e,t,r,n,a){e[t]=r,rB(e,t,n,a)}function rG(e,t){return r7(e.type._def,t)}let rV=(e,t)=>r7(e.innerType._def,t),rH=(e,t)=>{let r={type:"integer",format:"unix-time"};if("openApi3"===t.target)return r;for(let n of e.checks)switch(n.kind){case"min":rq(r,"minimum",n.value,n.message,t);break;case"max":rq(r,"maximum",n.value,n.message,t)}return r},rz=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e,rK={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===a&&(a=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),a),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function rW(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":rq(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":rq(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":rY(r,"email",n.message,t);break;case"format:idn-email":rY(r,"idn-email",n.message,t);break;case"pattern:zod":rQ(r,rK.email,n.message,t)}break;case"url":rY(r,"uri",n.message,t);break;case"uuid":rY(r,"uuid",n.message,t);break;case"regex":rQ(r,n.regex,n.message,t);break;case"cuid":rQ(r,rK.cuid,n.message,t);break;case"cuid2":rQ(r,rK.cuid2,n.message,t);break;case"startsWith":rQ(r,RegExp(`^${rX(n.value,t)}`),n.message,t);break;case"endsWith":rQ(r,RegExp(`${rX(n.value,t)}$`),n.message,t);break;case"datetime":rY(r,"date-time",n.message,t);break;case"date":rY(r,"date",n.message,t);break;case"time":rY(r,"time",n.message,t);break;case"duration":rY(r,"duration",n.message,t);break;case"length":rq(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t),rq(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":rQ(r,RegExp(rX(n.value,t)),n.message,t);break;case"ip":"v6"!==n.version&&rY(r,"ipv4",n.message,t),"v4"!==n.version&&rY(r,"ipv6",n.message,t);break;case"base64url":rQ(r,rK.base64url,n.message,t);break;case"jwt":rQ(r,rK.jwt,n.message,t);break;case"cidr":"v6"!==n.version&&rQ(r,rK.ipv4Cidr,n.message,t),"v4"!==n.version&&rQ(r,rK.ipv6Cidr,n.message,t);break;case"emoji":rQ(r,rK.emoji(),n.message,t);break;case"ulid":rQ(r,rK.ulid,n.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":rY(r,"binary",n.message,t);break;case"contentEncoding:base64":rq(r,"contentEncoding","base64",n.message,t);break;case"pattern:zod":rQ(r,rK.base64,n.message,t)}break;case"nanoid":rQ(r,rK.nanoid,n.message,t)}return r}function rX(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let r=0;r<e.length;r++)rJ.has(e[r])||(t+="\\"),t+=e[r];return t}(e):e}let rJ=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function rY(e,t,r,n){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):rq(e,"format",t,r,n)}function rQ(e,t,r,n){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:r0(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):rq(e,"pattern",r0(t,n),r,n)}function r0(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,a="",i=!1,o=!1,s=!1;for(let e=0;e<n.length;e++){if(i){a+=n[e],i=!1;continue}if(r.i){if(o){if(n[e].match(/[a-z]/)){s?(a+=n[e],a+=`${n[e-2]}-${n[e]}`.toUpperCase(),s=!1):"-"===n[e+1]&&n[e+2]?.match(/[a-z]/)?(a+=n[e],s=!0):a+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){a+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(r.m){if("^"===n[e]){a+=`(^|(?<=[\r
]))`;continue}if("$"===n[e]){a+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===n[e]){a+=o?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}a+=n[e],"\\"===n[e]?i=!0:o&&"]"===n[e]?o=!1:o||"["!==n[e]||(o=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return a}function r1(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===w.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:r7(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",n]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:r7(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===w.ZodString&&e.keyType._def.checks?.length){let{type:n,...a}=rW(e.keyType._def,t);return{...r,propertyNames:a}}if(e.keyType?._def.typeName===w.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===w.ZodBranded&&e.keyType._def.type._def.typeName===w.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...a}=rG(e.keyType._def,t);return{...r,propertyNames:a}}return r}let r2={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},r9=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>r7(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0},r4=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return r7(e.innerType._def,t);let r=r7(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}},r3=(e,t)=>{if("input"===t.pipeStrategy)return r7(e.in._def,t);if("output"===t.pipeStrategy)return r7(e.out._def,t);let r=r7(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=r7(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(e=>void 0!==e)}},r6=(e,t)=>r7(e.innerType._def,t),r5=(e,t,r)=>{switch(t){case w.ZodString:return rW(e,r);case w.ZodNumber:return function(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",rB(r,"type",n.message,t);break;case"min":"jsonSchema7"===t.target?n.inclusive?rq(r,"minimum",n.value,n.message,t):rq(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),rq(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?rq(r,"maximum",n.value,n.message,t):rq(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),rq(r,"maximum",n.value,n.message,t));break;case"multipleOf":rq(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case w.ZodObject:return function(e,t){let r="openAi"===t.target,n={type:"object",...Object.entries(e.shape()).reduce((e,[n,a])=>{if(void 0===a||void 0===a._def)return e;let i=a.isOptional();i&&r&&(a instanceof t3&&(a=a._def.innerType),a.isNullable()||(a=a.nullable()),i=!1);let o=r7(a._def,{...t,currentPath:[...t.currentPath,"properties",n],propertyPath:[...t.currentPath,"properties",n]});return void 0===o?e:{properties:{...e.properties,[n]:o},required:i?e.required:[...e.required,n]}},{properties:{},required:[]}),additionalProperties:"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:r7(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:r7(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0};return n.required.length||delete n.required,n}(e,r);case w.ZodBigInt:return function(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":"jsonSchema7"===t.target?n.inclusive?rq(r,"minimum",n.value,n.message,t):rq(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),rq(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?rq(r,"maximum",n.value,n.message,t):rq(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),rq(r,"maximum",n.value,n.message,t));break;case"multipleOf":rq(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case w.ZodBoolean:return{type:"boolean"};case w.ZodDate:return function e(t,r,n){let a=n??r.dateStrategy;if(Array.isArray(a))return{anyOf:a.map((n,a)=>e(t,r,n))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return rH(t,r)}}(e,r);case w.ZodUndefined:return{not:{}};case w.ZodNull:return"openApi3"===r.target?{enum:["null"],nullable:!0}:{type:"null"};case w.ZodArray:return function(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==w.ZodAny&&(r.items=r7(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&rq(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&rq(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(rq(r,"minItems",e.exactLength.value,e.exactLength.message,t),rq(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}(e,r);case w.ZodUnion:case w.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return r9(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(e=>e._def.typeName in r2&&(!e._def.checks||!e._def.checks.length))){let e=r.reduce((e,t)=>{let r=r2[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(r.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=r.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===r.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:r.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(r.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:r.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return r9(e,t)}(e,r);case w.ZodIntersection:return function(e,t){let r=[r7(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r7(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),n="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,a=[];return r.forEach(e=>{if(rz(e))a.push(...e.allOf),void 0===e.unevaluatedProperties&&(n=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}else n=void 0;a.push(t)}}),a.length?{allOf:a,...n}:void 0}(e,r);case w.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,r)=>r7(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:r7(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,r)=>r7(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,r);case w.ZodRecord:return r1(e,r);case w.ZodLiteral:return function(e,t){let r=typeof e.value;return"bigint"!==r&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===r?"integer":r,enum:[e.value]}:{type:"bigint"===r?"integer":r,const:e.value}}(e,r);case w.ZodEnum:return{type:"string",enum:Array.from(e.values)};case w.ZodNativeEnum:return function(e){let t=e.values,r=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),n=Array.from(new Set(r.map(e=>typeof e)));return{type:1===n.length?"string"===n[0]?"string":"number":["string","number"],enum:r}}(e);case w.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:r2[e.innerType._def.typeName],nullable:!0}:{type:[r2[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let r=r7(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}let r=r7(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}(e,r);case w.ZodOptional:return r4(e,r);case w.ZodMap:return function(e,t){return"record"===t.mapStrategy?r1(e,t):{type:"array",maxItems:125,items:{type:"array",items:[r7(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},r7(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,r);case w.ZodSet:return function(e,t){let r={type:"array",uniqueItems:!0,items:r7(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&rq(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&rq(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}(e,r);case w.ZodLazy:return()=>e.getter()._def;case w.ZodPromise:return r7(e.type._def,r);case w.ZodNaN:case w.ZodNever:return{not:{}};case w.ZodEffects:return function(e,t){return"input"===t.effectStrategy?r7(e.schema._def,t):{}}(e,r);case w.ZodAny:case w.ZodUnknown:return{};case w.ZodDefault:return function(e,t){return{...r7(e.innerType._def,t),default:e.defaultValue()}}(e,r);case w.ZodBranded:return rG(e,r);case w.ZodReadonly:return r6(e,r);case w.ZodCatch:return rV(e,r);case w.ZodPipeline:return r3(e,r);case w.ZodFunction:case w.ZodVoid:case w.ZodSymbol:default:return}};function r7(e,t,r=!1){let n=t.seen.get(e);if(t.override){let a=t.override?.(e,t,n,r);if(a!==eK)return a}if(n&&!r){let e=r8(n,t);if(void 0!==e)return e}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let i=r5(e,e.typeName,t),o="function"==typeof i?r7(i(),t):i;if(o&&nt(e,t,o),t.postProcess){let r=t.postProcess(o,e,t);return a.jsonSchema=o,r}return a.jsonSchema=o,o}let r8=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:ne(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},ne=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},nt=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),nr=(e,t)=>{let r=eJ(t),n="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,n])=>({...e,[t]:r7(n._def,{...r,currentPath:[...r.basePath,r.definitionPath,t]},!0)??{}}),{}):void 0,a="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,i=r7(e._def,void 0===a?r:{...r,currentPath:[...r.basePath,r.definitionPath,a]},!1)??{},o="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==o&&(i.title=o);let s=void 0===a?n?{...i,[r.definitionPath]:n}:i:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:{...n,[a]:i}};return"jsonSchema7"===r.target?s.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===r.target||"openAi"===r.target)&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===r.target&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};var nn={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},na={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},ni={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},no={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},ns={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},nu={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},nl={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},nc={code:"7",name:"tool_calls",parse:e=>{if(null==e||"object"!=typeof e||!("tool_calls"in e)||"object"!=typeof e.tool_calls||null==e.tool_calls||!Array.isArray(e.tool_calls)||e.tool_calls.some(e=>null==e||"object"!=typeof e||!("id"in e)||"string"!=typeof e.id||!("type"in e)||"string"!=typeof e.type||!("function"in e)||null==e.function||"object"!=typeof e.function||!("arguments"in e.function)||"string"!=typeof e.function.name||"string"!=typeof e.function.arguments))throw Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},nd={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},np={code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},nf={code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},nh={code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},nm={code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},ng={code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},ny={code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},nv=[nn,na,ni,no,ns,nu,nl,nc,nd,np,nf,nh,nm,ng,ny],nb={[nn.code]:nn,[na.code]:na,[ni.code]:ni,[no.code]:no,[ns.code]:ns,[nu.code]:nu,[nl.code]:nl,[nc.code]:nc,[nd.code]:nd,[np.code]:np,[nf.code]:nf,[nh.code]:nh,[nm.code]:nm,[ng.code]:ng,[ny.code]:ny};nn.name,nn.code,na.name,na.code,ni.name,ni.code,no.name,no.code,ns.name,ns.code,nu.name,nu.code,nl.name,nl.code,nc.name,nc.code,nd.name,nd.code,np.name,np.code,nf.name,nf.code,nh.name,nh.code,nm.name,nm.code,ng.name,ng.code,ny.name,ny.code;var n_=nv.map(e=>e.code),nw=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let r=e.slice(0,t);if(!n_.includes(r))throw Error(`Failed to parse stream string. Invalid code ${r}.`);let n=JSON.parse(e.slice(t+1));return nb[r].parse(n)};function nx(e,t){let r=nv.find(t=>t.name===e);if(!r)throw Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}var nS=Symbol.for("vercel.ai.schema");function nT(e){return"object"==typeof e&&null!==e&&nS in e&&!0===e[nS]&&"jsonSchema"in e&&"validate"in e?e:function(e,{validate:t}={}){return{[nS]:!0,_type:void 0,[eL]:!0,jsonSchema:e,validate:t}}(nr(e),{validate:t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}var nE=r(2944),nP=r(916),nO=Object.defineProperty,nR=(e,t)=>{for(var r in t)nO(e,r,{get:t[r],enumerable:!0})};async function nA(e){return void 0===e?Promise.resolve():new Promise(t=>setTimeout(t,e))}var nk="AI_RetryError",nN=`vercel.ai.error.${nk}`,nC=Symbol.for(nN),nI=class extends F{constructor({message:e,reason:t,errors:r}){super({name:nk,message:e}),this[x]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return F.hasMarker(e,nN)}static isRetryError(e){return e instanceof Error&&e.name===nk&&"string"==typeof e.reason&&Array.isArray(e.errors)}toJSON(){return{name:this.name,message:this.message,reason:this.reason,lastError:this.lastError,errors:this.errors}}};x=nC;var nj=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2}={})=>async n=>nM(n,{maxRetries:e,delayInMs:t,backoffFactor:r});async function nM(e,{maxRetries:t,delayInMs:r,backoffFactor:n},a=[]){try{return await e()}catch(u){if(eD(u)||0===t)throw u;let i=null==u?"unknown error":"string"==typeof u?u:u instanceof Error?u.message:JSON.stringify(u),o=[...a,u],s=o.length;if(s>t)throw new nI({message:`Failed after ${s} attempts. Last error: ${i}`,reason:"maxRetriesExceeded",errors:o});if(u instanceof Error&&G.isAPICallError(u)&&!0===u.isRetryable&&s<=t)return await nA(r),nM(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n},o);if(1===s)throw u;throw new nI({message:`Failed after ${s} attempts with non-retryable error: '${i}'`,reason:"errorNotRetryable",errors:o})}}function nD({operationId:e,telemetry:t}){return{"operation.name":`${e}${(null==t?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":null==t?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":null==t?void 0:t.functionId}}var nL={startSpan:()=>n$,startActiveSpan:(e,t,r,n)=>"function"==typeof t?t(n$):"function"==typeof r?r(n$):"function"==typeof n?n(n$):void 0},n$={spanContext:()=>nU,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},nU={traceId:"",spanId:"",traceFlags:0};function nF({name:e,tracer:t,attributes:r,fn:n,endWhenDone:a=!0}){return t.startActiveSpan(e,{attributes:r},async e=>{try{let t=await n(e);return a&&e.end(),t}catch(t){try{t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:nP.s.ERROR,message:t.message})):e.setStatus({code:nP.s.ERROR})}finally{e.end()}throw t}})}function nZ({telemetry:e,attributes:t}){return(null==e?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((t,[r,n])=>{if(void 0===n)return t;if("object"==typeof n&&"input"in n&&"function"==typeof n.input){if((null==e?void 0:e.recordInputs)===!1)return t;let a=n.input();return void 0===a?t:{...t,[r]:a}}if("object"==typeof n&&"output"in n&&"function"==typeof n.output){if((null==e?void 0:e.recordOutputs)===!1)return t;let a=n.output();return void 0===a?t:{...t,[r]:a}}return{...t,[r]:n}},{})}var nB="AI_DownloadError",nq=`vercel.ai.error.${nB}`,nG=Symbol.for(nq),nV=class extends F{constructor({url:e,statusCode:t,statusText:r,cause:n,message:a=null==n?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:nB,message:a,cause:n}),this[S]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return F.hasMarker(e,nq)}static isDownloadError(e){return e instanceof Error&&e.name===nB&&"string"==typeof e.url&&(null==e.statusCode||"number"==typeof e.statusCode)&&(null==e.statusText||"string"==typeof e.statusText)}toJSON(){return{name:this.name,message:this.message,url:this.url,statusCode:this.statusCode,statusText:this.statusText,cause:this.cause}}};async function nH({url:e,fetchImplementation:t=fetch}){var r;let n=e.toString();try{let e=await t(n);if(!e.ok)throw new nV({url:n,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mimeType:null!=(r=e.headers.get("content-type"))?r:void 0}}catch(e){if(nV.isInstance(e))throw e;throw new nV({url:n,cause:e})}}S=nG;var nz=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}],nK="AI_InvalidDataContentError",nW=`vercel.ai.error.${nK}`,nX=Symbol.for(nW),nJ=class extends F{constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:nK,message:r,cause:t}),this[T]=!0,this.content=e}static isInstance(e){return F.hasMarker(e,nW)}static isInvalidDataContentError(e){return e instanceof Error&&e.name===nK&&null!=e.content}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,content:this.content}}};T=nX;var nY=rZ.union([rZ.string(),rZ.instanceof(Uint8Array),rZ.instanceof(ArrayBuffer),rZ.custom(e=>{var t,r;return null!=(r=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&r},{message:"Must be a Buffer"})]);function nQ(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)try{return function(e){let t=eH(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}(e)}catch(t){throw new nJ({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new nJ({content:e})}var n0="AI_InvalidMessageRoleError",n1=`vercel.ai.error.${n0}`,n2=Symbol.for(n1),n9=class extends F{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:n0,message:t}),this[E]=!0,this.role=e}static isInstance(e){return F.hasMarker(e,n1)}static isInvalidMessageRoleError(e){return e instanceof Error&&e.name===n0&&"string"==typeof e.role}toJSON(){return{name:this.name,message:this.message,stack:this.stack,role:this.role}}};async function n4({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:r=()=>!1,downloadImplementation:n=nH}){let a=await n3(e.messages,n,t,r);return[...null!=e.system?[{role:"system",content:e.system}]:[],...e.messages.map(e=>(function(e,t){let r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":if("string"==typeof e.content)return{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata};return{role:"user",content:e.content.map(e=>(function(e,t){let r,n,a;if("text"===e.type)return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let i=e.mimeType,o=e.type;switch(o){case"image":r=e.image;break;case"file":r=e.data;break;default:throw Error(`Unsupported part type: ${o}`)}try{n="string"==typeof r?new URL(r):r}catch(e){n=r}if(n instanceof URL){if("data:"===n.protocol){let{mimeType:e,base64Content:t}=function(e){try{let[t,r]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:r}}catch(e){return{mimeType:void 0,base64Content:void 0}}}(n.toString());if(null==e||null==t)throw Error(`Invalid data URL format in part ${o}`);i=e,a=nQ(t)}else{let e=t[n.toString()];e?(a=e.data,null!=i||(i=e.mimeType)):a=n}}else a=nQ(n);switch(o){case"image":return null==i&&a instanceof Uint8Array&&(i=function(e){for(let{bytes:t,mimeType:r}of nz)if(e.length>=t.length&&t.every((t,r)=>e[r]===t))return r}(a)),{type:"image",image:a,mimeType:i,providerMetadata:e.experimental_providerMetadata};case"file":var s;if(null==i)throw Error("Mime type is missing for file part");return{type:"file",data:a instanceof Uint8Array?"string"==typeof(s=a)?s:s instanceof ArrayBuffer?ez(new Uint8Array(s)):ez(s):a,mimeType:i,providerMetadata:e.experimental_providerMetadata}}})(e,t)).filter(e=>"text"!==e.type||""!==e.text),providerMetadata:e.experimental_providerMetadata};case"assistant":if("string"==typeof e.content)return{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata};return{role:"assistant",content:e.content.filter(e=>"text"!==e.type||""!==e.text).map(e=>{let{experimental_providerMetadata:t,...r}=e;return{...r,providerMetadata:t}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result,content:e.experimental_content,isError:e.isError,providerMetadata:e.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:throw new n9({role:r})}})(e,a))]}async function n3(e,t,r,n){let a=e.filter(e=>"user"===e.role).map(e=>e.content).filter(e=>Array.isArray(e)).flat().filter(e=>"image"===e.type||"file"===e.type).filter(e=>!("image"===e.type&&!0===r)).map(e=>"image"===e.type?e.image:e.data).map(e=>"string"==typeof e&&(e.startsWith("http:")||e.startsWith("https:"))?new URL(e):e).filter(e=>e instanceof URL).filter(e=>!n(e));return Object.fromEntries((await Promise.all(a.map(async e=>({url:e,data:await t({url:e})})))).map(({url:e,data:t})=>[e.toString(),t]))}E=n2;var n6="AI_InvalidArgumentError",n5=`vercel.ai.error.${n6}`,n7=Symbol.for(n5),n8=class extends F{constructor({parameter:e,value:t,message:r}){super({name:n6,message:`Invalid argument for parameter ${e}: ${r}`}),this[P]=!0,this.parameter=e,this.value=t}static isInstance(e){return F.hasMarker(e,n5)}static isInvalidArgumentError(e){return e instanceof Error&&e.name===n6&&"string"==typeof e.parameter&&"string"==typeof e.value}toJSON(){return{name:this.name,message:this.message,stack:this.stack,parameter:this.parameter,value:this.value}}};P=n7;var ae=rZ.lazy(()=>rZ.union([rZ.null(),rZ.string(),rZ.number(),rZ.boolean(),rZ.record(rZ.string(),ae),rZ.array(ae)])),at=rZ.record(rZ.string(),rZ.record(rZ.string(),ae)),ar=rZ.array(rZ.union([rZ.object({type:rZ.literal("text"),text:rZ.string()}),rZ.object({type:rZ.literal("image"),data:rZ.string(),mimeType:rZ.string().optional()})])),an=rZ.object({type:rZ.literal("text"),text:rZ.string(),experimental_providerMetadata:at.optional()}),aa=rZ.object({type:rZ.literal("image"),image:rZ.union([nY,rZ.instanceof(URL)]),mimeType:rZ.string().optional(),experimental_providerMetadata:at.optional()}),ai=rZ.object({type:rZ.literal("file"),data:rZ.union([nY,rZ.instanceof(URL)]),mimeType:rZ.string(),experimental_providerMetadata:at.optional()}),ao=rZ.object({type:rZ.literal("tool-call"),toolCallId:rZ.string(),toolName:rZ.string(),args:rZ.unknown()}),as=rZ.object({type:rZ.literal("tool-result"),toolCallId:rZ.string(),toolName:rZ.string(),result:rZ.unknown(),content:ar.optional(),isError:rZ.boolean().optional(),experimental_providerMetadata:at.optional()}),au=rZ.object({role:rZ.literal("system"),content:rZ.string(),experimental_providerMetadata:at.optional()}),al=rZ.object({role:rZ.literal("user"),content:rZ.union([rZ.string(),rZ.array(rZ.union([an,aa,ai]))]),experimental_providerMetadata:at.optional()}),ac=rZ.object({role:rZ.literal("assistant"),content:rZ.union([rZ.string(),rZ.array(rZ.union([an,ao]))]),experimental_providerMetadata:at.optional()}),ad=rZ.object({role:rZ.literal("tool"),content:rZ.array(as),experimental_providerMetadata:at.optional()}),ap=rZ.union([au,al,ac,ad]);function af(e){return"object"==typeof e&&null!==e&&("function"===e.role||"data"===e.role||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":"object"==typeof e&&null!==e&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":"object"==typeof e&&null!==e&&"role"in e&&"content"in e&&"string"==typeof e.content&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}var ah="AI_MessageConversionError",am=`vercel.ai.error.${ah}`,ag=Symbol.for(am),ay=class extends F{constructor({originalMessage:e,message:t}){super({name:ah,message:t}),this[O]=!0,this.originalMessage=e}static isInstance(e){return F.hasMarker(e,am)}};O=ag;function av(e,{contentType:t,dataStreamVersion:r}){var n;let a=new Headers(null!=(n=null==e?void 0:e.headers)?n:{});return a.has("Content-Type")||a.set("Content-Type",t),void 0!==r&&a.set("X-Vercel-AI-Data-Stream",r),a}var ab="AI_NoObjectGeneratedError",a_=`vercel.ai.error.${ab}`,aw=Symbol.for(a_),ax=class extends F{constructor({message:e="No object generated."}={}){super({name:ab,message:e}),this[R]=!0}static isInstance(e){return F.hasMarker(e,a_)}static isNoObjectGeneratedError(e){return e instanceof Error&&e.name===ab}toJSON(){return{name:this.name,cause:this.cause,message:this.message,stack:this.stack}}};function aS(e,t){let r=e.pipeThrough(new TransformStream(t));return r[Symbol.asyncIterator]=()=>{let e=r.getReader();return{async next(){let{done:t,value:r}=await e.read();return t?{done:!0,value:void 0}:{done:!1,value:r}}}},r}R=aw;function aT(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}ej({prefix:"aiobj",size:24});function aE(){var e,t;return null!=(t=null==(e=null==globalThis?void 0:globalThis.performance)?void 0:e.now())?t:Date.now()}function aP(e,{contentType:t,dataStreamVersion:r}){let n={};if((null==e?void 0:e.headers)!=null)for(let[t,r]of Object.entries(e.headers))n[t]=r;return null==n["Content-Type"]&&(n["Content-Type"]=t),void 0!==r&&(n["X-Vercel-AI-Data-Stream"]=r),n}function aO({response:e,status:t,statusText:r,headers:n,stream:a}){e.writeHead(null!=t?t:200,r,n);let i=a.getReader();(async()=>{try{for(;;){let{done:t,value:r}=await i.read();if(t)break;e.write(r)}}catch(e){throw e}finally{e.end()}})()}ej({prefix:"aiobj",size:24});var aR="AI_InvalidToolArgumentsError",aA=`vercel.ai.error.${aR}`,ak=Symbol.for(aA),aN=class extends F{constructor({toolArgs:e,toolName:t,cause:r,message:n=`Invalid arguments for tool ${t}: ${W(r)}`}){super({name:aR,message:n,cause:r}),this[A]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return F.hasMarker(e,aA)}static isInvalidToolArgumentsError(e){return e instanceof Error&&e.name===aR&&"string"==typeof e.toolName&&"string"==typeof e.toolArgs}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,toolName:this.toolName,toolArgs:this.toolArgs}}};A=ak;var aC="AI_NoSuchToolError",aI=`vercel.ai.error.${aC}`,aj=Symbol.for(aI),aM=class extends F{constructor({toolName:e,availableTools:t,message:r=`Model tried to call unavailable tool '${e}'. ${void 0===t?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:aC,message:r}),this[k]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return F.hasMarker(e,aI)}static isNoSuchToolError(e){return e instanceof Error&&e.name===aC&&"toolName"in e&&void 0!=e.toolName&&"string"==typeof e.name}toJSON(){return{name:this.name,message:this.message,stack:this.stack,toolName:this.toolName,availableTools:this.availableTools}}};k=aj;var aD=/^([\s\S]*?)(\s+)(\S*)$/;function aL(e,t){let r,n;let a=e.getReader(),i=t.getReader(),o=!1,s=!1;async function u(e){try{null==r&&(r=a.read());let t=await r;r=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}async function l(e){try{null==n&&(n=i.read());let t=await n;n=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}return new ReadableStream({async pull(e){try{if(o){await l(e);return}if(s){await u(e);return}null==r&&(r=a.read()),null==n&&(n=i.read());let{result:t,reader:c}=await Promise.race([r.then(e=>({result:e,reader:a})),n.then(e=>({result:e,reader:i}))]);t.done||e.enqueue(t.value),c===a?(r=void 0,t.done&&(await l(e),o=!0)):(n=void 0,t.done&&(s=!0,await u(e)))}catch(t){e.error(t)}},cancel(){a.cancel(),i.cancel()}})}ej({prefix:"aitxt",size:24});var a$=ej({prefix:"aitxt",size:24});async function aU({model:e,tools:t,toolChoice:r,system:n,prompt:a,messages:i,maxRetries:o,abortSignal:s,headers:u,maxToolRoundtrips:l=0,maxSteps:c=null!=l?l+1:1,experimental_continueSteps:d=!1,experimental_telemetry:p,experimental_providerMetadata:f,experimental_toolCallStreaming:h=!1,experimental_activeTools:m,onChunk:g,onFinish:y,onStepFinish:v,_internal:{now:b=aE,generateId:_=a$,currentDate:w=()=>new Date}={},...x}){if(c<1)throw new n8({parameter:"maxSteps",value:c,message:"maxSteps must be at least 1"});let S=function({model:e,settings:t,telemetry:r,headers:n}){var a;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((e,[t,r])=>(e[`ai.settings.${t}`]=r,e),{}),...Object.entries(null!=(a=null==r?void 0:r.metadata)?a:{}).reduce((e,[t,r])=>(e[`ai.telemetry.metadata.${t}`]=r,e),{}),...Object.entries(null!=n?n:{}).reduce((e,[t,r])=>(void 0!==r&&(e[`ai.request.headers.${t}`]=r),e),{})}}({model:e,telemetry:p,headers:u,settings:{...x,maxRetries:o}}),T=function({isEnabled:e=!1,tracer:t}={}){return e?t||nE.u.getTracer("ai"):nL}(p),E=function({prompt:e,tools:t}){if(null==e.prompt&&null==e.messages)throw new en({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new en({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!=typeof e.system)throw new en({prompt:e,message:"system must be a string"});if(null!=e.prompt){if("string"!=typeof e.prompt)throw new en({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(null!=e.messages){let r=function(e){if(!Array.isArray(e))return"other";if(0===e.length)return"messages";let t=e.map(af);return t.some(e=>"has-ui-specific-parts"===e)?"ui-messages":t.every(e=>"has-core-specific-parts"===e||"message"===e)?"messages":"other"}(e.messages);if("other"===r)throw new en({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let n="ui-messages"===r?function(e,t){var r;let n=null!=(r=null==t?void 0:t.tools)?r:{},a=[];for(let t of e){let{role:e,content:r,toolInvocations:i,experimental_attachments:o}=t;switch(e){case"system":a.push({role:"system",content:r});break;case"user":a.push({role:"user",content:o?[{type:"text",text:r},...function(e){var t,r,n;let a=[];for(let i of e){let e;try{e=new URL(i.url)}catch(e){throw Error(`Invalid URL: ${i.url}`)}switch(e.protocol){case"http:":case"https:":if(null==(t=i.contentType)?void 0:t.startsWith("image/"))a.push({type:"image",image:e});else{if(!i.contentType)throw Error("If the attachment is not an image, it must specify a content type");a.push({type:"file",data:e,mimeType:i.contentType})}break;case"data:":{let e,t,o;try{[e,t]=i.url.split(","),o=e.split(";")[0].split(":")[1]}catch(e){throw Error(`Error processing data URL: ${i.url}`)}if(null==o||null==t)throw Error(`Invalid data URL format: ${i.url}`);if(null==(r=i.contentType)?void 0:r.startsWith("image/"))a.push({type:"image",image:nQ(t)});else if(null==(n=i.contentType)?void 0:n.startsWith("text/"))a.push({type:"text",text:function(e){try{return new TextDecoder().decode(e)}catch(e){throw Error("Error decoding Uint8Array to text")}}(nQ(t))});else{if(!i.contentType)throw Error("If the attachment is not an image or text, it must specify a content type");a.push({type:"file",data:t,mimeType:i.contentType})}break}default:throw Error(`Unsupported URL protocol: ${e.protocol}`)}}return a}(o)]:r});break;case"assistant":if(null==i){a.push({role:"assistant",content:r});break}a.push({role:"assistant",content:[{type:"text",text:r},...i.map(({toolCallId:e,toolName:t,args:r})=>({type:"tool-call",toolCallId:e,toolName:t,args:r}))]}),a.push({role:"tool",content:i.map(e=>{if(!("result"in e))throw new ay({originalMessage:t,message:"ToolInvocation must have a result: "+JSON.stringify(e)});let{toolCallId:r,toolName:a,result:i}=e,o=n[a];return(null==o?void 0:o.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:r,toolName:a,result:o.experimental_toToolResultContent(i),experimental_content:o.experimental_toToolResultContent(i)}:{type:"tool-result",toolCallId:r,toolName:a,result:i}})});break;case"function":case"data":case"tool":break;default:throw new ay({originalMessage:t,message:`Unsupported role: ${e}`})}}return a}(e.messages,{tools:t}):e.messages,a=e$({value:n,schema:rZ.array(ap)});if(!a.success)throw new en({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:a.error});return{type:"messages",messages:n,system:e.system}}throw Error("unreachable")}({prompt:{system:n,prompt:a,messages:i},tools:t});return nF({name:"ai.streamText",attributes:nZ({telemetry:p,attributes:{...nD({operationId:"ai.streamText",telemetry:p}),...S,"ai.prompt":{input:()=>JSON.stringify({system:n,prompt:a,messages:i})},"ai.settings.maxSteps":c}}),tracer:T,endWhenDone:!1,fn:async n=>{let a=nj({maxRetries:o}),i=async({responseMessages:n})=>{let i=0===n.length?E.type:"messages",o=await n4({prompt:{type:i,system:E.system,messages:[...E.messages,...n]},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl}),l={type:"regular",...function({tools:e,toolChoice:t,activeTools:r}){return null!=e&&Object.keys(e).length>0?{tools:(null!=r?Object.entries(e).filter(([e])=>r.includes(e)):Object.entries(e)).map(([e,t])=>{let r=t.type;switch(r){case void 0:case"function":return{type:"function",name:e,description:t.description,parameters:nT(t.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:e,id:t.id,args:t.args};default:throw Error(`Unsupported tool type: ${r}`)}}),toolChoice:null==t?{type:"auto"}:"string"==typeof t?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}({tools:t,toolChoice:r,activeTools:m})},{result:{stream:c,warnings:d,rawResponse:g,request:y},doStreamSpan:v,startTimestampMs:_}=await a(()=>nF({name:"ai.streamText.doStream",attributes:nZ({telemetry:p,attributes:{...nD({operationId:"ai.streamText.doStream",telemetry:p}),...S,"ai.prompt.format":{input:()=>i},"ai.prompt.messages":{input:()=>JSON.stringify(o)},"ai.prompt.tools":{input:()=>{var e;return null==(e=l.tools)?void 0:e.map(e=>JSON.stringify(e))}},"ai.prompt.toolChoice":{input:()=>null!=l.toolChoice?JSON.stringify(l.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":x.frequencyPenalty,"gen_ai.request.max_tokens":x.maxTokens,"gen_ai.request.presence_penalty":x.presencePenalty,"gen_ai.request.stop_sequences":x.stopSequences,"gen_ai.request.temperature":x.temperature,"gen_ai.request.top_k":x.topK,"gen_ai.request.top_p":x.topP}}),tracer:T,endWhenDone:!1,fn:async t=>({startTimestampMs:b(),doStreamSpan:t,result:await e.doStream({mode:l,...function({maxTokens:e,temperature:t,topP:r,topK:n,presencePenalty:a,frequencyPenalty:i,stopSequences:o,seed:s,maxRetries:u}){if(null!=e){if(!Number.isInteger(e))throw new n8({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new n8({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(null!=t&&"number"!=typeof t)throw new n8({parameter:"temperature",value:t,message:"temperature must be a number"});if(null!=r&&"number"!=typeof r)throw new n8({parameter:"topP",value:r,message:"topP must be a number"});if(null!=n&&"number"!=typeof n)throw new n8({parameter:"topK",value:n,message:"topK must be a number"});if(null!=a&&"number"!=typeof a)throw new n8({parameter:"presencePenalty",value:a,message:"presencePenalty must be a number"});if(null!=i&&"number"!=typeof i)throw new n8({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(null!=s&&!Number.isInteger(s))throw new n8({parameter:"seed",value:s,message:"seed must be an integer"});if(null!=u){if(!Number.isInteger(u))throw new n8({parameter:"maxRetries",value:u,message:"maxRetries must be an integer"});if(u<0)throw new n8({parameter:"maxRetries",value:u,message:"maxRetries must be >= 0"})}return{maxTokens:e,temperature:null!=t?t:0,topP:r,topK:n,presencePenalty:a,frequencyPenalty:i,stopSequences:null!=o&&o.length>0?o:void 0,seed:s,maxRetries:null!=u?u:2}}(x),inputFormat:i,prompt:o,providerMetadata:f,abortSignal:s,headers:u})})}));return{result:{stream:function({tools:e,generatorStream:t,toolCallStreaming:r,tracer:n,telemetry:a,abortSignal:i}){let o,s=null,u=new ReadableStream({start(e){s=e}}),l={},c=new Set,d=!1;function p(){d&&0===c.size&&(null!=o&&s.enqueue(o),s.close())}let f=new TransformStream({transform(t,u){let d=t.type;switch(d){case"text-delta":case"response-metadata":case"error":u.enqueue(t);break;case"tool-call-delta":r&&(l[t.toolCallId]||(u.enqueue({type:"tool-call-streaming-start",toolCallId:t.toolCallId,toolName:t.toolName}),l[t.toolCallId]=!0),u.enqueue({type:"tool-call-delta",toolCallId:t.toolCallId,toolName:t.toolName,argsTextDelta:t.argsTextDelta}));break;case"tool-call":{let r=t.toolName;if(null==e){s.enqueue({type:"error",error:new aM({toolName:t.toolName})});break}let o=e[r];if(null==o){s.enqueue({type:"error",error:new aM({toolName:t.toolName,availableTools:Object.keys(e)})});break}try{let r=function({toolCall:e,tools:t}){let r=e.toolName;if(null==t)throw new aM({toolName:e.toolName});let n=t[r];if(null==n)throw new aM({toolName:e.toolName,availableTools:Object.keys(t)});let a=nT(n.parameters),i=""===e.args.trim()?e$({value:{},schema:a}):eU({text:e.args,schema:a});if(!1===i.success)throw new aN({toolName:r,toolArgs:e.args,cause:i.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:r,args:i.value}}({toolCall:t,tools:e});if(u.enqueue(r),null!=o.execute){let e=eM();c.add(e),nF({name:"ai.toolCall",attributes:nZ({telemetry:a,attributes:{...nD({operationId:"ai.toolCall",telemetry:a}),"ai.toolCall.name":r.toolName,"ai.toolCall.id":r.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(r.args)}}}),tracer:n,fn:async t=>o.execute(r.args,{abortSignal:i}).then(n=>{s.enqueue({...r,type:"tool-result",result:n}),c.delete(e),p();try{t.setAttributes(nZ({telemetry:a,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(n)}}}))}catch(e){}},t=>{s.enqueue({type:"error",error:t}),c.delete(e),p()})})}}catch(e){s.enqueue({type:"error",error:e})}break}case"finish":var f;o={type:"finish",finishReason:t.finishReason,logprobs:t.logprobs,usage:{promptTokens:(f=t.usage).promptTokens,completionTokens:f.completionTokens,totalTokens:f.promptTokens+f.completionTokens},experimental_providerMetadata:t.providerMetadata};break;default:throw Error(`Unhandled chunk type: ${d}`)}},flush(){d=!0,p()}});return new ReadableStream({start:async e=>Promise.all([t.pipeThrough(f).pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){}})),u.pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){e.close()}}))])})}({tools:t,generatorStream:c,toolCallStreaming:h,tracer:T,telemetry:p,abortSignal:s}),warnings:d,request:null!=y?y:{},rawResponse:g},doStreamSpan:v,startTimestampMs:_}},{result:{stream:l,warnings:P,rawResponse:O,request:R},doStreamSpan:A,startTimestampMs:k}=await i({responseMessages:[]});return new aF({stream:l,warnings:P,rawResponse:O,request:R,onChunk:g,onFinish:y,onStepFinish:v,rootSpan:n,doStreamSpan:A,telemetry:p,startTimestampMs:k,maxSteps:c,continueSteps:d,startStep:i,modelId:e.modelId,now:b,currentDate:w,generateId:_,tools:t})}})}var aF=class{constructor({stream:e,warnings:t,rawResponse:r,request:n,onChunk:a,onFinish:i,onStepFinish:o,rootSpan:s,doStreamSpan:u,telemetry:l,startTimestampMs:c,maxSteps:d,continueSteps:p,startStep:f,modelId:h,now:m,currentDate:g,generateId:y,tools:v}){this.warnings=t,this.rawResponse=r;let{resolve:b,promise:_}=aT();this.usage=_;let{resolve:w,promise:x}=aT();this.finishReason=x;let{resolve:S,promise:T}=aT();this.text=T;let{resolve:E,promise:P}=aT();this.toolCalls=P;let{resolve:O,promise:R}=aT();this.toolResults=R;let{resolve:A,promise:k}=aT();this.steps=k;let{resolve:N,promise:C}=aT();this.experimental_providerMetadata=C;let{resolve:I,promise:j}=aT();this.request=j;let{resolve:M,promise:D}=aT();this.response=D;let{resolve:L,promise:$}=aT();this.responseMessages=$;let{stream:U,addStream:F,close:Z}=function(){let e=[],t=null,r=!1,n=async()=>{if(r&&0===e.length){null==t||t.close();return}if(0!==e.length)try{let{value:a,done:i}=await e[0].read();i?(e.shift(),e.length>0?await n():r&&(null==t||t.close())):null==t||t.enqueue(a)}catch(n){null==t||t.error(n),e.shift(),r&&0===e.length&&(null==t||t.close())}};return{stream:new ReadableStream({start(e){t=e},pull:n,async cancel(){for(let t of e)await t.cancel();e=[],r=!0}}),addStream:t=>{if(r)throw Error("Cannot add inner stream: outer stream is closed");e.push(t.getReader())},close:()=>{r=!0,0===e.length&&(null==t||t.close())}}}();this.originalStream=U;let B=[],q=this;!function e({stream:n,startTimestamp:u,doStreamSpan:c,currentStep:_,responseMessages:x,usage:T={promptTokens:0,completionTokens:0,totalTokens:0},stepType:P,previousStepText:R="",stepRequest:k,hasLeadingWhitespace:C}){let j,D;let $=[],U=[],G="unknown",V={promptTokens:0,completionTokens:0,totalTokens:0},H=!0,z="",K="continue"===P?R:"",W={id:y(),timestamp:g(),modelId:h},X="",J=!1,Y=!0,Q=!1;async function ee({controller:e,chunk:t}){e.enqueue(t),z+=t.textDelta,K+=t.textDelta,J=!0,Q=t.textDelta.trimEnd()!==t.textDelta,await (null==a?void 0:a({chunk:t}))}F(n.pipeThrough(new TransformStream({async transform(e,t){var r,n,i;if(H){let e=m()-u;H=!1,c.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":e,"ai.stream.msToFirstChunk":e}),c.setAttributes({"ai.response.msToFirstChunk":e,"ai.stream.msToFirstChunk":e})}if("text-delta"===e.type&&0===e.textDelta.length)return;let o=e.type;switch(o){case"text-delta":if(p){let r=Y&&C?e.textDelta.trimStart():e.textDelta;if(0===r.length)break;Y=!1;let n=function(e){let t=e.match(aD);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}(X+=r);null!=n&&(X=n.suffix,await ee({controller:t,chunk:{type:"text-delta",textDelta:n.prefix+n.whitespace}}))}else await ee({controller:t,chunk:e});break;case"tool-call":t.enqueue(e),$.push(e),await (null==a?void 0:a({chunk:e}));break;case"tool-result":t.enqueue(e),U.push(e),await (null==a?void 0:a({chunk:e}));break;case"response-metadata":W={id:null!=(r=e.id)?r:W.id,timestamp:null!=(n=e.timestamp)?n:W.timestamp,modelId:null!=(i=e.modelId)?i:W.modelId};break;case"finish":{V=e.usage,G=e.finishReason,j=e.experimental_providerMetadata,D=e.logprobs;let t=m()-u;c.addEvent("ai.stream.finish"),c.setAttributes({"ai.response.msToFinish":t,"ai.response.avgCompletionTokensPerSecond":1e3*V.completionTokens/t});break}case"tool-call-streaming-start":case"tool-call-delta":t.enqueue(e),await (null==a?void 0:a({chunk:e}));break;case"error":t.enqueue(e),G="error";break;default:throw Error(`Unknown chunk type: ${o}`)}},async flush(n){var a;let u=$.length>0?JSON.stringify($):void 0,h="done";_+1<d&&(p&&"length"===G&&0===$.length?h="continue":$.length>0&&U.length===$.length&&(h="tool-result")),p&&X.length>0&&("continue"!==h||"continue"===P&&!J)&&(await ee({controller:n,chunk:{type:"text-delta",textDelta:X}}),X="");try{c.setAttributes(nZ({telemetry:l,attributes:{"ai.response.finishReason":G,"ai.response.text":{output:()=>z},"ai.response.toolCalls":{output:()=>u},"ai.response.id":W.id,"ai.response.model":W.modelId,"ai.response.timestamp":W.timestamp.toISOString(),"ai.usage.promptTokens":V.promptTokens,"ai.usage.completionTokens":V.completionTokens,"ai.finishReason":G,"ai.result.text":{output:()=>z},"ai.result.toolCalls":{output:()=>u},"gen_ai.response.finish_reasons":[G],"gen_ai.response.id":W.id,"gen_ai.response.model":W.modelId,"gen_ai.usage.input_tokens":V.promptTokens,"gen_ai.usage.output_tokens":V.completionTokens}}))}catch(e){}finally{c.end()}if(n.enqueue({type:"step-finish",finishReason:G,usage:V,experimental_providerMetadata:j,logprobs:D,response:{...W},isContinued:"continue"===h}),"continue"===P){let e=x[x.length-1];"string"==typeof e.content?e.content+=z:e.content.push({text:z,type:"text"})}else x.push(...function({text:e="",tools:t,toolCalls:r,toolResults:n}){let a=[];return a.push({role:"assistant",content:[{type:"text",text:e},...r]}),n.length>0&&a.push({role:"tool",content:n.map(e=>{let r=t[e.toolName];return(null==r?void 0:r.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:r.experimental_toToolResultContent(e.result),experimental_content:r.experimental_toToolResultContent(e.result)}:{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result}})}),a}({text:z,tools:null!=v?v:{},toolCalls:$,toolResults:U}));let m={stepType:P,text:z,toolCalls:$,toolResults:U,finishReason:G,usage:V,warnings:q.warnings,logprobs:D,request:k,rawResponse:q.rawResponse,response:{...W,headers:null==(a=q.rawResponse)?void 0:a.headers,messages:JSON.parse(JSON.stringify(x))},experimental_providerMetadata:j,isContinued:"continue"===h};B.push(m),await (null==o?void 0:o(m));let g={promptTokens:T.promptTokens+V.promptTokens,completionTokens:T.completionTokens+V.completionTokens,totalTokens:T.totalTokens+V.totalTokens};if("done"!==h){let{result:t,doStreamSpan:r,startTimestampMs:n}=await f({responseMessages:x});q.warnings=t.warnings,q.rawResponse=t.rawResponse,e({stream:t.stream,startTimestamp:n,doStreamSpan:r,currentStep:_+1,responseMessages:x,usage:g,stepType:h,previousStepText:K,stepRequest:t.request,hasLeadingWhitespace:Q});return}try{n.enqueue({type:"finish",finishReason:G,usage:g,experimental_providerMetadata:j,logprobs:D,response:{...W}}),Z(),s.setAttributes(nZ({telemetry:l,attributes:{"ai.response.finishReason":G,"ai.response.text":{output:()=>K},"ai.response.toolCalls":{output:()=>u},"ai.usage.promptTokens":g.promptTokens,"ai.usage.completionTokens":g.completionTokens,"ai.finishReason":G,"ai.result.text":{output:()=>K},"ai.result.toolCalls":{output:()=>u}}})),b(g),w(G),S(K),E($),N(j),O(U),I(k),M({...W,headers:null==r?void 0:r.headers,messages:x}),A(B),L(x),await (null==i?void 0:i({finishReason:G,logprobs:D,usage:g,text:K,toolCalls:$,toolResults:U,request:k,rawResponse:r,response:{...W,headers:null==r?void 0:r.headers,messages:x},warnings:t,experimental_providerMetadata:j,steps:B,responseMessages:x}))}catch(e){n.error(e)}finally{s.end()}}})))}({stream:e,startTimestamp:c,doStreamSpan:u,currentStep:0,responseMessages:[],usage:void 0,stepType:"initial",stepRequest:n,hasLeadingWhitespace:!1})}teeStream(){let[e,t]=this.originalStream.tee();return this.originalStream=t,e}get textStream(){return aS(this.teeStream(),{transform(e,t){"text-delta"===e.type?t.enqueue(e.textDelta):"error"===e.type&&t.error(e.error)}})}get fullStream(){return aS(this.teeStream(),{transform(e,t){t.enqueue(e)}})}toAIStream(e={}){return this.toDataStreamInternal({callbacks:e})}toDataStreamInternal({callbacks:e={},getErrorMessage:t=()=>"",sendUsage:r=!0}={}){let n="",a=new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(t,r){if(r.enqueue(t),"text-delta"===t.type){let r=t.textDelta;n+=r,e.onToken&&await e.onToken(r),e.onText&&await e.onText(r)}},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}}),i=new TransformStream({transform:async(e,n)=>{let a=e.type;switch(a){case"text-delta":n.enqueue(nx("text",e.textDelta));break;case"tool-call-streaming-start":n.enqueue(nx("tool_call_streaming_start",{toolCallId:e.toolCallId,toolName:e.toolName}));break;case"tool-call-delta":n.enqueue(nx("tool_call_delta",{toolCallId:e.toolCallId,argsTextDelta:e.argsTextDelta}));break;case"tool-call":n.enqueue(nx("tool_call",{toolCallId:e.toolCallId,toolName:e.toolName,args:e.args}));break;case"tool-result":n.enqueue(nx("tool_result",{toolCallId:e.toolCallId,result:e.result}));break;case"error":n.enqueue(nx("error",t(e.error)));break;case"step-finish":n.enqueue(nx("finish_step",{finishReason:e.finishReason,usage:r?{promptTokens:e.usage.promptTokens,completionTokens:e.usage.completionTokens}:void 0,isContinued:e.isContinued}));break;case"finish":n.enqueue(nx("finish_message",{finishReason:e.finishReason,usage:r?{promptTokens:e.usage.promptTokens,completionTokens:e.usage.completionTokens}:void 0}));break;default:throw Error(`Unknown chunk type: ${a}`)}}});return this.fullStream.pipeThrough(a).pipeThrough(i).pipeThrough(new TextEncoderStream)}pipeAIStreamToResponse(e,t){return this.pipeDataStreamToResponse(e,t)}pipeDataStreamToResponse(e,t){let r=null==t?void 0:"init"in t?t.init:{headers:"headers"in t?t.headers:void 0,status:"status"in t?t.status:void 0,statusText:"statusText"in t?t.statusText:void 0},n=null==t?void 0:"data"in t?t.data:void 0,a=null==t?void 0:"getErrorMessage"in t?t.getErrorMessage:void 0,i=null==t?void 0:"sendUsage"in t?t.sendUsage:void 0;aO({response:e,status:null==r?void 0:r.status,statusText:null==r?void 0:r.statusText,headers:aP(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:n,getErrorMessage:a,sendUsage:i})})}pipeTextStreamToResponse(e,t){aO({response:e,status:null==t?void 0:t.status,statusText:null==t?void 0:t.statusText,headers:aP(t,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toAIStreamResponse(e){return this.toDataStreamResponse(e)}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:null==e?void 0:e.getErrorMessage,sendUsage:null==e?void 0:e.sendUsage});return(null==e?void 0:e.data)?aL(null==e?void 0:e.data.stream,t):t}toDataStreamResponse(e){var t;let r=null==e?void 0:"init"in e?e.init:{headers:"headers"in e?e.headers:void 0,status:"status"in e?e.status:void 0,statusText:"statusText"in e?e.statusText:void 0},n=null==e?void 0:"data"in e?e.data:void 0,a=null==e?void 0:"getErrorMessage"in e?e.getErrorMessage:void 0,i=null==e?void 0:"sendUsage"in e?e.sendUsage:void 0;return new Response(this.toDataStream({data:n,getErrorMessage:a,sendUsage:i}),{status:null!=(t=null==r?void 0:r.status)?t:200,statusText:null==r?void 0:r.statusText,headers:av(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:null!=(t=null==e?void 0:e.status)?t:200,headers:av(e,{contentType:"text/plain; charset=utf-8"})})}},aZ="AI_NoSuchProviderError",aB=`vercel.ai.error.${aZ}`;function aq(e){let t=new TextEncoder,r="",n=e||{};return new TransformStream({async start(){n.onStart&&await n.onStart()},async transform(e,a){let i="string"==typeof e?e:e.content;a.enqueue(t.encode(i)),r+=i,n.onToken&&await n.onToken(i),n.onText&&"string"==typeof e&&await n.onText(e)},async flush(){let e="experimental_onFunctionCall"in n;n.onCompletion&&await n.onCompletion(r),n.onFinal&&!e&&await n.onFinal(r)}})}N=Symbol.for(aB);function aG(){let e=new TextEncoder,t=new TextDecoder;return new TransformStream({transform:async(r,n)=>{let a=t.decode(r);n.enqueue(e.encode(nx("text",a)))}})}new TextDecoder("utf-8");function aV(e,t){return aH(e,t)}function aH(e,t){return e.pipeThrough(new TransformStream({transform:async(e,t)=>{var r;if("string"==typeof e){t.enqueue(e);return}if("event"in e){"on_chat_model_stream"===e.event&&aK(null==(r=e.data)?void 0:r.chunk,t);return}aK(e,t)}})).pipeThrough(aq(t)).pipeThrough(aG())}function az(e,t){var r;let n=aH(e,null==t?void 0:t.callbacks),a=null==t?void 0:t.data,i=null==t?void 0:t.init;return new Response(a?aL(a.stream,n):n,{status:null!=(r=null==i?void 0:i.status)?r:200,statusText:null==i?void 0:i.statusText,headers:av(i,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function aK(e,t){if("string"==typeof e.content)t.enqueue(e.content);else for(let r of e.content)"text"===r.type&&t.enqueue(r.text)}function aW(e,t){return(function(e){let t;let r=e[Symbol.asyncIterator](),n=(t=!0,e=>(t&&(e=e.trimStart())&&(t=!1),e));return new ReadableStream({async pull(e){var t;let{value:a,done:i}=await r.next();if(i){e.close();return}let o=n(null!=(t=a.delta)?t:"");o&&e.enqueue(o)}})})(e).pipeThrough(aq(t)).pipeThrough(aG())}function aX(e,t={}){var r;let{init:n,data:a,callbacks:i}=t,o=aW(e,i);return new Response(a?aL(a.stream,o):o,{status:null!=(r=null==n?void 0:n.status)?r:200,statusText:null==n?void 0:n.statusText,headers:av(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}nR({},{toAIStream:()=>aV,toDataStream:()=>aH,toDataStreamResponse:()=>az}),nR({},{toDataStream:()=>aW,toDataStreamResponse:()=>aX});function aJ(e){if(null!=e&&"object"==typeof e&&"object"===e.type&&(null==e.properties||0===Object.keys(e.properties).length))return;if("boolean"==typeof e)return{type:"boolean",properties:{}};let{type:t,description:r,required:n,properties:a,items:i,allOf:o,anyOf:s,oneOf:u,format:l,const:c,minLength:d}=e,p={};return r&&(p.description=r),n&&(p.required=n),l&&(p.format=l),void 0!==c&&(p.enum=[c]),t&&(Array.isArray(t)?t.includes("null")?(p.type=t.filter(e=>"null"!==e)[0],p.nullable=!0):p.type=t:"null"===t?p.type="null":p.type=t),null!=a&&(p.properties=Object.entries(a).reduce((e,[t,r])=>(e[t]=aJ(r),e),{})),i&&(p.items=Array.isArray(i)?i.map(aJ):aJ(i)),o&&(p.allOf=o.map(aJ)),s&&(p.anyOf=s.map(aJ)),u&&(p.oneOf=u.map(aJ)),void 0!==d&&(p.minLength=d),p}function aY(e){return e.includes("/")?e:`models/${e}`}Symbol("internal_openai_fn_messages"),Response;var aQ=(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{let o=await n.text(),s=eI(n);if(""===o.trim())return{responseHeaders:s,value:new G({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let u=function({text:e,schema:t}){try{let r=D.parse(e);if(null==t)return r;return function({value:e,schema:t}){let r=e$({value:e,schema:t});if(!r.success)throw eS.wrap({value:e,cause:r.error});return r.value}({value:r,schema:t})}catch(t){if(es.isJSONParseError(t)||eS.isTypeValidationError(t))throw t;throw new es({text:e,cause:t})}}({text:o,schema:e});return{responseHeaders:s,value:new G({message:t(u),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:u,isRetryable:null==r?void 0:r(n,u)})}}catch(e){return{responseHeaders:s,value:new G({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}})({errorSchema:rZ.object({error:rZ.object({code:rZ.number().nullable(),message:rZ.string(),status:rZ.string()})}),errorToMessage:e=>e.error.message});function a0({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"RECITATION":case"SAFETY":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";default:return"unknown"}}var a1=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=r}get supportsObjectGeneration(){return!1!==this.settings.structuredOutputs}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:a,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:u,responseFormat:l,seed:c}){var d;let p=e.type,f=[];null!=c&&f.push({type:"unsupported-setting",setting:"seed"});let h={maxOutputTokens:r,temperature:n,topK:null!=i?i:this.settings.topK,topP:a,frequencyPenalty:o,presencePenalty:s,stopSequences:u,responseMimeType:(null==l?void 0:l.type)==="json"?"application/json":void 0,responseSchema:(null==l?void 0:l.type)==="json"&&null!=l.schema&&this.supportsObjectGeneration?aJ(l.schema):void 0},{contents:m,systemInstruction:g}=function(e){var t,r;let n=[],a=[],i=!0;for(let{role:o,content:s}of e)switch(o){case"system":if(!i)throw new eO({functionality:"system messages are only supported at the beginning of the conversation"});n.push({text:s});break;case"user":{i=!1;let e=[];for(let n of s)switch(n.type){case"text":e.push({text:n.text});break;case"image":e.push(n.image instanceof URL?{fileData:{mimeType:null!=(t=n.mimeType)?t:"image/jpeg",fileUri:n.image.toString()}}:{inlineData:{mimeType:null!=(r=n.mimeType)?r:"image/jpeg",data:ez(n.image)}});break;case"file":e.push(n.data instanceof URL?{fileData:{mimeType:n.mimeType,fileUri:n.data.toString()}}:{inlineData:{mimeType:n.mimeType,data:n.data}});break;default:throw new eO({functionality:`prompt part: ${n}`})}a.push({role:"user",parts:e});break}case"assistant":i=!1,a.push({role:"model",parts:s.map(e=>{switch(e.type){case"text":return 0===e.text.length?void 0:{text:e.text};case"tool-call":return{functionCall:{name:e.toolName,args:e.args}}}}).filter(e=>void 0!==e)});break;case"tool":i=!1,a.push({role:"user",parts:s.map(e=>({functionResponse:{name:e.toolName,response:e.result}}))});break;default:throw Error(`Unsupported role: ${o}`)}return{systemInstruction:n.length>0?{parts:n}:void 0,contents:a}}(t);switch(p){case"regular":{let{tools:t,toolConfig:r,toolWarnings:n}=function(e){var t,r;let n=(null==(t=e.tools)?void 0:t.length)?e.tools:void 0,a=[];if(null==n)return{tools:void 0,toolConfig:void 0,toolWarnings:a};let i=[];for(let e of n)"provider-defined"===e.type?a.push({type:"unsupported-tool",tool:e}):i.push({name:e.name,description:null!=(r=e.description)?r:"",parameters:aJ(e.parameters)});let o=e.toolChoice;if(null==o)return{tools:{functionDeclarations:i},toolConfig:void 0,toolWarnings:a};let s=o.type;switch(s){case"auto":return{tools:{functionDeclarations:i},toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:a};case"none":return{tools:{functionDeclarations:i},toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:a};case"required":return{tools:{functionDeclarations:i},toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:a};case"tool":return{tools:{functionDeclarations:i},toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[o.toolName]}},toolWarnings:a};default:throw new eO({functionality:`Unsupported tool choice type: ${s}`})}}(e);return{args:{generationConfig:h,contents:m,systemInstruction:g,safetySettings:this.settings.safetySettings,tools:t,toolConfig:r,cachedContent:this.settings.cachedContent},warnings:[...f,...n]}}case"object-json":return{args:{generationConfig:{...h,responseMimeType:"application/json",responseSchema:null!=e.schema&&this.supportsObjectGeneration?aJ(e.schema):void 0},contents:m,systemInstruction:g,safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:f};case"object-tool":return{args:{generationConfig:h,contents:m,tools:{functionDeclarations:[{name:e.tool.name,description:null!=(d=e.tool.description)?d:"",parameters:aJ(e.tool.parameters)}]},toolConfig:{functionCallingConfig:{mode:"ANY"}},safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:f};default:throw Error(`Unsupported type: ${p}`)}}supportsUrl(e){return e.toString().startsWith("https://generativelanguage.googleapis.com/v1beta/files/")}async doGenerate(e){var t,r;let{args:n,warnings:a}=await this.getArgs(e),i=JSON.stringify(n),{responseHeaders:o,value:s}=await eZ({url:`${this.config.baseURL}/${aY(this.modelId)}:generateContent`,headers:eC(this.config.headers(),e.headers),body:n,failedResponseHandler:aQ,successfulResponseHandler:eG(a3),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:u,...l}=n,c=s.candidates[0],d=a2({parts:c.content.parts,generateId:this.config.generateId}),p=s.usageMetadata;return{text:a9(c.content.parts),toolCalls:d,finishReason:a0({finishReason:c.finishReason,hasToolCalls:null!=d&&d.length>0}),usage:{promptTokens:null!=(t=null==p?void 0:p.promptTokenCount)?t:NaN,completionTokens:null!=(r=null==p?void 0:p.candidatesTokenCount)?r:NaN},rawCall:{rawPrompt:u,rawSettings:l},rawResponse:{headers:o},warnings:a,request:{body:i}}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),n=JSON.stringify(t),{responseHeaders:a,value:i}=await eZ({url:`${this.config.baseURL}/${aY(this.modelId)}:streamGenerateContent?alt=sse`,headers:eC(this.config.headers(),e.headers),body:t,failedResponseHandler:aQ,successfulResponseHandler:eq(a6),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:o,...s}=t,u="unknown",l={promptTokens:Number.NaN,completionTokens:Number.NaN},c=this.config.generateId,d=!1;return{stream:i.pipeThrough(new TransformStream({transform(e,t){var r,n;if(!e.success){t.enqueue({type:"error",error:e.error});return}let a=e.value,i=a.candidates[0];(null==i?void 0:i.finishReason)!=null&&(u=a0({finishReason:i.finishReason,hasToolCalls:d}));let o=a.usageMetadata;null!=o&&(l={promptTokens:null!=(r=o.promptTokenCount)?r:NaN,completionTokens:null!=(n=o.candidatesTokenCount)?n:NaN});let s=i.content;if(null==s)return;let p=a9(s.parts);null!=p&&t.enqueue({type:"text-delta",textDelta:p});let f=a2({parts:s.parts,generateId:c});if(null!=f)for(let e of f)t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,argsTextDelta:e.args}),t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,args:e.args}),d=!0},flush(e){e.enqueue({type:"finish",finishReason:u,usage:l})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:a},warnings:r,request:{body:n}}}};function a2({parts:e,generateId:t}){let r=e.filter(e=>"functionCall"in e);return 0===r.length?void 0:r.map(e=>({toolCallType:"function",toolCallId:t(),toolName:e.functionCall.name,args:JSON.stringify(e.functionCall.args)}))}function a9(e){let t=e.filter(e=>"text"in e);return 0===t.length?void 0:t.map(e=>e.text).join("")}var a4=rZ.object({role:rZ.string(),parts:rZ.array(rZ.union([rZ.object({text:rZ.string()}),rZ.object({functionCall:rZ.object({name:rZ.string(),args:rZ.unknown()})})]))}),a3=rZ.object({candidates:rZ.array(rZ.object({content:a4,finishReason:rZ.string().optional()})),usageMetadata:rZ.object({promptTokenCount:rZ.number(),candidatesTokenCount:rZ.number().nullish(),totalTokenCount:rZ.number()}).optional()}),a6=rZ.object({candidates:rZ.array(rZ.object({content:a4.optional(),finishReason:rZ.string().optional()})),usageMetadata:rZ.object({promptTokenCount:rZ.number(),candidatesTokenCount:rZ.number().nullish(),totalTokenCount:rZ.number()}).optional()}),a5=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){return 2048}get supportsParallelCalls(){return!0}async doEmbed({values:e,headers:t,abortSignal:r}){if(e.length>this.maxEmbeddingsPerCall)throw new eb({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:n,value:a}=await eZ({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:eC(this.config.headers(),t),body:{requests:e.map(e=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:e}]},outputDimensionality:this.settings.outputDimensionality}))},failedResponseHandler:aQ,successfulResponseHandler:eG(a7),abortSignal:r,fetch:this.config.fetch});return{embeddings:a.embeddings.map(e=>e.values),usage:void 0,rawResponse:{headers:n}}}},a7=rZ.object({embeddings:rZ.array(rZ.object({values:rZ.array(rZ.number())}))});function a8(e={}){var t,r,n;let a=null!=(r=null==(n=null!=(t=e.baseURL)?t:e.baseUrl)?void 0:n.replace(/\/$/,""))?r:"https://generativelanguage.googleapis.com/v1beta",i=()=>({"x-goog-api-key":function({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new ed({message:`${n} API key must be a string.`});if("undefined"==typeof process)throw new ed({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[t]))throw new ed({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new ed({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers}),o=(t,r={})=>{var n;return new a1(t,r,{provider:"google.generative-ai",baseURL:a,headers:i,generateId:null!=(n=e.generateId)?n:eM,fetch:e.fetch})},s=(t,r={})=>new a5(t,r,{provider:"google.generative-ai",baseURL:a,headers:i,fetch:e.fetch}),u=function(e,t){if(new.target)throw Error("The Google Generative AI model function cannot be called with the new keyword.");return o(e,t)};return u.languageModel=o,u.chat=o,u.generativeAI=o,u.embedding=s,u.textEmbedding=s,u.textEmbeddingModel=s,u}a8();let ie={role:"system",content:`You are an AI assistant for SQR, a platform specializing in recruitment, hiring solutions, and career development. Here are the key features and offerings of SQR:
  
    **Key Features Include:**
    - **Efficient Job Matching**: AI-powered matching to connect job seekers with relevant opportunities.
    - **Seamless Hiring Process**: End-to-end recruitment solutions for hiring managers and businesses.
    - **Candidate Engagement Tools**: Improve communication and retention for top talent.
    - **Quality Talent Acquisition**: Advanced screening and vetting to ensure top-quality hires.
    - **Career Growth Resources**: Guidance and tools to help job seekers enhance their careers.
    - **Transparent Hiring**: Data-driven insights to improve hiring decisions.
  
    **Our Services:**
    - **For Job Seekers**: Access to a wide range of job listings, resume-building tools, and career guidance.
    - **For Hiring Managers**: AI-driven candidate recommendations, automated screening, and seamless interview scheduling.
    - **For Companies**: Tailored recruitment strategies, employer branding solutions, and workforce analytics.
    - **Partnership Opportunities**: Collaborate with SQR to improve hiring efficiency and access premium talent.
  
    **Our Core Values:**
    - **Integrity**: Committed to fair and ethical hiring practices.
    - **Customer Commitment**: Dedicated to providing the best job search and hiring experience.
    - **Quality & Transparency**: Ensuring high standards in recruitment and career development.
  
    **Answer user queries about SQR's features, services, pricing, and capabilities only.** Do not answer questions unrelated to SQR. If a question is outside this scope, respond with:
  
    *"I'm sorry, I can only answer questions related to SQR, its features, hiring solutions, and career development. Please visit our website for more information."*
  
    **Please format responses using Markdown.** Use **bold**, *italics*, \`code\`, lists, and other Markdown features where appropriate. Ensure responses are structured, clear, and easy to read.
    `};var it=r(1520);if(!process.env.GOOGLE_API_KEY)throw Error("GOOGLE_API_KEY is missing. Set it in your .env file.");let ir=a8({apiKey:"AIzaSyBG3FOG2p3nsxVYw1tZcYYAXsGxNiGmDDU"}),ia=e=>[{id:eM(),role:"user",content:ie.content},...e.map(e=>({id:e.id||eM(),role:e.role,content:e.content}))];async function ii(e){try{let{messages:t}=await e.json();if(!Array.isArray(t))return it.NextResponse.json({error:"Invalid request. 'messages' must be an array."},{status:400});let r=await aU({model:ir("gemini-2.0-flash"),messages:ia(t),temperature:.7});if(!r)return it.NextResponse.json({error:"Failed to generate AI response."},{status:500});return r.toDataStreamResponse()}catch(e){return it.NextResponse.json({error:e.message},{status:500})}}let io=new I.AppRouteRouteModule({definition:{kind:j.RouteKind.APP_ROUTE,page:"/api/gemini/route",pathname:"/api/gemini",filename:"route",bundlePath:"app/api/gemini/route"},resolvedPagePath:"/Users/saralask/Desktop/SquareResults/Prototype2/futuristic-interactive-showcase/app/api/gemini/route.ts",nextConfigOutput:"",userland:C}),{workAsyncStorage:is,workUnitAsyncStorage:iu,serverHooks:il}=io;function ic(){return(0,M.patchFetch)({workAsyncStorage:is,workUnitAsyncStorage:iu})}},6487:()=>{},8335:()=>{},4357:(e,t,r)=>{"use strict";r.d(t,{_:()=>f});var n=r(4217),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},i=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},o=function(){function e(){}return e.prototype.active=function(){return n.l},e.prototype.with=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];return t.call.apply(t,i([r],a(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),s=r(7286),u=r(9362),l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},c=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},d="context",p=new o,f=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,s.$G)(d,e,u.K.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return(n=this._getContextManager()).with.apply(n,c([e,t,r],l(a),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,s.mS)(d)||p},e.prototype.disable=function(){this._getContextManager().disable(),(0,s.kv)(d,u.K.instance())},e}()},9362:(e,t,r)=>{"use strict";r.d(t,{K:()=>d});var n=r(7286),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},i=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},o=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s("verbose",this._namespace,e)},e}();function s(e,t,r){var o=(0,n.mS)("diag");if(o)return r.unshift(t),o[e].apply(o,i([],a(r),!1))}var u=r(5733),l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},c=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},d=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=(0,n.mS)("diag");if(a)return a[e].apply(a,c([],l(t),!1))}}var t=this;t.setLogger=function(e,r){if(void 0===r&&(r={logLevel:u.u.INFO}),e===t){var a,i,o,s=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(a=s.stack)&&void 0!==a?a:s.message),!1}"number"==typeof r&&(r={logLevel:r});var l=(0,n.mS)("diag"),c=function(e,t){function r(r,n){var a=t[r];return"function"==typeof a&&e>=n?a.bind(t):function(){}}return e<u.u.NONE?e=u.u.NONE:e>u.u.ALL&&(e=u.u.ALL),t=t||{},{error:r("error",u.u.ERROR),warn:r("warn",u.u.WARN),info:r("info",u.u.INFO),debug:r("debug",u.u.DEBUG),verbose:r("verbose",u.u.VERBOSE)}}(null!==(i=r.logLevel)&&void 0!==i?i:u.u.INFO,e);if(l&&!r.suppressOverrideMessage){var d=null!==(o=Error().stack)&&void 0!==o?o:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+d),c.warn("Current logger will overwrite one already registered from "+d)}return(0,n.$G)("diag",c,t,!0)},t.disable=function(){(0,n.kv)("diag",t)},t.createComponentLogger=function(e){return new o(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},4217:(e,t,r)=>{"use strict";function n(e){return Symbol.for(e)}r.d(t,{l:()=>a,n:()=>n});var a=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var a=new e(r._currentContext);return a._currentContext.set(t,n),a},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}},5733:(e,t,r)=>{"use strict";var n;r.d(t,{u:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}))},2078:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>g,DiagLogLevel:()=>y.u,INVALID_SPANID:()=>J.w9,INVALID_SPAN_CONTEXT:()=>J.dM,INVALID_TRACEID:()=>J.RH,ProxyTracer:()=>F.y,ProxyTracerProvider:()=>Z.n,ROOT_CONTEXT:()=>h.l,SamplingDecision:()=>a,SpanKind:()=>i,SpanStatusCode:()=>B.s,TraceFlags:()=>q.X,ValueType:()=>n,baggageEntryMetadataFromString:()=>f,context:()=>Q,createContextKey:()=>h.n,createNoopMeter:()=>L,createTraceState:()=>W,default:()=>em,defaultTextMapGetter:()=>$,defaultTextMapSetter:()=>U,diag:()=>ee,isSpanContextValid:()=>X.YA,isValidSpanId:()=>X.wN,isValidTraceId:()=>X.hX,metrics:()=>ea,propagation:()=>ef,trace:()=>eh.u});var n,a,i,o=r(9362),s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=s(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=new e(this._entries);try{for(var o=u(n),s=o.next();!s.done;s=o.next()){var l=s.value;i._entries.delete(l)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}(),c=Symbol("BaggageEntryMetadata"),d=o.K.instance();function p(e){return void 0===e&&(e={}),new l(new Map(Object.entries(e)))}function f(e){return"string"!=typeof e&&(d.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:c,toString:function(){return e}}}var h=r(4217),m=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],g=function(){for(var e=0;e<m.length;e++)this[m[e].n]=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}(m[e].c)},y=r(5733),v=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),b=function(){function e(){}return e.prototype.createGauge=function(e,t){return N},e.prototype.createHistogram=function(e,t){return C},e.prototype.createCounter=function(e,t){return k},e.prototype.createUpDownCounter=function(e,t){return I},e.prototype.createObservableGauge=function(e,t){return M},e.prototype.createObservableCounter=function(e,t){return j},e.prototype.createObservableUpDownCounter=function(e,t){return D},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),_=function(){},w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.add=function(e,t){},t}(_),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.add=function(e,t){},t}(_),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.record=function(e,t){},t}(_),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.record=function(e,t){},t}(_),E=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(E),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(E),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(E),A=new b,k=new w,N=new S,C=new T,I=new x,j=new P,M=new O,D=new R;function L(){return A}!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(n||(n={}));var $={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},U={set:function(e,t,r){null!=e&&(e[t]=r)}},F=r(9281),Z=r(9191);(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(a||(a={})),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(i||(i={}));var B=r(916),q=r(3037),G="[_0-9a-z-*/]",V=RegExp("^(?:[a-z]"+G+"{0,255}|"+("[a-z0-9]"+G)+"{0,240}@[a-z]"+G+"{0,13})$"),H=/^[ -~]{0,255}[!-~]$/,z=/,|=/,K=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+"="+e.get(r)),t},[]).join(",")},e.prototype._parse=function(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce(function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var a=r.slice(0,n),i=r.slice(n+1,t.length);V.test(a)&&H.test(i)&&!z.test(i)&&e.set(a,i)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function W(e){return new K(e)}var X=r(4075),J=r(440),Y=r(4357),Q=Y._.getInstance(),ee=o.K.instance(),et=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return A},e}()),er=r(7286),en="metrics",ea=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,er.$G)(en,e,o.K.instance())},e.prototype.getMeterProvider=function(){return(0,er.mS)(en)||et},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){(0,er.kv)(en,o.K.instance())},e})().getInstance(),ei=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),eo=(0,h.n)("OpenTelemetry Baggage Key");function es(e){return e.getValue(eo)||void 0}function eu(){return es(Y._.getInstance().active())}function el(e,t){return e.setValue(eo,t)}function ec(e){return e.deleteValue(eo)}var ed="propagation",ep=new ei,ef=(function(){function e(){this.createBaggage=p,this.getBaggage=es,this.getActiveBaggage=eu,this.setBaggage=el,this.deleteBaggage=ec}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,er.$G)(ed,e,o.K.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=U),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=$),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,er.kv)(ed,o.K.instance())},e.prototype._getGlobalPropagator=function(){return(0,er.mS)(ed)||ep},e})().getInstance(),eh=r(2944);let em={context:Q,diag:ee,metrics:ea,propagation:ef,trace:eh.u}},7286:(e,t,r)=>{"use strict";r.d(t,{mS:()=>l,$G:()=>u,kv:()=>c});var n="object"==typeof globalThis?globalThis:global,a="1.9.0",i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,o=function(e){var t=new Set([e]),r=new Set,n=e.match(i);if(!n)return function(){return!1};var a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function o(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(i);if(!n)return o(e);var s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=s.prerelease||a.major!==s.major?o(e):0===a.major?a.minor===s.minor&&a.patch<=s.patch?(t.add(e),!0):o(e):a.minor<=s.minor?(t.add(e),!0):o(e)}}(a),s=Symbol.for("opentelemetry.js.api."+a.split(".")[0]);function u(e,t,r,i){void 0===i&&(i=!1);var o,u=n[s]=null!==(o=n[s])&&void 0!==o?o:{version:a};if(!i&&u[e]){var l=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(l.stack||l.message),!1}if(u.version!==a){var l=Error("@opentelemetry/api: Registration of version v"+u.version+" for "+e+" does not match previously registered API v"+a);return r.error(l.stack||l.message),!1}return u[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+a+"."),!0}function l(e){var t,r,a=null===(t=n[s])||void 0===t?void 0:t.version;if(a&&o(a))return null===(r=n[s])||void 0===r?void 0:r[e]}function c(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+a+".");var r=n[s];r&&delete r[e]}},2944:(e,t,r)=>{"use strict";r.d(t,{u:()=>l});var n=r(7286),a=r(9191),i=r(4075),o=r(6183),s=r(9362),u="trace",l=(function(){function e(){this._proxyTracerProvider=new a.n,this.wrapSpanContext=i.IP,this.isSpanContextValid=i.YA,this.deleteSpan=o.EW,this.getSpan=o.fU,this.getActiveSpan=o.Bk,this.getSpanContext=o.w8,this.setSpan=o.Bx,this.setSpanContext=o.g_}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,n.$G)(u,this._proxyTracerProvider,s.K.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,n.mS)(u)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,n.kv)(u,s.K.instance()),this._proxyTracerProvider=new a.n},e})().getInstance()},7144:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(440),a=function(){function e(e){void 0===e&&(e=n.dM),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},5087:(e,t,r)=>{"use strict";r.d(t,{o:()=>u});var n=r(4357),a=r(6183),i=r(7144),o=r(4075),s=n._.getInstance(),u=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=s.active()),null==t?void 0:t.root)return new i.d;var n=r&&(0,a.w8)(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,o.YA)(n)?new i.d(n):new i.d},e.prototype.startActiveSpan=function(e,t,r,n){if(!(arguments.length<2)){2==arguments.length?u=t:3==arguments.length?(i=t,u=r):(i=t,o=r,u=n);var i,o,u,l=null!=o?o:s.active(),c=this.startSpan(e,i,l),d=(0,a.Bx)(l,c);return s.with(d,u,void 0,c)}},e}()},9281:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=new(r(5087)).o,a=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n},e}()},9191:(e,t,r)=>{"use strict";r.d(t,{n:()=>o});var n=r(9281),a=r(5087),i=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new a.o},e}()),o=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var a;return null!==(a=this.getDelegateTracer(e,t,r))&&void 0!==a?a:new n.y(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}()},6183:(e,t,r)=>{"use strict";r.d(t,{Bk:()=>u,Bx:()=>l,EW:()=>c,fU:()=>s,g_:()=>d,w8:()=>p});var n=r(4217),a=r(7144),i=r(4357),o=(0,n.n)("OpenTelemetry Context Key SPAN");function s(e){return e.getValue(o)||void 0}function u(){return s(i._.getInstance().active())}function l(e,t){return e.setValue(o,t)}function c(e){return e.deleteValue(o)}function d(e,t){return l(e,new a.d(t))}function p(e){var t;return null===(t=s(e))||void 0===t?void 0:t.spanContext()}},440:(e,t,r)=>{"use strict";r.d(t,{RH:()=>i,dM:()=>o,w9:()=>a});var n=r(3037),a="0000000000000000",i="00000000000000000000000000000000",o={traceId:i,spanId:a,traceFlags:n.X.NONE}},4075:(e,t,r)=>{"use strict";r.d(t,{IP:()=>c,YA:()=>l,hX:()=>s,wN:()=>u});var n=r(440),a=r(7144),i=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function s(e){return i.test(e)&&e!==n.RH}function u(e){return o.test(e)&&e!==n.w9}function l(e){return s(e.traceId)&&u(e.spanId)}function c(e){return new a.d(e)}},916:(e,t,r)=>{"use strict";var n;r.d(t,{s:()=>n}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(n||(n={}))},3037:(e,t,r)=>{"use strict";var n;r.d(t,{X:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(n||(n={}))},2490:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return n},isDynamicServerError:function(){return a}});let r="DYNAMIC_SERVER_USAGE";class n extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2312:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{StaticGenBailoutError:function(){return n},isStaticGenBailoutError:function(){return a}});let r="NEXT_STATIC_GEN_BAILOUT";class n extends Error{constructor(...e){super(...e),this.code=r}}function a(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},134:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,i={};function o(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function s(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,a]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=a?a:"true"))}catch{}}return t}function u(e){var t,r;if(!e)return;let[[n,a],...i]=s(e),{domain:o,expires:u,httponly:d,maxage:p,path:f,samesite:h,secure:m,partitioned:g,priority:y}=Object.fromEntries(i.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:n,value:decodeURIComponent(a),domain:o,...u&&{expires:new Date(u)},...d&&{httpOnly:!0},..."string"==typeof p&&{maxAge:Number(p)},path:f,...h&&{sameSite:l.includes(t=(t=h).toLowerCase())?t:void 0},...m&&{secure:!0},...y&&{priority:c.includes(r=(r=y).toLowerCase())?r:void 0},...g&&{partitioned:!0}})}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(i,{RequestCookies:()=>d,ResponseCookies:()=>p,parseCookie:()=>s,parseSetCookie:()=>u,stringifyCookie:()=>o}),e.exports=((e,i,o,s)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let u of n(i))a.call(e,u)||u===o||t(e,u,{get:()=>i[u],enumerable:!(s=r(i,u))||s.enumerable});return e})(t({},"__esModule",{value:!0}),i);var l=["strict","lax","none"],c=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of s(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>o(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>o(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},p=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let a=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(a)?a:function(e){if(!e)return[];var t,r,n,a,i,o=[],s=0;function u(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,i=!1;u();)if(","===(r=e.charAt(s))){for(n=s,s+=1,u(),a=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(i=!0,s=a,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!i||s>=e.length)&&o.push(e.substring(t,e.length))}return o}(a)){let t=u(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,a=this._parsed;return a.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=o(r);t.append("set-cookie",e)}}(a,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(o).join("; ")}}},3790:e=>{(()=>{"use strict";var t={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),a=r(172),i=r(930),o="context",s=new n.NoopContextManager;class u{constructor(){}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalContextManager(e){return(0,a.registerGlobal)(o,e,i.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,a.getGlobal)(o)||s}disable(){this._getContextManager().disable(),(0,a.unregisterGlobal)(o,i.DiagAPI.instance())}}t.ContextAPI=u},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),a=r(912),i=r(957),o=r(172);class s{constructor(){function e(e){return function(...t){let r=(0,o.getGlobal)("diag");if(r)return r[e](...t)}}let t=this;t.setLogger=(e,r={logLevel:i.DiagLogLevel.INFO})=>{var n,s,u;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let l=(0,o.getGlobal)("diag"),c=(0,a.createLogLevelDiagLogger)(null!==(s=r.logLevel)&&void 0!==s?s:i.DiagLogLevel.INFO,e);if(l&&!r.suppressOverrideMessage){let e=null!==(u=Error().stack)&&void 0!==u?u:"<failed to generate stacktrace>";l.warn(`Current logger will be overwritten from ${e}`),c.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,o.registerGlobal)("diag",c,t,!0)},t.disable=()=>{(0,o.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new s),this._instance}}t.DiagAPI=s},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),a=r(172),i=r(930),o="metrics";class s{constructor(){}static getInstance(){return this._instance||(this._instance=new s),this._instance}setGlobalMeterProvider(e){return(0,a.registerGlobal)(o,e,i.DiagAPI.instance())}getMeterProvider(){return(0,a.getGlobal)(o)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,a.unregisterGlobal)(o,i.DiagAPI.instance())}}t.MetricsAPI=s},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),a=r(874),i=r(194),o=r(277),s=r(369),u=r(930),l="propagation",c=new a.NoopTextMapPropagator;class d{constructor(){this.createBaggage=s.createBaggage,this.getBaggage=o.getBaggage,this.getActiveBaggage=o.getActiveBaggage,this.setBaggage=o.setBaggage,this.deleteBaggage=o.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(l,e,u.DiagAPI.instance())}inject(e,t,r=i.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=i.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(l,u.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(l)||c}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),a=r(846),i=r(139),o=r(607),s=r(930),u="trace";class l{constructor(){this._proxyTracerProvider=new a.ProxyTracerProvider,this.wrapSpanContext=i.wrapSpanContext,this.isSpanContextValid=i.isSpanContextValid,this.deleteSpan=o.deleteSpan,this.getSpan=o.getSpan,this.getActiveSpan=o.getActiveSpan,this.getSpanContext=o.getSpanContext,this.setSpan=o.setSpan,this.setSpanContext=o.setSpanContext}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(u,this._proxyTracerProvider,s.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(u)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(u,s.DiagAPI.instance()),this._proxyTracerProvider=new a.ProxyTracerProvider}}t.TraceAPI=l},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),a=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function i(e){return e.getValue(a)||void 0}t.getBaggage=i,t.getActiveBaggage=function(){return i(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(a,t)},t.deleteBaggage=function(e){return e.deleteValue(a)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),a=r(993),i=r(830),o=n.DiagAPI.instance();t.createBaggage=function(e={}){return new a.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(o.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:i.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);class a{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=a},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let a=new r(t._currentContext);return a._currentContext.set(e,n),a},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);class a{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return i("debug",this._namespace,e)}error(...e){return i("error",this._namespace,e)}info(...e){return i("info",this._namespace,e)}warn(...e){return i("warn",this._namespace,e)}verbose(...e){return i("verbose",this._namespace,e)}}function i(e,t,r){let a=(0,n.getGlobal)("diag");if(a)return r.unshift(t),a[e](...r)}t.DiagComponentLogger=a},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class n{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}t.DiagConsoleLogger=n},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let a=t[r];return"function"==typeof a&&e>=n?a.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),a=r(521),i=r(130),o=a.VERSION.split(".")[0],s=Symbol.for(`opentelemetry.js.api.${o}`),u=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var i;let o=u[s]=null!==(i=u[s])&&void 0!==i?i:{version:a.VERSION};if(!n&&o[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(o.version!==a.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${o.version} for ${e} does not match previously registered API v${a.VERSION}`);return r.error(t.stack||t.message),!1}return o[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${a.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null===(t=u[s])||void 0===t?void 0:t.version;if(n&&(0,i.isCompatible)(n))return null===(r=u[s])||void 0===r?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${a.VERSION}.`);let r=u[s];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),a=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function i(e){let t=new Set([e]),r=new Set,n=e.match(a);if(!n)return()=>!1;let i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=i.prerelease)return function(t){return t===e};function o(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(a);if(!n)return o(e);let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=s.prerelease||i.major!==s.major?o(e):0===i.major?i.minor===s.minor&&i.patch<=s.patch?(t.add(e),!0):o(e):i.minor<=s.minor?(t.add(e),!0):o(e)}}t._makeCompatibilityCheck=i,t.isCompatible=i(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class a extends n{add(e,t){}}t.NoopCounterMetric=a;class i extends n{add(e,t){}}t.NoopUpDownCounterMetric=i;class o extends n{record(e,t){}}t.NoopHistogramMetric=o;class s{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=s;class u extends s{}t.NoopObservableCounterMetric=u;class l extends s{}t.NoopObservableGaugeMetric=l;class c extends s{}t.NoopObservableUpDownCounterMetric=c,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new a,t.NOOP_HISTOGRAM_METRIC=new o,t.NOOP_UP_DOWN_COUNTER_METRIC=new i,t.NOOP_OBSERVABLE_COUNTER_METRIC=new u,t.NOOP_OBSERVABLE_GAUGE_METRIC=new l,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new c,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class a{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=a,t.NOOP_METER_PROVIDER=new a},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:global},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class r{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=r},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);class a{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=a},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),a=r(607),i=r(403),o=r(139),s=n.ContextAPI.getInstance();class u{startSpan(e,t,r=s.active()){if(null==t?void 0:t.root)return new i.NonRecordingSpan;let n=r&&(0,a.getSpanContext)(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,o.isSpanContextValid)(n)?new i.NonRecordingSpan(n):new i.NonRecordingSpan}startActiveSpan(e,t,r,n){let i,o,u;if(arguments.length<2)return;2==arguments.length?u=t:3==arguments.length?(i=t,u=r):(i=t,o=r,u=n);let l=null!=o?o:s.active(),c=this.startSpan(e,i,l),d=(0,a.setSpan)(l,c);return s.with(d,u,void 0,c)}}t.NoopTracer=u},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);class a{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=a},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;class a{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}t.ProxyTracer=a},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),a=new(r(124)).NoopTracerProvider;class i{getTracer(e,t,r){var a;return null!==(a=this.getDelegateTracer(e,t,r))&&void 0!==a?a:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:a}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=i},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),a=r(403),i=r(491),o=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function s(e){return e.getValue(o)||void 0}function u(e,t){return e.setValue(o,t)}t.getSpan=s,t.getActiveSpan=function(){return s(i.ContextAPI.getInstance().active())},t.setSpan=u,t.deleteSpan=function(e){return e.deleteValue(o)},t.setSpanContext=function(e,t){return u(e,new a.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=s(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class a{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),a=r.indexOf("=");if(-1!==a){let i=r.slice(0,a),o=r.slice(a+1,t.length);(0,n.validateKey)(i)&&(0,n.validateValue)(o)&&e.set(i,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new a;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=a},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,a=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,i=RegExp(`^(?:${n}|${a})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;t.validateKey=function(e){return i.test(e)},t.validateValue=function(e){return o.test(e)&&!s.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),a=r(403),i=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function s(e){return i.test(e)&&e!==n.INVALID_TRACEID}function u(e){return o.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=s,t.isValidSpanId=u,t.isSpanContextValid=function(e){return s(e.traceId)&&u(e.spanId)},t.wrapSpanContext=function(e){return new a.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}},o=!0;try{t[e].call(i.exports,i,i.exports,n),o=!1}finally{o&&delete r[e]}return i.exports}n.ab=__dirname+"/";var a={};(()=>{Object.defineProperty(a,"__esModule",{value:!0}),a.trace=a.propagation=a.metrics=a.diag=a.context=a.INVALID_SPAN_CONTEXT=a.INVALID_TRACEID=a.INVALID_SPANID=a.isValidSpanId=a.isValidTraceId=a.isSpanContextValid=a.createTraceState=a.TraceFlags=a.SpanStatusCode=a.SpanKind=a.SamplingDecision=a.ProxyTracerProvider=a.ProxyTracer=a.defaultTextMapSetter=a.defaultTextMapGetter=a.ValueType=a.createNoopMeter=a.DiagLogLevel=a.DiagConsoleLogger=a.ROOT_CONTEXT=a.createContextKey=a.baggageEntryMetadataFromString=void 0;var e=n(369);Object.defineProperty(a,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=n(780);Object.defineProperty(a,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(a,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var r=n(972);Object.defineProperty(a,"DiagConsoleLogger",{enumerable:!0,get:function(){return r.DiagConsoleLogger}});var i=n(957);Object.defineProperty(a,"DiagLogLevel",{enumerable:!0,get:function(){return i.DiagLogLevel}});var o=n(102);Object.defineProperty(a,"createNoopMeter",{enumerable:!0,get:function(){return o.createNoopMeter}});var s=n(901);Object.defineProperty(a,"ValueType",{enumerable:!0,get:function(){return s.ValueType}});var u=n(194);Object.defineProperty(a,"defaultTextMapGetter",{enumerable:!0,get:function(){return u.defaultTextMapGetter}}),Object.defineProperty(a,"defaultTextMapSetter",{enumerable:!0,get:function(){return u.defaultTextMapSetter}});var l=n(125);Object.defineProperty(a,"ProxyTracer",{enumerable:!0,get:function(){return l.ProxyTracer}});var c=n(846);Object.defineProperty(a,"ProxyTracerProvider",{enumerable:!0,get:function(){return c.ProxyTracerProvider}});var d=n(996);Object.defineProperty(a,"SamplingDecision",{enumerable:!0,get:function(){return d.SamplingDecision}});var p=n(357);Object.defineProperty(a,"SpanKind",{enumerable:!0,get:function(){return p.SpanKind}});var f=n(847);Object.defineProperty(a,"SpanStatusCode",{enumerable:!0,get:function(){return f.SpanStatusCode}});var h=n(475);Object.defineProperty(a,"TraceFlags",{enumerable:!0,get:function(){return h.TraceFlags}});var m=n(98);Object.defineProperty(a,"createTraceState",{enumerable:!0,get:function(){return m.createTraceState}});var g=n(139);Object.defineProperty(a,"isSpanContextValid",{enumerable:!0,get:function(){return g.isSpanContextValid}}),Object.defineProperty(a,"isValidTraceId",{enumerable:!0,get:function(){return g.isValidTraceId}}),Object.defineProperty(a,"isValidSpanId",{enumerable:!0,get:function(){return g.isValidSpanId}});var y=n(476);Object.defineProperty(a,"INVALID_SPANID",{enumerable:!0,get:function(){return y.INVALID_SPANID}}),Object.defineProperty(a,"INVALID_TRACEID",{enumerable:!0,get:function(){return y.INVALID_TRACEID}}),Object.defineProperty(a,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return y.INVALID_SPAN_CONTEXT}});let v=n(67);Object.defineProperty(a,"context",{enumerable:!0,get:function(){return v.context}});let b=n(506);Object.defineProperty(a,"diag",{enumerable:!0,get:function(){return b.diag}});let _=n(886);Object.defineProperty(a,"metrics",{enumerable:!0,get:function(){return _.metrics}});let w=n(939);Object.defineProperty(a,"propagation",{enumerable:!0,get:function(){return w.propagation}});let x=n(845);Object.defineProperty(a,"trace",{enumerable:!0,get:function(){return x.trace}}),a.default={context:v.context,diag:b.diag,metrics:_.metrics,propagation:w.propagation,trace:x.trace}})(),e.exports=a})()},4446:(e,t,r)=>{var n;(()=>{var a={226:function(a,i){!function(o,s){"use strict";var u="function",l="undefined",c="object",d="string",p="major",f="model",h="name",m="type",g="vendor",y="version",v="architecture",b="console",_="mobile",w="tablet",x="smarttv",S="wearable",T="embedded",E="Amazon",P="Apple",O="ASUS",R="BlackBerry",A="Browser",k="Chrome",N="Firefox",C="Google",I="Huawei",j="Microsoft",M="Motorola",D="Opera",L="Samsung",$="Sharp",U="Sony",F="Xiaomi",Z="Zebra",B="Facebook",q="Chromium OS",G="Mac OS",V=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},H=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},z=function(e,t){return typeof e===d&&-1!==K(t).indexOf(K(e))},K=function(e){return e.toLowerCase()},W=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===l?e:e.substring(0,350)},X=function(e,t){for(var r,n,a,i,o,l,d=0;d<t.length&&!o;){var p=t[d],f=t[d+1];for(r=n=0;r<p.length&&!o&&p[r];)if(o=p[r++].exec(e))for(a=0;a<f.length;a++)l=o[++n],typeof(i=f[a])===c&&i.length>0?2===i.length?typeof i[1]==u?this[i[0]]=i[1].call(this,l):this[i[0]]=i[1]:3===i.length?typeof i[1]!==u||i[1].exec&&i[1].test?this[i[0]]=l?l.replace(i[1],i[2]):void 0:this[i[0]]=l?i[1].call(this,l,i[2]):void 0:4===i.length&&(this[i[0]]=l?i[3].call(this,l.replace(i[1],i[2])):void 0):this[i]=l||s;d+=2}},J=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(z(t[r][n],e))return"?"===r?s:r}else if(z(t[r],e))return"?"===r?s:r;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,y],[/opios[\/ ]+([\w\.]+)/i],[y,[h,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[h,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[h,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[y,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+A],y],[/\bfocus\/([\w\.]+)/i],[y,[h,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[h,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[h,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[h,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[y,[h,N]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+A]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+A],y],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,B],y],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[h,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,k+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[h,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[y,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[h,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,y],[/(cobalt)\/([\w\.]+)/i],[h,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,K]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[g,L],[m,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[g,L],[m,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[g,P],[m,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[g,P],[m,w]],[/(macintosh);/i],[f,[g,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[g,$],[m,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[g,I],[m,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[g,I],[m,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[g,F],[m,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[g,F],[m,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[g,"OPPO"],[m,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[g,"Vivo"],[m,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[g,"Realme"],[m,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[g,M],[m,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[g,M],[m,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[g,"LG"],[m,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[g,"LG"],[m,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[g,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[g,"Nokia"],[m,_]],[/(pixel c)\b/i],[f,[g,C],[m,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[g,C],[m,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[g,U],[m,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[g,U],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[g,"OnePlus"],[m,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[g,E],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[g,E],[m,_]],[/(playbook);[-\w\),; ]+(rim)/i],[f,g,[m,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[g,R],[m,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[g,O],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[g,O],[m,_]],[/(nexus 9)/i],[f,[g,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[f,/_/g," "],[m,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[g,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[g,"Meizu"],[m,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,f,[m,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,f,[m,w]],[/(surface duo)/i],[f,[g,j],[m,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[g,"Fairphone"],[m,_]],[/(u304aa)/i],[f,[g,"AT&T"],[m,_]],[/\bsie-(\w*)/i],[f,[g,"Siemens"],[m,_]],[/\b(rct\w+) b/i],[f,[g,"RCA"],[m,w]],[/\b(venue[\d ]{2,7}) b/i],[f,[g,"Dell"],[m,w]],[/\b(q(?:mv|ta)\w+) b/i],[f,[g,"Verizon"],[m,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[g,"Barnes & Noble"],[m,w]],[/\b(tm\d{3}\w+) b/i],[f,[g,"NuVision"],[m,w]],[/\b(k88) b/i],[f,[g,"ZTE"],[m,w]],[/\b(nx\d{3}j) b/i],[f,[g,"ZTE"],[m,_]],[/\b(gen\d{3}) b.+49h/i],[f,[g,"Swiss"],[m,_]],[/\b(zur\d{3}) b/i],[f,[g,"Swiss"],[m,w]],[/\b((zeki)?tb.*\b) b/i],[f,[g,"Zeki"],[m,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],f,[m,w]],[/\b(ns-?\w{0,9}) b/i],[f,[g,"Insignia"],[m,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[g,"NextBook"],[m,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],f,[m,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],f,[m,_]],[/\b(ph-1) /i],[f,[g,"Essential"],[m,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[g,"Envizen"],[m,w]],[/\b(trio[-\w\. ]+) b/i],[f,[g,"MachSpeed"],[m,w]],[/\btu_(1491) b/i],[f,[g,"Rotor"],[m,w]],[/(shield[\w ]+) b/i],[f,[g,"Nvidia"],[m,w]],[/(sprint) (\w+)/i],[g,f,[m,_]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,j],[m,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[g,Z],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[g,Z],[m,_]],[/smart-tv.+(samsung)/i],[g,[m,x]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,L],[m,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[m,x]],[/(apple) ?tv/i],[g,[f,P+" TV"],[m,x]],[/crkey/i],[[f,k+"cast"],[g,C],[m,x]],[/droid.+aft(\w)( bui|\))/i],[f,[g,E],[m,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[g,$],[m,x]],[/(bravia[\w ]+)( bui|\))/i],[f,[g,U],[m,x]],[/(mitv-\w{5}) bui/i],[f,[g,F],[m,x]],[/Hbbtv.*(technisat) (.*);/i],[g,f,[m,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,W],[f,W],[m,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,f,[m,b]],[/droid.+; (shield) bui/i],[f,[g,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[f,[g,U],[m,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[g,j],[m,b]],[/((pebble))app/i],[g,f,[m,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[g,P],[m,S]],[/droid.+; (glass) \d/i],[f,[g,C],[m,S]],[/droid.+; (wt63?0{2,3})\)/i],[f,[g,Z],[m,S]],[/(quest( 2| pro)?)/i],[f,[g,B],[m,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,T]],[/(aeobc)\b/i],[f,[g,E],[m,T]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[m,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,_]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[y,J,Y]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[y,J,Y]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,G],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,y],[/\(bb(10);/i],[y,[h,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[h,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[h,k+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,q],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,y],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,y]]},ee=function(e,t){if(typeof e===c&&(t=e,e=s),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof o!==l&&o.navigator?o.navigator:s,n=e||(r&&r.userAgent?r.userAgent:""),a=r&&r.userAgentData?r.userAgentData:s,i=t?V(Q,t):Q,b=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[h]=s,t[y]=s,X.call(t,n,i.browser),t[p]=typeof(e=t[y])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:s,b&&r&&r.brave&&typeof r.brave.isBrave==u&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[v]=s,X.call(e,n,i.cpu),e},this.getDevice=function(){var e={};return e[g]=s,e[f]=s,e[m]=s,X.call(e,n,i.device),b&&!e[m]&&a&&a.mobile&&(e[m]=_),b&&"Macintosh"==e[f]&&r&&typeof r.standalone!==l&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[f]="iPad",e[m]=w),e},this.getEngine=function(){var e={};return e[h]=s,e[y]=s,X.call(e,n,i.engine),e},this.getOS=function(){var e={};return e[h]=s,e[y]=s,X.call(e,n,i.os),b&&!e[h]&&a&&"Unknown"!=a.platform&&(e[h]=a.platform.replace(/chrome os/i,q).replace(/macos/i,G)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>350?W(e,350):e,this},this.setUA(n),this};ee.VERSION="1.0.35",ee.BROWSER=H([h,y,p]),ee.CPU=H([v]),ee.DEVICE=H([f,g,m,b,_,x,w,S,T]),ee.ENGINE=ee.OS=H([h,y]),typeof i!==l?(a.exports&&(i=a.exports=ee),i.UAParser=ee):r.amdO?void 0!==(n=(function(){return ee}).call(t,r,t,e))&&(e.exports=n):typeof o!==l&&(o.UAParser=ee);var et=typeof o!==l&&(o.jQuery||o.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},n=!0;try{a[e].call(r.exports,r,r.exports,o),n=!1}finally{n&&delete i[e]}return r.exports}o.ab=__dirname+"/";var s=o(226);e.exports=s})()},302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Batcher",{enumerable:!0,get:function(){return a}});let n=r(523);class a{constructor(e,t=e=>e()){this.cacheKeyFn=e,this.schedulerFn=t,this.pending=new Map}static create(e){return new a(null==e?void 0:e.cacheKeyFn,null==e?void 0:e.schedulerFn)}async batch(e,t){let r=this.cacheKeyFn?await this.cacheKeyFn(e):e;if(null===r)return t(r,Promise.resolve);let a=this.pending.get(r);if(a)return a;let{promise:i,resolve:o,reject:s}=new n.DetachedPromise;return this.pending.set(r,i),this.schedulerFn(async()=>{try{let e=await t(r,o);o(e)}catch(e){s(e)}finally{this.pending.delete(r)}}),i}}},2216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_SUFFIX:function(){return d},APP_DIR_ALIAS:function(){return C},CACHE_ONE_YEAR:function(){return T},DOT_NEXT_ALIAS:function(){return k},ESLINT_DEFAULT_DIRS:function(){return J},GSP_NO_RETURNED_VALUE:function(){return V},GSSP_COMPONENT_MEMBER_ERROR:function(){return K},GSSP_NO_RETURNED_VALUE:function(){return H},INFINITE_CACHE:function(){return E},INSTRUMENTATION_HOOK_FILENAME:function(){return R},MATCHED_PATH_HEADER:function(){return a},MIDDLEWARE_FILENAME:function(){return P},MIDDLEWARE_LOCATION_REGEXP:function(){return O},NEXT_BODY_SUFFIX:function(){return h},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return S},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return y},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return v},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return g},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return x},NEXT_CACHE_TAGS_HEADER:function(){return m},NEXT_CACHE_TAG_MAX_ITEMS:function(){return _},NEXT_CACHE_TAG_MAX_LENGTH:function(){return w},NEXT_DATA_SUFFIX:function(){return p},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return n},NEXT_META_SUFFIX:function(){return f},NEXT_QUERY_PARAM_PREFIX:function(){return r},NEXT_RESUME_HEADER:function(){return b},NON_STANDARD_NODE_ENV:function(){return W},PAGES_DIR_ALIAS:function(){return A},PRERENDER_REVALIDATE_HEADER:function(){return i},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return o},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return U},ROOT_DIR_ALIAS:function(){return N},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return $},RSC_ACTION_ENCRYPTION_ALIAS:function(){return L},RSC_ACTION_PROXY_ALIAS:function(){return M},RSC_ACTION_VALIDATE_ALIAS:function(){return j},RSC_CACHE_WRAPPER_ALIAS:function(){return D},RSC_MOD_REF_PROXY_ALIAS:function(){return I},RSC_PREFETCH_SUFFIX:function(){return s},RSC_SEGMENTS_DIR_SUFFIX:function(){return u},RSC_SEGMENT_SUFFIX:function(){return l},RSC_SUFFIX:function(){return c},SERVER_PROPS_EXPORT_ERROR:function(){return G},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return Z},SERVER_PROPS_SSG_CONFLICT:function(){return B},SERVER_RUNTIME:function(){return Y},SSG_FALLBACK_EXPORT_ERROR:function(){return X},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return F},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return q},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return z},WEBPACK_LAYERS:function(){return ee},WEBPACK_RESOURCE_QUERIES:function(){return et}});let r="nxtP",n="nxtI",a="x-matched-path",i="x-prerender-revalidate",o="x-prerender-revalidate-if-generated",s=".prefetch.rsc",u=".segments",l=".segment.rsc",c=".rsc",d=".action",p=".json",f=".meta",h=".body",m="x-next-cache-tags",g="x-next-cache-soft-tags",y="x-next-revalidated-tags",v="x-next-revalidate-tag-token",b="next-resume",_=128,w=256,x=1024,S="_N_T_",T=31536e3,E=0xfffffffe,P="middleware",O=`(?:src/)?${P}`,R="instrumentation",A="private-next-pages",k="private-dot-next",N="private-next-root-dir",C="private-next-app-dir",I="next/dist/build/webpack/loaders/next-flight-loader/module-proxy",j="private-next-rsc-action-validate",M="private-next-rsc-server-reference",D="private-next-rsc-cache-wrapper",L="private-next-rsc-action-encryption",$="private-next-rsc-action-client-wrapper",U="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",F="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",Z="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",B="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",q="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",G="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",V="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",H="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",z="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",K="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",W='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',X="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",J=["app","pages","components","lib","src"],Y={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},Q={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser"},ee={...Q,GROUP:{builtinReact:[Q.reactServerComponents,Q.actionBrowser],serverOnly:[Q.reactServerComponents,Q.actionBrowser,Q.instrument,Q.middleware],neutralTarget:[Q.api],clientOnly:[Q.serverSideRendering,Q.appPagesBrowser],bundled:[Q.reactServerComponents,Q.actionBrowser,Q.serverSideRendering,Q.appPagesBrowser,Q.shared,Q.instrument],appPages:[Q.reactServerComponents,Q.serverSideRendering,Q.appPagesBrowser,Q.actionBrowser]}},et={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},523:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DetachedPromise",{enumerable:!0,get:function(){return r}});class r{constructor(){let e,t;this.promise=new Promise((r,n)=>{e=r,t=n}),this.resolve=e,this.reject=t}}},7122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{METADATA_BOUNDARY_NAME:function(){return r},OUTLET_BOUNDARY_NAME:function(){return a},VIEWPORT_BOUNDARY_NAME:function(){return n}});let r="__next_metadata_boundary__",n="__next_viewport_boundary__",a="__next_outlet_boundary__"},676:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{atLeastOneTask:function(){return a},scheduleImmediate:function(){return n},scheduleOnNextTick:function(){return r},waitAtLeastOneReactRenderTask:function(){return i}});let r=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},n=e=>{setImmediate(e)};function a(){return new Promise(e=>n(e))}function i(){return new Promise(e=>setImmediate(e))}},6050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"after",{enumerable:!0,get:function(){return a}});let n=r(9294);function a(e){let t=n.workAsyncStorage.getStore();if(!t)throw Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context");let{afterContext:r}=t;return r.after(e)}},5036:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})}(r(6050),t)},436:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{Postpone:function(){return S},abortAndThrowOnSynchronousRequestDataAccess:function(){return w},abortOnSynchronousPlatformIOAccess:function(){return b},accessedDynamicData:function(){return N},annotateDynamicAccess:function(){return D},consumeDynamicAccess:function(){return C},createDynamicTrackingState:function(){return d},createDynamicValidationState:function(){return p},createPostponedAbortSignal:function(){return M},formatDynamicAPIAccesses:function(){return I},getFirstDynamicReason:function(){return f},isDynamicPostpone:function(){return P},isPrerenderInterruptedError:function(){return k},markCurrentScopeAsDynamic:function(){return h},postponeWithTracking:function(){return T},throwIfDisallowedDynamic:function(){return q},throwToInterruptStaticGeneration:function(){return g},trackAllowedDynamicAccess:function(){return B},trackDynamicDataInDynamicRender:function(){return y},trackFallbackParamAccessed:function(){return m},trackSynchronousPlatformIOAccessInDev:function(){return _},trackSynchronousRequestDataAccessInDev:function(){return x},useDynamicRouteParams:function(){return L}});let n=function(e){return e&&e.__esModule?e:{default:e}}(r(6301)),a=r(2490),i=r(2312),o=r(3033),s=r(9294),u=r(457),l=r(7122),c="function"==typeof n.default.unstable_postpone;function d(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicExpression:void 0,syncDynamicErrorWithStack:null}}function p(){return{hasSuspendedDynamic:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasSyncDynamicErrors:!1,dynamicErrors:[]}}function f(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function h(e,t,r){if((!t||"cache"!==t.type&&"unstable-cache"!==t.type)&&!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw new i.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender-ppr"===t.type)T(e.route,r,t.dynamicTracking);else if("prerender-legacy"===t.type){t.revalidate=0;let n=new a.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}}function m(e,t){let r=o.workUnitAsyncStorage.getStore();r&&"prerender-ppr"===r.type&&T(e.route,t,r.dynamicTracking)}function g(e,t,r){let n=new a.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function y(e,t){t&&"cache"!==t.type&&"unstable-cache"!==t.type&&("prerender"===t.type||"prerender-legacy"===t.type)&&(t.revalidate=0)}function v(e,t,r){let n=A(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(n);let a=r.dynamicTracking;a&&a.dynamicAccesses.push({stack:a.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function b(e,t,r,n){let a=n.dynamicTracking;return a&&null===a.syncDynamicErrorWithStack&&(a.syncDynamicExpression=t,a.syncDynamicErrorWithStack=r),v(e,t,n)}function _(e){e.prerenderPhase=!1}function w(e,t,r,n){let a=n.dynamicTracking;throw a&&null===a.syncDynamicErrorWithStack&&(a.syncDynamicExpression=t,a.syncDynamicErrorWithStack=r,!0===n.validating&&(a.syncDynamicLogged=!0)),v(e,t,n),A(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}let x=_;function S({reason:e,route:t}){let r=o.workUnitAsyncStorage.getStore();T(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function T(e,t,r){j(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),n.default.unstable_postpone(E(e,t))}function E(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function P(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&O(e.message)}function O(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===O(E("%%%","^^^")))throw Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js");let R="NEXT_PRERENDER_INTERRUPTED";function A(e){let t=Error(e);return t.digest=R,t}function k(e){return"object"==typeof e&&null!==e&&e.digest===R&&"name"in e&&"message"in e&&e instanceof Error}function N(e){return e.length>0}function C(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function I(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function j(){if(!c)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}function M(e){j();let t=new AbortController;try{n.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}function D(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function L(e){if("undefined"==typeof window){let t=s.workAsyncStorage.getStore();if(t&&t.isStaticGeneration&&t.fallbackRouteParams&&t.fallbackRouteParams.size>0){let r=o.workUnitAsyncStorage.getStore();r&&("prerender"===r.type?n.default.use((0,u.makeHangingPromise)(r.renderSignal,e)):"prerender-ppr"===r.type?T(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&g(e,t,r))}}}let $=/\n\s+at Suspense \(<anonymous>\)/,U=RegExp(`\\n\\s+at ${l.METADATA_BOUNDARY_NAME}[\\n\\s]`),F=RegExp(`\\n\\s+at ${l.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),Z=RegExp(`\\n\\s+at ${l.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function B(e,t,r,n,a){if(!Z.test(t)){if(U.test(t)){r.hasDynamicMetadata=!0;return}if(F.test(t)){r.hasDynamicViewport=!0;return}if($.test(t)){r.hasSuspendedDynamic=!0;return}if(n.syncDynamicErrorWithStack||a.syncDynamicErrorWithStack){r.hasSyncDynamicErrors=!0;return}else{let n=function(e,t){let r=Error(e);return r.stack="Error: "+e+t,r}(`Route "${e}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`,t);r.dynamicErrors.push(n);return}}}function q(e,t,r,n){let a,o,s;if(r.syncDynamicErrorWithStack?(a=r.syncDynamicErrorWithStack,o=r.syncDynamicExpression,s=!0===r.syncDynamicLogged):n.syncDynamicErrorWithStack?(a=n.syncDynamicErrorWithStack,o=n.syncDynamicExpression,s=!0===n.syncDynamicLogged):(a=null,o=void 0,s=!1),t.hasSyncDynamicErrors&&a)throw s||console.error(a),new i.StaticGenBailoutError;let u=t.dynamicErrors;if(u.length){for(let e=0;e<u.length;e++)console.error(u[e]);throw new i.StaticGenBailoutError}if(!t.hasSuspendedDynamic){if(t.hasDynamicMetadata){if(a)throw console.error(a),new i.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that could not finish rendering before ${o} was used. Follow the instructions in the error for this expression to resolve.`);throw new i.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateMetadata\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`)}if(t.hasDynamicViewport){if(a)throw console.error(a),new i.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that could not finish rendering before ${o} was used. Follow the instructions in the error for this expression to resolve.`);throw new i.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateViewport\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`)}}}},2251:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNodeNextRequest:function(){return a},isNodeNextResponse:function(){return i},isWebNextRequest:function(){return r},isWebNextResponse:function(){return n}});let r=e=>!1,n=e=>!1,a=e=>!0,i=e=>!0},6551:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getClientComponentLoaderMetrics:function(){return o},wrapClientComponentLoader:function(){return i}});let r=0,n=0,a=0;function i(e){return"performance"in globalThis?{require:(...t)=>{let i=performance.now();0===r&&(r=i);try{return a+=1,e.__next_app__.require(...t)}finally{n+=performance.now()-i}},loadChunk:(...t)=>{let r=performance.now();try{return e.__next_app__.loadChunk(...t)}finally{n+=performance.now()-r}}}:e.__next_app__}function o(e={}){let t=0===r?void 0:{clientComponentLoadStart:r,clientComponentLoadTimes:n,clientComponentLoadCount:a};return e.reset&&(r=0,n=0,a=0),t}},457:(e,t)=>{"use strict";function r(e,t){let r=new Promise((r,n)=>{e.addEventListener("abort",()=>{n(Error(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`))},{once:!0})});return r.catch(n),r}function n(){}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"makeHangingPromise",{enumerable:!0,get:function(){return r}})},3650:(e,t)=>{"use strict";function r(e){if(!e.body)return[e,e];let[t,r]=e.body.tee(),n=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(n,"url",{value:e.url});let a=new Response(r,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(a,"url",{value:e.url}),[n,a]}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cloneResponse",{enumerable:!0,get:function(){return r}})},3611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupeFetch",{enumerable:!0,get:function(){return s}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(6301)),a=r(3650),i=r(9212);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function s(e){let t=n.cache(e=>[]);return function(r,n){let o,s;if(n&&n.signal)return e(r,n);if("string"!=typeof r||n){let t="string"==typeof r||r instanceof URL?new Request(r,n):r;if("GET"!==t.method&&"HEAD"!==t.method||t.keepalive)return e(r,n);s=JSON.stringify([t.method,Array.from(t.headers.entries()),t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity]),o=t.url}else s='["GET",[],null,"follow",null,null,null,null]',o=r;let u=t(o);for(let e=0,t=u.length;e<t;e+=1){let[t,r]=u[e];if(t===s)return r.then(()=>{let t=u[e][2];if(!t)throw new i.InvariantError("No cached response");let[r,n]=(0,a.cloneResponse)(t);return u[e][2]=n,r})}let l=e(r,n),c=[s,l,null];return u.push(c),l.then(e=>{let[t,r]=(0,a.cloneResponse)(e);return c[2]=r,t})}}},5994:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{NEXT_PATCH_SYMBOL:function(){return p},createPatchedFetcher:function(){return g},patchFetch:function(){return y},validateRevalidate:function(){return f},validateTags:function(){return h}});let n=r(1974),a=r(9794),i=r(2216),o=r(436),s=r(457),u=r(3611),l=r(358),c=r(676),d=r(3650),p=Symbol.for("next-patch");function f(e,t){try{let r;if(!1===e)r=i.INFINITE_CACHE;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`);return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}function h(e,t){let r=[],n=[];for(let a=0;a<e.length;a++){let o=e[a];if("string"!=typeof o?n.push({tag:o,reason:"invalid type, must be a string"}):o.length>i.NEXT_CACHE_TAG_MAX_LENGTH?n.push({tag:o,reason:`exceeded max length of ${i.NEXT_CACHE_TAG_MAX_LENGTH}`}):r.push(o),r.length>i.NEXT_CACHE_TAG_MAX_ITEMS){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(a).join(", "));break}}if(n.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),n))console.log(`tag: "${e}" ${r}`);return r}function m(e,t){var r;e&&(null==(r=e.requestEndedState)||!r.ended)&&(process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS)&&e.isStaticGeneration&&(e.fetchMetrics??=[],e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0}))}function g(e,{workAsyncStorage:t,workUnitAsyncStorage:r}){let u=async(u,p)=>{var g,y;let v;try{(v=new URL(u instanceof Request?u.url:u)).username="",v.password=""}catch{v=void 0}let b=(null==v?void 0:v.href)??"",_=(null==p?void 0:null==(g=p.method)?void 0:g.toUpperCase())||"GET",w=(null==p?void 0:null==(y=p.next)?void 0:y.internal)===!0,x="1"===process.env.NEXT_OTEL_FETCH_DISABLED,S=w?void 0:performance.timeOrigin+performance.now(),T=t.getStore(),E=r.getStore(),P=E&&"prerender"===E.type?E.cacheSignal:null;P&&P.beginRead();let O=(0,a.getTracer)().trace(w?n.NextNodeServerSpan.internalFetch:n.AppRenderSpan.fetch,{hideSpan:x,kind:a.SpanKind.CLIENT,spanName:["fetch",_,b].filter(Boolean).join(" "),attributes:{"http.url":b,"http.method":_,"net.peer.name":null==v?void 0:v.hostname,"net.peer.port":(null==v?void 0:v.port)||void 0}},async()=>{var t;let r,n,a,g;if(w||!T||T.isDraftMode)return e(u,p);let y=u&&"object"==typeof u&&"string"==typeof u.method,v=e=>(null==p?void 0:p[e])||(y?u[e]:null),_=e=>{var t,r,n;return void 0!==(null==p?void 0:null==(t=p.next)?void 0:t[e])?null==p?void 0:null==(r=p.next)?void 0:r[e]:y?null==(n=u.next)?void 0:n[e]:void 0},x=_("revalidate"),O=h(_("tags")||[],`fetch ${u.toString()}`),R=E&&("cache"===E.type||"prerender"===E.type||"prerender-ppr"===E.type||"prerender-legacy"===E.type)?E:void 0;if(R&&Array.isArray(O)){let e=R.tags??(R.tags=[]);for(let t of O)e.includes(t)||e.push(t)}let A=E&&"unstable-cache"!==E.type?E.implicitTags:[],k=E&&"unstable-cache"===E.type?"force-no-store":T.fetchCache,N=!!T.isUnstableNoStore,C=v("cache"),I="";"string"==typeof C&&void 0!==x&&("force-cache"===C&&0===x||"no-store"===C&&(x>0||!1===x))&&(r=`Specified "cache: ${C}" and "revalidate: ${x}", only one should be specified.`,C=void 0,x=void 0);let j="no-cache"===C||"no-store"===C||"force-no-store"===k||"only-no-store"===k,M=!k&&!C&&!x&&T.forceDynamic;"force-cache"===C&&void 0===x?x=!1:(null==E?void 0:E.type)!=="cache"&&(j||M)&&(x=0),("no-cache"===C||"no-store"===C)&&(I=`cache: ${C}`),g=f(x,T.route);let D=v("headers"),L="function"==typeof(null==D?void 0:D.get)?D:new Headers(D||{}),$=L.get("authorization")||L.get("cookie"),U=!["get","head"].includes((null==(t=v("method"))?void 0:t.toLowerCase())||"get"),F=void 0==k&&(void 0==C||"default"===C)&&void 0==x,Z=F&&!T.isPrerendering||($||U)&&R&&0===R.revalidate;if(F&&void 0!==E&&"prerender"===E.type)return P&&(P.endRead(),P=null),(0,s.makeHangingPromise)(E.renderSignal,"fetch()");switch(k){case"force-no-store":I="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===C||void 0!==g&&g>0)throw Error(`cache: 'force-cache' used on fetch for ${b} with 'export const fetchCache = 'only-no-store'`);I="fetchCache = only-no-store";break;case"only-cache":if("no-store"===C)throw Error(`cache: 'no-store' used on fetch for ${b} with 'export const fetchCache = 'only-cache'`);break;case"force-cache":(void 0===x||0===x)&&(I="fetchCache = force-cache",g=i.INFINITE_CACHE)}if(void 0===g?"default-cache"!==k||N?"default-no-store"===k?(g=0,I="fetchCache = default-no-store"):N?(g=0,I="noStore call"):Z?(g=0,I="auto no cache"):(I="auto cache",g=R?R.revalidate:i.INFINITE_CACHE):(g=i.INFINITE_CACHE,I="fetchCache = default-cache"):I||(I=`revalidate: ${g}`),!(T.forceStatic&&0===g)&&!Z&&R&&g<R.revalidate){if(0===g){if(E&&"prerender"===E.type)return P&&(P.endRead(),P=null),(0,s.makeHangingPromise)(E.renderSignal,"fetch()");(0,o.markCurrentScopeAsDynamic)(T,E,`revalidate: 0 fetch ${u} ${T.route}`)}R&&x===g&&(R.revalidate=g)}let B="number"==typeof g&&g>0,{incrementalCache:q}=T,G=void 0!==E&&"request"===E.type?E:void 0;if(q&&(B||(null==G?void 0:G.serverComponentsHmrCache)))try{n=await q.generateCacheKey(b,y?u:p)}catch(e){console.error("Failed to generate cache key for",u)}let V=T.nextFetchId??1;T.nextFetchId=V+1;let H=()=>Promise.resolve(),z=async(t,a)=>{let o=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(y){let e=u,t={body:e._ogBody||e.body};for(let r of o)t[r]=e[r];u=new Request(e.url,t)}else if(p){let{_ogBody:e,body:r,signal:n,...a}=p;p={...a,body:e||r,signal:t?void 0:n}}let s={...p,next:{...null==p?void 0:p.next,fetchType:"origin",fetchIdx:V}};return e(u,s).then(async e=>{if(!t&&S&&m(T,{start:S,url:b,cacheReason:a||I,cacheStatus:0===g||a?"skip":"miss",cacheWarning:r,status:e.status,method:s.method||"GET"}),200===e.status&&q&&n&&(B||(null==G?void 0:G.serverComponentsHmrCache))){let t=g>=i.INFINITE_CACHE?i.CACHE_ONE_YEAR:g,r=!(g>=i.INFINITE_CACHE)&&g;if(E&&"prerender"===E.type){let a=await e.arrayBuffer(),i={headers:Object.fromEntries(e.headers.entries()),body:Buffer.from(a).toString("base64"),status:e.status,url:e.url};return await q.set(n,{kind:l.CachedRouteKind.FETCH,data:i,revalidate:t},{fetchCache:!0,revalidate:r,fetchUrl:b,fetchIdx:V,tags:O}),await H(),new Response(a,{headers:e.headers,status:e.status,statusText:e.statusText})}{let[a,i]=(0,d.cloneResponse)(e);return a.arrayBuffer().then(async e=>{var i;let o=Buffer.from(e),s={headers:Object.fromEntries(a.headers.entries()),body:o.toString("base64"),status:a.status,url:a.url};null==G||null==(i=G.serverComponentsHmrCache)||i.set(n,s),B&&await q.set(n,{kind:l.CachedRouteKind.FETCH,data:s,revalidate:t},{fetchCache:!0,revalidate:r,fetchUrl:b,fetchIdx:V,tags:O})}).catch(e=>console.warn("Failed to set fetch cache",u,e)).finally(H),i}}return await H(),e}).catch(e=>{throw H(),e})},K=!1,W=!1;if(n&&q){let e;if((null==G?void 0:G.isHmrRefresh)&&G.serverComponentsHmrCache&&(e=G.serverComponentsHmrCache.get(n),W=!0),B&&!e){H=await q.lock(n);let t=T.isOnDemandRevalidate?null:await q.get(n,{kind:l.IncrementalCacheKind.FETCH,revalidate:g,fetchUrl:b,fetchIdx:V,tags:O,softTags:A,isFallback:!1});if(F&&E&&"prerender"===E.type&&await (0,c.waitAtLeastOneReactRenderTask)(),t?await H():a="cache-control: no-cache (hard refresh)",(null==t?void 0:t.value)&&t.value.kind===l.CachedRouteKind.FETCH){if(T.isRevalidate&&t.isStale)K=!0;else{if(t.isStale&&(T.pendingRevalidates??={},!T.pendingRevalidates[n])){let e=z(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{T.pendingRevalidates??={},delete T.pendingRevalidates[n||""]});e.catch(console.error),T.pendingRevalidates[n]=e}e=t.value.data}}}if(e){S&&m(T,{start:S,url:b,cacheReason:I,cacheStatus:W?"hmr":"hit",cacheWarning:r,status:e.status||200,method:(null==p?void 0:p.method)||"GET"});let t=new Response(Buffer.from(e.body,"base64"),{headers:e.headers,status:e.status});return Object.defineProperty(t,"url",{value:e.url}),t}}if(T.isStaticGeneration&&p&&"object"==typeof p){let{cache:e}=p;if("no-store"===e){if(E&&"prerender"===E.type)return P&&(P.endRead(),P=null),(0,s.makeHangingPromise)(E.renderSignal,"fetch()");(0,o.markCurrentScopeAsDynamic)(T,E,`no-store fetch ${u} ${T.route}`)}let t="next"in p,{next:r={}}=p;if("number"==typeof r.revalidate&&R&&r.revalidate<R.revalidate){if(0===r.revalidate){if(E&&"prerender"===E.type)return(0,s.makeHangingPromise)(E.renderSignal,"fetch()");(0,o.markCurrentScopeAsDynamic)(T,E,`revalidate: 0 fetch ${u} ${T.route}`)}T.forceStatic&&0===r.revalidate||(R.revalidate=r.revalidate)}t&&delete p.next}if(!n||!K)return z(!1,a);{let e=n;T.pendingRevalidates??={};let t=T.pendingRevalidates[e];if(t){let e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}let r=z(!0,a).then(d.cloneResponse);return(t=r.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;(null==(t=T.pendingRevalidates)?void 0:t[e])&&delete T.pendingRevalidates[e]})).catch(()=>{}),T.pendingRevalidates[e]=t,r.then(e=>e[1])}});if(P)try{return await O}finally{P&&P.endRead()}return O};return u.__nextPatched=!0,u.__nextGetStaticStore=()=>t,u._nextOriginalFetch=e,globalThis[p]=!0,u}function y(e){if(!0===globalThis[p])return;let t=(0,u.createDedupeFetch)(globalThis.fetch);globalThis.fetch=g(t,e)}},1974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{AppRenderSpan:function(){return u},AppRouteRouteHandlersSpan:function(){return d},BaseServerSpan:function(){return r},LoadComponentsSpan:function(){return n},LogSpanAllowList:function(){return m},MiddlewareSpan:function(){return f},NextNodeServerSpan:function(){return i},NextServerSpan:function(){return a},NextVanillaSpanAllowlist:function(){return h},NodeSpan:function(){return c},RenderSpan:function(){return s},ResolveMetadataSpan:function(){return p},RouterSpan:function(){return l},StartServerSpan:function(){return o}});var r=function(e){return e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404",e}(r||{}),n=function(e){return e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents",e}(n||{}),a=function(e){return e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer",e}(a||{}),i=function(e){return e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch",e}(i||{}),o=function(e){return e.startServer="startServer.startServer",e}(o||{}),s=function(e){return e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult",e}(s||{}),u=function(e){return e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch",e}(u||{}),l=function(e){return e.executeRoute="Router.executeRoute",e}(l||{}),c=function(e){return e.runHandler="Node.runHandler",e}(c||{}),d=function(e){return e.runHandler="AppRouteRouteHandlers.runHandler",e}(d||{}),p=function(e){return e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport",e}(p||{}),f=function(e){return e.execute="Middleware.execute",e}(f||{});let h=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],m=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},9794:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BubbledError:function(){return p},SpanKind:function(){return c},SpanStatusCode:function(){return l},getTracer:function(){return w},isBubbledError:function(){return f}});let a=r(1974),i=r(2111);try{n=r(2078)}catch(e){n=r(3790)}let{context:o,propagation:s,trace:u,SpanStatusCode:l,SpanKind:c,ROOT_CONTEXT:d}=n;class p extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}function f(e){return"object"==typeof e&&null!==e&&e instanceof p}let h=(e,t)=>{f(t)&&t.bubble?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:l.ERROR,message:null==t?void 0:t.message})),e.end()},m=new Map,g=n.createContextKey("next.rootSpanId"),y=0,v=()=>y++,b={set(e,t,r){e.push({key:t,value:r})}};class _{getTracerInstance(){return u.getTracer("next.js","0.0.1")}getContext(){return o}getTracePropagationData(){let e=o.active(),t=[];return s.inject(e,t,b),t}getActiveScopeSpan(){return u.getSpan(null==o?void 0:o.active())}withPropagatedContext(e,t,r){let n=o.active();if(u.getSpanContext(n))return t();let a=s.extract(n,e,r);return o.with(a,t)}trace(...e){var t;let[r,n,s]=e,{fn:l,options:c}="function"==typeof n?{fn:n,options:{}}:{fn:s,options:{...n}},p=c.spanName??r;if(!a.NextVanillaSpanAllowlist.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||c.hideSpan)return l();let f=this.getSpanContext((null==c?void 0:c.parentSpan)??this.getActiveScopeSpan()),y=!1;f?(null==(t=u.getSpanContext(f))?void 0:t.isRemote)&&(y=!0):(f=(null==o?void 0:o.active())??d,y=!0);let b=v();return c.attributes={"next.span_name":p,"next.span_type":r,...c.attributes},o.with(f.setValue(g,b),()=>this.getTracerInstance().startActiveSpan(p,c,e=>{let t="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,n=()=>{m.delete(b),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&a.LogSpanAllowList.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};y&&m.set(b,new Map(Object.entries(c.attributes??{})));try{if(l.length>1)return l(e,t=>h(e,t));let t=l(e);if((0,i.isThenable)(t))return t.then(t=>(e.end(),t)).catch(t=>{throw h(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw h(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,i]=3===e.length?e:[e[0],{},e[1]];return a.NextVanillaSpanAllowlist.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let a=arguments.length-1,s=arguments[a];if("function"!=typeof s)return t.trace(r,e,()=>i.apply(this,arguments));{let n=t.getContext().bind(o.active(),s);return t.trace(r,e,(e,t)=>(arguments[a]=function(e){return null==t||t(e),n.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?u.setSpan(o.active(),e):void 0}getRootSpanAttributes(){let e=o.active().getValue(g);return m.get(e)}setRootSpanAttribute(e,t){let r=o.active().getValue(g),n=m.get(r);n&&n.set(e,t)}}let w=(()=>{let e=new _;return()=>e})()},5050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isAbortError:function(){return u},pipeToNodeResponse:function(){return l}});let n=r(9534),a=r(523),i=r(9794),o=r(1974),s=r(6551);function u(e){return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.name)===n.ResponseAbortedName}async function l(e,t,r){try{let{errored:u,destroyed:l}=t;if(u||l)return;let c=(0,n.createAbortController)(t),d=function(e,t){let r=!1,n=new a.DetachedPromise;function u(){n.resolve()}e.on("drain",u),e.once("close",()=>{e.off("drain",u),n.resolve()});let l=new a.DetachedPromise;return e.once("finish",()=>{l.resolve()}),new WritableStream({write:async t=>{if(!r){if(r=!0,"performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let e=(0,s.getClientComponentLoaderMetrics)();e&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:e.clientComponentLoadStart,end:e.clientComponentLoadStart+e.clientComponentLoadTimes})}e.flushHeaders(),(0,i.getTracer)().trace(o.NextNodeServerSpan.startResponse,{spanName:"start response"},()=>void 0)}try{let r=e.write(t);"flush"in e&&"function"==typeof e.flush&&e.flush(),r||(await n.promise,n=new a.DetachedPromise)}catch(t){throw e.end(),Error("failed to write chunk to response",{cause:t})}},abort:t=>{e.writableFinished||e.destroy(t)},close:async()=>{if(t&&await t,!e.writableFinished)return e.end(),l.promise}})}(t,r);await e.pipeTo(d,{signal:c.signal})}catch(e){if(u(e))return;throw Error("failed to pipe response",{cause:e})}}},1695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let n=r(7212),a=r(5050);class i{static fromStatic(e){return new i(e,{metadata:{}})}constructor(e,{contentType:t,waitUntil:r,metadata:n}){this.response=e,this.contentType=t,this.metadata=n,this.waitUntil=r}assignMetadata(e){Object.assign(this.metadata,e)}get isNull(){return null===this.response}get isDynamic(){return"string"!=typeof this.response}toUnchunkedBuffer(e=!1){if(null===this.response)throw Error("Invariant: null responses cannot be unchunked");if("string"!=typeof this.response){if(!e)throw Error("Invariant: dynamic responses cannot be unchunked. This is a bug in Next.js");return(0,n.streamToBuffer)(this.readable)}return Buffer.from(this.response)}toUnchunkedString(e=!1){if(null===this.response)throw Error("Invariant: null responses cannot be unchunked");if("string"!=typeof this.response){if(!e)throw Error("Invariant: dynamic responses cannot be unchunked. This is a bug in Next.js");return(0,n.streamToString)(this.readable)}return this.response}get readable(){if(null===this.response)throw Error("Invariant: null responses cannot be streamed");if("string"==typeof this.response)throw Error("Invariant: static responses cannot be streamed");return Buffer.isBuffer(this.response)?(0,n.streamFromBuffer)(this.response):Array.isArray(this.response)?(0,n.chainStreams)(...this.response):this.response}chain(e){let t;if(null===this.response)throw Error("Invariant: response is null. This is a bug in Next.js");"string"==typeof this.response?t=[(0,n.streamFromString)(this.response)]:Array.isArray(this.response)?t=this.response:Buffer.isBuffer(this.response)?t=[(0,n.streamFromBuffer)(this.response)]:t=[this.response],t.push(e),this.response=t}async pipeTo(e){try{await this.readable.pipeTo(e,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await e.close()}catch(t){if((0,a.isAbortError)(t)){await e.abort(t);return}throw t}}async pipeToNodeResponse(e){await (0,a.pipeToNodeResponse)(this.readable,e,this.waitUntil)}}},2332:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{NEXT_REQUEST_META:function(){return r},addRequestMeta:function(){return i},getNextInternalQuery:function(){return s},getRequestMeta:function(){return n},removeRequestMeta:function(){return o},setRequestMeta:function(){return a}});let r=Symbol.for("NextInternalRequestMeta");function n(e,t){let n=e[r]||{};return"string"==typeof t?n[t]:n}function a(e,t){return e[r]=t,t}function i(e,t,r){let i=n(e);return i[t]=r,a(e,i)}function o(e,t){let r=n(e);return delete r[t],a(e,r)}function s(e){let t={};for(let r of["__nextDefaultLocale","__nextFallback","__nextLocale","__nextSsgPath","_nextBubbleNoFallback","__nextDataReq","__nextInferredLocaleFromDefault"])r in e&&(t[r]=e[r]);return t}},6807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connection",{enumerable:!0,get:function(){return l}});let n=r(9294),a=r(3033),i=r(436),o=r(2312),s=r(457),u=r(4982);function l(){let e=n.workAsyncStorage.getStore(),t=a.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,u.isRequestAPICallableInsideAfter)())throw Error(`Route ${e.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`);if(e.forceStatic)return Promise.resolve(void 0);if(t){if("cache"===t.type)throw Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===t.type)throw Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(e.dynamicShouldError)throw new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender"===t.type)return(0,s.makeHangingPromise)(t.renderSignal,"`connection()`");"prerender-ppr"===t.type?(0,i.postponeWithTracking)(e.route,"connection",t.dynamicTracking):"prerender-legacy"===t.type&&(0,i.throwToInterruptStaticGeneration)("connection",e,t)}(0,i.trackDynamicDataInDynamicRender)(e,t)}return Promise.resolve(void 0)}},4982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{describeHasCheckingStringProperty:function(){return s},describeStringPropertyAccess:function(){return o},isRequestAPICallableInsideAfter:function(){return c},throwWithStaticGenerationBailoutError:function(){return u},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return l},wellKnownProperties:function(){return d}});let n=r(2312),a=r(3295),i=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function o(e,t){return i.test(t)?`\`${e}.${t}\``:`\`${e}[${JSON.stringify(t)}]\``}function s(e,t){let r=JSON.stringify(t);return`\`Reflect.has(${e}, ${r})\`, \`${r} in ${e}\`, or similar`}function u(e,t){throw new n.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}function l(e,t){throw new n.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}function c(){let e=a.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}let d=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},358:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),e}(r(7395),t),a=r(302),i=r(676),o=r(3903);class s{constructor(e){this.batcher=a.Batcher.create({cacheKeyFn:({key:e,isOnDemandRevalidate:t})=>`${e}-${t?"1":"0"}`,schedulerFn:i.scheduleOnNextTick}),this.minimalMode=e}async get(e,t,r){if(!e)return t({hasResolved:!1,previousCacheEntry:null});let{incrementalCache:a,isOnDemandRevalidate:i=!1,isFallback:s=!1,isRoutePPREnabled:u=!1}=r,l=await this.batcher.batch({key:e,isOnDemandRevalidate:i},async(l,c)=>{var d,p;if(this.minimalMode&&(null==(d=this.previousCacheItem)?void 0:d.key)===l&&this.previousCacheItem.expiresAt>Date.now())return this.previousCacheItem.entry;let f=(0,o.routeKindToIncrementalCacheKind)(r.routeKind),h=!1,m=null;try{if((m=this.minimalMode?null:await a.get(e,{kind:f,isRoutePPREnabled:r.isRoutePPREnabled,isFallback:s}))&&!i){if((null==(p=m.value)?void 0:p.kind)===n.CachedRouteKind.FETCH)throw Error("invariant: unexpected cachedResponse of kind fetch in response cache");if(c({...m,revalidate:m.curRevalidate}),h=!0,!m.isStale||r.isPrefetch)return null}let d=await t({hasResolved:h,previousCacheEntry:m,isRevalidating:!0});if(!d)return this.minimalMode&&(this.previousCacheItem=void 0),null;let g=await (0,o.fromResponseCacheEntry)({...d,isMiss:!m});if(!g)return this.minimalMode&&(this.previousCacheItem=void 0),null;return i||h||(c(g),h=!0),void 0!==g.revalidate&&(this.minimalMode?this.previousCacheItem={key:l,entry:g,expiresAt:Date.now()+1e3}:await a.set(e,g.value,{revalidate:g.revalidate,isRoutePPREnabled:u,isFallback:s})),g}catch(t){if(m&&await a.set(e,m.value,{revalidate:Math.min(Math.max(m.revalidate||3,3),30),isRoutePPREnabled:u,isFallback:s}),h)return console.error(t),null;throw t}});return(0,o.toResponseCacheEntry)(l)}}},7395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{CachedRouteKind:function(){return r},IncrementalCacheKind:function(){return n}});var r=function(e){return e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.PAGES="PAGES",e.FETCH="FETCH",e.REDIRECT="REDIRECT",e.IMAGE="IMAGE",e}({}),n=function(e){return e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.PAGES="PAGES",e.FETCH="FETCH",e.IMAGE="IMAGE",e}({})},3903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromResponseCacheEntry:function(){return o},routeKindToIncrementalCacheKind:function(){return u},toResponseCacheEntry:function(){return s}});let n=r(7395),a=function(e){return e&&e.__esModule?e:{default:e}}(r(1695)),i=r(8203);async function o(e){var t,r;return{...e,value:(null==(t=e.value)?void 0:t.kind)===n.CachedRouteKind.PAGES?{kind:n.CachedRouteKind.PAGES,html:await e.value.html.toUnchunkedString(!0),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:(null==(r=e.value)?void 0:r.kind)===n.CachedRouteKind.APP_PAGE?{kind:n.CachedRouteKind.APP_PAGE,html:await e.value.html.toUnchunkedString(!0),postponed:e.value.postponed,rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,segmentData:e.value.segmentData}:e.value}}async function s(e){var t,r,i;if(!e)return null;if((null==(t=e.value)?void 0:t.kind)===n.CachedRouteKind.FETCH)throw Error("Invariant: unexpected cachedResponse of kind fetch in response cache");return{isMiss:e.isMiss,isStale:e.isStale,revalidate:e.revalidate,isFallback:e.isFallback,value:(null==(r=e.value)?void 0:r.kind)===n.CachedRouteKind.PAGES?{kind:n.CachedRouteKind.PAGES,html:a.default.fromStatic(e.value.html),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:(null==(i=e.value)?void 0:i.kind)===n.CachedRouteKind.APP_PAGE?{kind:n.CachedRouteKind.APP_PAGE,html:a.default.fromStatic(e.value.html),rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,postponed:e.value.postponed,segmentData:e.value.segmentData}:e.value}}function u(e){switch(e){case i.RouteKind.PAGES:return n.IncrementalCacheKind.PAGES;case i.RouteKind.APP_PAGE:return n.IncrementalCacheKind.APP_PAGE;case i.RouteKind.IMAGE:return n.IncrementalCacheKind.IMAGE;case i.RouteKind.APP_ROUTE:return n.IncrementalCacheKind.APP_ROUTE;default:throw Error(`Unexpected route kind ${e}`)}}},8203:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouteKind",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},260:(e,t,r)=>{"use strict";e.exports=r(846)},6301:(e,t,r)=>{"use strict";e.exports=r(260).vendored["react-rsc"].React},2706:(e,t,r)=>{"use strict";e.exports=r(4870)},2817:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ENCODED_TAGS",{enumerable:!0,get:function(){return r}});let r={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])}}},7212:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{chainStreams:function(){return d},continueDynamicHTMLResume:function(){return P},continueDynamicPrerender:function(){return T},continueFizzStream:function(){return S},continueStaticPrerender:function(){return E},createBufferedTransformStream:function(){return g},createDocumentClosingStream:function(){return O},createRootLayoutValidatorStream:function(){return x},renderToInitialFizzStream:function(){return y},streamFromBuffer:function(){return f},streamFromString:function(){return p},streamToBuffer:function(){return h},streamToString:function(){return m}});let n=r(9794),a=r(1974),i=r(523),o=r(676),s=r(2817),u=r(1505);function l(){}let c=new TextEncoder;function d(...e){if(0===e.length)throw Error("Invariant: chainStreams requires at least one stream");if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,n=e[0].pipeTo(r,{preventClose:!0}),a=1;for(;a<e.length-1;a++){let t=e[a];n=n.then(()=>t.pipeTo(r,{preventClose:!0}))}let i=e[a];return(n=n.then(()=>i.pipeTo(r))).catch(l),t}function p(e){return new ReadableStream({start(t){t.enqueue(c.encode(e)),t.close()}})}function f(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}async function h(e){let t=e.getReader(),r=[];for(;;){let{done:e,value:n}=await t.read();if(e)break;r.push(n)}return Buffer.concat(r)}async function m(e){let t=new TextDecoder("utf-8",{fatal:!0}),r="";for await(let n of e)r+=t.decode(n,{stream:!0});return r+t.decode()}function g(){let e,t=[],r=0,n=n=>{if(e)return;let a=new i.DetachedPromise;e=a,(0,o.scheduleImmediate)(()=>{try{let e=new Uint8Array(r),a=0;for(let r=0;r<t.length;r++){let n=t[r];e.set(n,a),a+=n.byteLength}t.length=0,r=0,n.enqueue(e)}catch{}finally{e=void 0,a.resolve()}})};return new TransformStream({transform(e,a){t.push(e),r+=e.byteLength,n(a)},flush(){if(e)return e.promise}})}function y({ReactDOMServer:e,element:t,streamOptions:r}){return(0,n.getTracer)().trace(a.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,r))}function v(e){let t=!1,r=!1,n=!1;return new TransformStream({async transform(a,i){if(n=!0,r){i.enqueue(a);return}let l=await e();if(t){if(l){let e=c.encode(l);i.enqueue(e)}i.enqueue(a),r=!0}else{let e=(0,u.indexOfUint8Array)(a,s.ENCODED_TAGS.CLOSED.HEAD);if(-1!==e){if(l){let t=c.encode(l),r=new Uint8Array(a.length+t.length);r.set(a.slice(0,e)),r.set(t,e),r.set(a.slice(e),e+t.length),i.enqueue(r)}else i.enqueue(a);r=!0,t=!0}}t?(0,o.scheduleImmediate)(()=>{r=!1}):i.enqueue(a)},async flush(t){if(n){let r=await e();r&&t.enqueue(c.encode(r))}}})}function b(e){let t=null,r=!1;async function n(n){if(t)return;let a=e.getReader();await (0,o.atLeastOneTask)();try{for(;;){let{done:e,value:t}=await a.read();if(e){r=!0;return}n.enqueue(t)}}catch(e){n.error(e)}}return new TransformStream({transform(e,r){r.enqueue(e),t||(t=n(r))},flush(e){if(!r)return t||n(e)}})}let _="</body></html>";function w(){let e=!1;return new TransformStream({transform(t,r){if(e)return r.enqueue(t);let n=(0,u.indexOfUint8Array)(t,s.ENCODED_TAGS.CLOSED.BODY_AND_HTML);if(n>-1){if(e=!0,t.length===s.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length)return;let a=t.slice(0,n);if(r.enqueue(a),t.length>s.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length+n){let e=t.slice(n+s.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length);r.enqueue(e)}}else r.enqueue(t)},flush(e){e.enqueue(s.ENCODED_TAGS.CLOSED.BODY_AND_HTML)}})}function x(){let e=!1,t=!1;return new TransformStream({async transform(r,n){!e&&(0,u.indexOfUint8Array)(r,s.ENCODED_TAGS.OPENING.HTML)>-1&&(e=!0),!t&&(0,u.indexOfUint8Array)(r,s.ENCODED_TAGS.OPENING.BODY)>-1&&(t=!0),n.enqueue(r)},flush(r){let n=[];e||n.push("html"),t||n.push("body"),n.length&&r.enqueue(c.encode(`<script>self.__next_root_layout_missing_tags=${JSON.stringify(n)}</script>`))}})}async function S(e,{suffix:t,inlinedDataStream:r,isStaticGeneration:n,getServerInsertedHTML:a,serverInsertedHTMLToHead:s,validateRootLayout:u}){let l=t?t.split(_,1)[0]:null;return n&&"allReady"in e&&await e.allReady,function(e,t){let r=e;for(let e of t)e&&(r=r.pipeThrough(e));return r}(e,[g(),a&&!s?new TransformStream({transform:async(e,t)=>{let r=await a();r&&t.enqueue(c.encode(r)),t.enqueue(e)}}):null,null!=l&&l.length>0?function(e){let t,r=!1,n=r=>{let n=new i.DetachedPromise;t=n,(0,o.scheduleImmediate)(()=>{try{r.enqueue(c.encode(e))}catch{}finally{t=void 0,n.resolve()}})};return new TransformStream({transform(e,t){t.enqueue(e),r||(r=!0,n(t))},flush(n){if(t)return t.promise;r||n.enqueue(c.encode(e))}})}(l):null,r?b(r):null,u?x():null,w(),a&&s?v(a):null])}async function T(e,{getServerInsertedHTML:t}){return e.pipeThrough(g()).pipeThrough(new TransformStream({transform(e,t){(0,u.isEquivalentUint8Arrays)(e,s.ENCODED_TAGS.CLOSED.BODY_AND_HTML)||(0,u.isEquivalentUint8Arrays)(e,s.ENCODED_TAGS.CLOSED.BODY)||(0,u.isEquivalentUint8Arrays)(e,s.ENCODED_TAGS.CLOSED.HTML)||(e=(0,u.removeFromUint8Array)(e,s.ENCODED_TAGS.CLOSED.BODY),e=(0,u.removeFromUint8Array)(e,s.ENCODED_TAGS.CLOSED.HTML),t.enqueue(e))}})).pipeThrough(v(t))}async function E(e,{inlinedDataStream:t,getServerInsertedHTML:r}){return e.pipeThrough(g()).pipeThrough(v(r)).pipeThrough(b(t)).pipeThrough(w())}async function P(e,{inlinedDataStream:t,getServerInsertedHTML:r}){return e.pipeThrough(g()).pipeThrough(v(r)).pipeThrough(b(t)).pipeThrough(w())}function O(){return p(_)}},1505:(e,t)=>{"use strict";function r(e,t){if(0===t.length)return 0;if(0===e.length||t.length>e.length)return -1;for(let r=0;r<=e.length-t.length;r++){let n=!0;for(let a=0;a<t.length;a++)if(e[r+a]!==t[a]){n=!1;break}if(n)return r}return -1}function n(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function a(e,t){let n=r(e,t);if(0===n)return e.subarray(t.length);if(!(n>-1))return e;{let r=new Uint8Array(e.length-t.length);return r.set(e.slice(0,n)),r.set(e.slice(n+t.length),n),r}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{indexOfUint8Array:function(){return r},isEquivalentUint8Arrays:function(){return n},removeFromUint8Array:function(){return a}})},7854:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return n},RemovedUAError:function(){return a}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class n extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class a extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},1520:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return n.ImageResponse},NextRequest:function(){return a.NextRequest},NextResponse:function(){return i.NextResponse},URLPattern:function(){return s.URLPattern},after:function(){return u.after},connection:function(){return l.connection},userAgent:function(){return o.userAgent},userAgentFromString:function(){return o.userAgentFromString}});let n=r(4159),a=r(1639),i=r(4899),o=r(2215),s=r(1512),u=r(5036),l=r(6807)},9619:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return c}});let n=r(1197),a=r(3386),i=r(9545),o=r(4171),s=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function u(e,t){return new URL(String(e).replace(s,"localhost"),t&&String(t).replace(s,"localhost"))}let l=Symbol("NextURLInternal");class c{constructor(e,t,r){let n,a;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,a=r||{}):a=r||t||{},this[l]={url:u(e,n??a.base),options:a,basePath:""},this.analyze()}analyze(){var e,t,r,a,s;let u=(0,o.getNextPathnameInfo)(this[l].url.pathname,{nextConfig:this[l].options.nextConfig,parseData:!0,i18nProvider:this[l].options.i18nProvider}),c=(0,i.getHostname)(this[l].url,this[l].options.headers);this[l].domainLocale=this[l].options.i18nProvider?this[l].options.i18nProvider.detectDomainLocale(c):(0,n.detectDomainLocale)(null==(t=this[l].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,c);let d=(null==(r=this[l].domainLocale)?void 0:r.defaultLocale)||(null==(s=this[l].options.nextConfig)?void 0:null==(a=s.i18n)?void 0:a.defaultLocale);this[l].url.pathname=u.pathname,this[l].defaultLocale=d,this[l].basePath=u.basePath??"",this[l].buildId=u.buildId,this[l].locale=u.locale??d,this[l].trailingSlash=u.trailingSlash}formatPathname(){return(0,a.formatNextPathnameInfo)({basePath:this[l].basePath,buildId:this[l].buildId,defaultLocale:this[l].options.forceLocale?void 0:this[l].defaultLocale,locale:this[l].locale,pathname:this[l].url.pathname,trailingSlash:this[l].trailingSlash})}formatSearch(){return this[l].url.search}get buildId(){return this[l].buildId}set buildId(e){this[l].buildId=e}get locale(){return this[l].locale??""}set locale(e){var t,r;if(!this[l].locale||!(null==(r=this[l].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[l].locale=e}get defaultLocale(){return this[l].defaultLocale}get domainLocale(){return this[l].domainLocale}get searchParams(){return this[l].url.searchParams}get host(){return this[l].url.host}set host(e){this[l].url.host=e}get hostname(){return this[l].url.hostname}set hostname(e){this[l].url.hostname=e}get port(){return this[l].url.port}set port(e){this[l].url.port=e}get protocol(){return this[l].url.protocol}set protocol(e){this[l].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[l].url=u(e),this.analyze()}get origin(){return this[l].url.origin}get pathname(){return this[l].url.pathname}set pathname(e){this[l].url.pathname=e}get hash(){return this[l].url.hash}set hash(e){this[l].url.hash=e}get search(){return this[l].url.search}set search(e){this[l].url.search=e}get password(){return this[l].url.password}set password(e){this[l].url.password=e}get username(){return this[l].url.username}set username(e){this[l].url.username=e}get basePath(){return this[l].basePath}set basePath(e){this[l].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new c(String(this),this[l].options)}}},9534:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{NextRequestAdapter:function(){return d},ResponseAborted:function(){return u},ResponseAbortedName:function(){return s},createAbortController:function(){return l},signalFromNodeResponse:function(){return c}});let n=r(2332),a=r(5225),i=r(1639),o=r(2251),s="ResponseAborted";class u extends Error{constructor(...e){super(...e),this.name=s}}function l(e){let t=new AbortController;return e.once("close",()=>{e.writableFinished||t.abort(new u)}),t}function c(e){let{errored:t,destroyed:r}=e;if(t||r)return AbortSignal.abort(t??new u);let{signal:n}=l(e);return n}class d{static fromBaseNextRequest(e,t){if((0,o.isNodeNextRequest)(e))return d.fromNodeNextRequest(e,t);throw Error("Invariant: Unsupported NextRequest type")}static fromNodeNextRequest(e,t){let r,o=null;if("GET"!==e.method&&"HEAD"!==e.method&&e.body&&(o=e.body),e.url.startsWith("http"))r=new URL(e.url);else{let t=(0,n.getRequestMeta)(e,"initURL");r=t&&t.startsWith("http")?new URL(e.url,t):new URL(e.url,"http://n")}return new i.NextRequest(r,{method:e.method,headers:(0,a.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:t,...t.aborted?{}:{body:o}})}static fromWebNextRequest(e){let t=null;return"GET"!==e.method&&"HEAD"!==e.method&&(t=e.body),new i.NextRequest(e.url,{method:e.method,headers:(0,a.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:e.request.signal,...e.request.signal.aborted?{}:{body:t}})}}},614:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},9181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies},stringifyCookie:function(){return n.stringifyCookie}});let n=r(134)},4159:(e,t)=>{"use strict";function r(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},1639:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return s},NextRequest:function(){return u}});let n=r(9619),a=r(5225),i=r(7854),o=r(9181),s=Symbol("internal request");class u extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,a.validateURL)(r),e instanceof Request?super(e,t):super(r,t);let i=new n.NextURL(r,{headers:(0,a.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[s]={cookies:new o.RequestCookies(this.headers),nextUrl:i,url:i.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[s].cookies}get nextUrl(){return this[s].nextUrl}get page(){throw new i.RemovedPageError}get ua(){throw new i.RemovedUAError}get url(){return this[s].url}}},4899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return d}});let n=r(9181),a=r(9619),i=r(5225),o=r(614),s=r(9181),u=Symbol("internal response"),l=new Set([301,302,303,307,308]);function c(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[n,a]of e.request.headers)t.set("x-middleware-request-"+n,a),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);let r=this.headers,l=new Proxy(new s.ResponseCookies(r),{get(e,a,i){switch(a){case"delete":case"set":return(...i)=>{let o=Reflect.apply(e[a],e,i),u=new Headers(r);return o instanceof s.ResponseCookies&&r.set("x-middleware-set-cookie",o.getAll().map(e=>(0,n.stringifyCookie)(e)).join(",")),c(t,u),o};default:return o.ReflectAdapter.get(e,a,i)}}});this[u]={cookies:l,url:t.url?new a.NextURL(t.url,{headers:(0,i.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[u].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!l.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},a=new Headers(null==n?void 0:n.headers);return a.set("Location",(0,i.validateURL)(e)),new d(null,{...n,headers:a,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,i.validateURL)(e)),c(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),c(e,t),new d(null,{...e,headers:t})}}},1512:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},2215:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return a},userAgent:function(){return o},userAgentFromString:function(){return i}});let n=function(e){return e&&e.__esModule?e:{default:e}}(r(4446));function a(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function i(e){return{...(0,n.default)(e),isBot:void 0!==e&&a(e)}}function o({headers:e}){return i(e.get("user-agent")||void 0)}},5225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return a},normalizeNextQueryParam:function(){return u},splitCookiesString:function(){return i},toNodeOutgoingHttpHeaders:function(){return o},validateURL:function(){return s}});let n=r(2216);function a(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function i(e){var t,r,n,a,i,o=[],s=0;function u(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,i=!1;u();)if(","===(r=e.charAt(s))){for(n=s,s+=1,u(),a=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(i=!0,s=a,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!i||s>=e.length)&&o.push(e.substring(t,e.length))}return o}function o(e){let t={},r=[];if(e)for(let[n,a]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...i(a)),t[n]=1===r.length?r[0]:r):t[n]=a;return t}function s(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}function u(e,t){for(let r of[n.NEXT_QUERY_PARAM_PREFIX,n.NEXT_INTERCEPTION_MARKER_PREFIX])e!==r&&e.startsWith(r)&&t(e.substring(r.length))}},9545:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},1197:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let i of(r&&(r=r.toLowerCase()),e)){var n,a;if(t===(null==(n=i.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===i.defaultLocale.toLowerCase()||(null==(a=i.locales)?void 0:a.some(e=>e.toLowerCase()===r)))return i}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},9160:(e,t)=>{"use strict";function r(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},9212:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"InvariantError",{enumerable:!0,get:function(){return r}});class r extends Error{constructor(e,t){super("Invariant: "+(e.endsWith(".")?e:e+".")+" This is a bug in Next.js.",t),this.name="InvariantError"}}},2111:(e,t)=>{"use strict";function r(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isThenable",{enumerable:!0,get:function(){return r}})},6435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return i}});let n=r(7327),a=r(7070);function i(e,t,r,i){if(!t||t===r)return e;let o=e.toLowerCase();return!i&&((0,a.pathHasPrefix)(o,"/api")||(0,a.pathHasPrefix)(o,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},7327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return a}});let n=r(7630);function a(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:a,hash:i}=(0,n.parsePath)(e);return""+t+r+a+i}},7822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return a}});let n=r(7630);function a(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:a,hash:i}=(0,n.parsePath)(e);return""+r+t+a+i}},3386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=r(5e3),a=r(7327),i=r(7822),o=r(6435);function s(e){let t=(0,o.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,i.addPathSuffix)((0,a.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,a.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,i.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},4171:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=r(9160),a=r(2556),i=r(7070);function o(e,t){var r,o;let{basePath:s,i18n:u,trailingSlash:l}=null!=(r=t.nextConfig)?r:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):l};s&&(0,i.pathHasPrefix)(c.pathname,s)&&(c.pathname=(0,a.removePathPrefix)(c.pathname,s),c.basePath=s);let d=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];c.buildId=r,d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=d)}if(u){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,n.normalizeLocalePath)(c.pathname,u.locales);c.locale=e.detectedLocale,c.pathname=null!=(o=e.pathname)?o:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,n.normalizeLocalePath)(d,u.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},7630:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},7070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return a}});let n=r(7630);function a(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},2556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return a}});let n=r(7070);function a(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},5e3:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},5487:e=>{"use strict";let t="undefined"!=typeof Buffer,r=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,n=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function a(e,a,o){null==o&&null!==a&&"object"==typeof a&&(o=a,a=void 0),t&&Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let s=JSON.parse(e,a);if(null===s||"object"!=typeof s)return s;let u=o&&o.protoAction||"error",l=o&&o.constructorAction||"error";if("ignore"===u&&"ignore"===l)return s;if("ignore"!==u&&"ignore"!==l){if(!1===r.test(e)&&!1===n.test(e))return s}else if("ignore"!==u&&"ignore"===l){if(!1===r.test(e))return s}else if(!1===n.test(e))return s;return i(s,{protoAction:u,constructorAction:l,safe:o&&o.safe})}function i(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let a=[e];for(;a.length;){let e=a;for(let i of(a=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(!0===n)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(i,"constructor")&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(!0===n)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(let e in i){let t=i[e];t&&"object"==typeof t&&a.push(t)}}}return e}function o(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a(e,t,r)}finally{Error.stackTraceLimit=n}}e.exports=o,e.exports.default=o,e.exports.parse=o,e.exports.safeParse=function(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=r}},e.exports.scan=i}};var t=require("../../../webpack-runtime.js");t.C(e);var r=t(t.s=6816);module.exports=r})();